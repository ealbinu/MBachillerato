import{i as x,r as z,l as ge,o as s,c as I,w,a as l,b as t,t as O,u as d,F as b,d as g,T as ee,p as se,e as ae,f as pe,n as R,g as k,h as p,j as le,k as X,m as q,q as Q,s as te,v as M,_ as Z,x as ye,y as $e,z as Se,A as E,B as be,C as oe,D as W,E as ue,G as ve,V as we,H as Ce,I as xe,J as Te,K as Ae,L as Ie,M as Oe,N as ze,O as ne,P as Le}from"./vendor.11e6e67b.js";const De=function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))o(c);new MutationObserver(c=>{for(const i of c)if(i.type==="childList")for(const u of i.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&o(u)}).observe(document,{childList:!0,subtree:!0});function n(c){const i={};return c.integrity&&(i.integrity=c.integrity),c.referrerpolicy&&(i.referrerPolicy=c.referrerpolicy),c.crossorigin==="use-credentials"?i.credentials="include":c.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(c){if(c.ep)return;c.ep=!0;const i=n(c);fetch(c.href,i)}};De();var H=(e,a)=>{const n=e.__vccOpts||e;for(const[o,c]of a)n[o]=c;return n};const ce=e=>(se("data-v-0f645ab4"),e=e(),ae(),e),je={class:"container text-center"},Ne={class:"description my-2"},Ve={class:"my-2"},Be=ce(()=>t("hr",null,null,-1)),Pe=ce(()=>t("h4",{class:"my-1"},"Aprendizajes esperados",-1)),Fe={class:"mb-2"},Me=ce(()=>t("h4",{class:"my-1"},"Contenido central",-1)),Ee={class:"mb-2"},Ue=["data-animation-path","data-name"],Re={emits:["start"],setup(e,{emit:a}){const n=x("activityFile");x("statusFile");const o=z(),c=z(!0),i=()=>{c.value=!1},u=()=>{a("start")};return ge.searchAnimations(),(v,r)=>(s(),I(ee,{name:"zoom",onAfterLeave:u},{default:w(()=>[c.value?(s(),l("div",{key:0,class:"dialog intro",ref_key:"introContainer",ref:o},[t("div",je,[t("div",Ne,[t("h1",Ve,O(d(n).title),1),t("p",null,O(d(n).asignatura),1),Be,Pe,t("p",Fe,O(d(n).aprendizajes),1),d(n).contenidocentral?(s(),l(b,{key:0},[Me,t("p",Ee,O(d(n).contenidocentral),1)],64)):g("",!0)]),t("button",{class:"important",onClick:i},"Comenzar")]),t("div",{class:"lottie","data-animation-path":"odas/animations/intro_"+d(n).materia+".json","data-anim-loop":"true","data-name":"intro_"+d(n).materia},null,8,Ue)],512)):g("",!0)]),_:1}))}};var Je=H(Re,[["__scopeId","data-v-0f645ab4"]]);const He={class:"material-icons-two-tone"},P={props:{},setup(e){return(a,n)=>(s(),l("div",He,[pe(a.$slots,"default")]))}};const qe=["innerHTML"],Ge={key:0,class:"dialog"},We=p("close"),Ke={class:"ma-1"},Qe={props:{label:String,classinit:Object},setup(e){const a=z(!1),n=()=>{a.value=!0},o=()=>{a.value=!1};return(c,i)=>(s(),l(b,null,[t("button",{onClick:n,innerHTML:e.label,class:R(e.classinit)},null,10,qe),k(ee,{name:"zoom"},{default:w(()=>[a.value?(s(),l("div",Ge,[t("button",{class:"close",onClick:o},[k(P,null,{default:w(()=>[We]),_:1})]),t("div",Ke,[pe(c.$slots,"default",{},void 0,!0)])])):g("",!0)]),_:3})],64))}};var _e=H(Qe,[["__scopeId","data-v-16797cfb"]]);const Xe=t("hr",null,null,-1),Ye={class:"area row"},Ze=p("Mostrar pantallas"),et=p("Cerrar pantallas"),tt=t("hr",null,null,-1),st={props:{},setup(e){const a=x("activityFile"),n=X(),o=()=>{n.appContext.config.globalProperties.emitter.emit("solve")},c=x("test"),i=x("view"),u=()=>{i.value=!i.value},v=()=>{le(a.id+"_").removeStorageSync("status"),location.reload()};return(r,C)=>d(c)?(s(),l(b,{key:0},[Xe,t("div",{class:"area row mb-1"},[t("button",{class:"test",onClick:o},"Resolver todo")]),t("div",Ye,[t("button",{class:"test",onClick:u},[d(i)?(s(),l(b,{key:1},[et],64)):(s(),l(b,{key:0},[Ze],64))])]),tt,t("div",{class:"area row"},[t("button",{onClick:v},"Reiniciar")])],64)):g("",!0)}};const at=e=>(se("data-v-5e37cb7c"),e=e(),ae(),e),nt={class:"area"},ot=p("donut_large"),lt={class:"label"},ct={class:"progreso"},it=at(()=>t("hr",null,null,-1)),rt={props:{},setup(e){const a=x("statusFile"),n=q(()=>{var o=a.value.answers,c={total:0,unanswered:0};return o&&(c.total=Object.keys(o).length,Object.keys(o).forEach(function(i){o[i],o[i]==null&&c.unanswered++})),c});return(o,c)=>(s(),l("div",nt,[t("h2",null,[k(P,null,{default:w(()=>[ot]),_:1}),t("span",lt,"\xA0Progreso "+O(d(n).total-d(n).unanswered)+" /"+O(d(n).total),1)]),t("div",ct,[t("div",{class:"bar",style:Q("width:"+Math.round((d(n).total-d(n).unanswered)/d(n).total*100)+"%")},null,4)]),it]))}};var dt=H(rt,[["__scopeId","data-v-5e37cb7c"]]);const ut={key:0,class:"area"},vt=p("auto_awesome"),_t={class:"label"},pt={props:{},setup(e){const a=x("statusFile"),n=x("resultsFile"),o=()=>{const c=n.value.oksPercentage;var i="ok1";switch(!0){case(c<=100&&c>75):i="ok4";break;case(c<=75&&c>50):i="ok3";break;case(c<=50&&c>25):i="ok2";break}return i};return(c,i)=>d(a).finalize?(s(),l("div",ut,[t("h2",{class:R(["puntaje",o()])},[k(P,null,{default:w(()=>[vt]),_:1}),t("span",_t,"\xA0Puntaje: "+O(d(n).oksPercentage)+"%",1)],2)])):g("",!0)}};var bt=H(pt,[["__scopeId","data-v-f0824b86"]]);const kt=p("navigate_before"),mt=p("navigate_next"),ft={class:"area"},ht=t("hr",null,null,-1),gt={class:"area row vertical extrainfo"},yt={class:"text-center"},$t=t("h1",{class:"main mb-1"},"Aprendizajes esperados",-1),St={class:"main"},wt={class:"text-center"},Ct=t("h1",{class:"main mb-1"},"Contenido central",-1),xt={class:"main"},Tt=t("hr",null,null,-1),At={class:"area pantallas"},It=["onClick"],Ot={class:"label"},zt=t("hr",null,null,-1),Lt={setup(e){x("blocked");const a=x("activityFile"),n=x("statusFile"),o=z(!0),c=X(),i=u=>{n.value.step=0,n.value.screen=u};return c.appContext.config.globalProperties.emitter.on("sidebarmini",u=>{o.value=!1}),(u,v)=>{const r=te("perfect-scrollbar");return s(),I(ee,{name:"zoom"},{default:w(()=>[t("aside",{class:R(["ActivitySidebar",[o.value?"":"mini"]])},[t("div",{class:"openclosebtn",onClick:v[0]||(v[0]=C=>o.value=!o.value)},[o.value?(s(),I(P,{key:0},{default:w(()=>[kt]),_:1})):(s(),I(P,{key:1},{default:w(()=>[mt]),_:1}))]),k(r,{class:"container"},{default:w(()=>[t("div",ft,[t("h1",null,O(d(a).title),1)]),ht,t("div",gt,[k(_e,{label:"Aprendizajes esperados",classinit:["mb-1"]},{default:w(()=>[t("div",yt,[$t,t("div",St,O(d(a).aprendizajes),1)])]),_:1}),d(a).contenidocentral?(s(),I(_e,{key:0,label:"Contenido central"},{default:w(()=>[t("div",wt,[Ct,t("div",xt,O(d(a).contenidocentral),1)])]),_:1})):g("",!0)]),Tt,t("div",At,[t("ul",null,[(s(!0),l(b,null,M(d(a).screens,(C,A)=>(s(),l("li",{class:R(["screenItem",A==d(n).screen?"active":""]),onClick:$=>i(A)},[k(P,{class:R(A==d(n).screen?"active":"")},{default:w(()=>[p(O(C.icon),1)]),_:2},1032,["class"]),t("span",Ot,"\xA0"+O(C.title),1)],10,It))),256))])]),zt,k(dt),k(bt),k(st)]),_:1})],2)]),_:1})}}};const Dt=["innerHTML"],jt=["innerHTML"],ke={props:{data:Object},setup(e){const a=e,n=z(!1),o=q(()=>({"--fontSize":a.data.size||"1rem","--fontSizeBlock":a.data.size||"1.5rem"})),c=i=>window.MathJax.tex2svg(i).getElementsByTagName("svg")[0].outerHTML;return setTimeout(()=>{n.value=!0},500),(i,u)=>n.value?(s(),l(b,{key:0},[e.data.block?(s(),l("div",{key:0,class:"blockmathCont",style:Q(d(o)),innerHTML:c(e.data.math)},null,12,Dt)):(s(),l("span",{key:1,class:"blockmathCont",style:Q(d(o)),innerHTML:c(e.data.math)},null,12,jt))],64)):g("",!0)}};const ie={props:{},setup(e,{emit:a}){const n=x("test"),o=()=>{a("solve")};return(c,i)=>d(n)?(s(),l("button",{key:0,class:"solveModule test",onClick:o},"Resolver")):g("",!0)}};const Nt=["id"],Vt={key:0,class:"drops dropsLeft"},Bt=["data"],Pt={class:"drags"},Ft=["data","data-index"],Mt=p("pan_tool"),Et={key:1,class:"drops dropsRight"},Ut=["data"],Rt={props:{blockid:String,data:Object},setup(e){const a=e,n=x("statusFile"),o=x("blocked"),c=X(),i=z(),u=z();var v="#block-"+a.blockid,r=v+" .drag",C=v+" .drop",A=null,$;const j=()=>{if(A=document.querySelectorAll(v+" .drop"),o)return!1;$=Draggable.create(r,{type:"x,y",bounds:v,zIndexBoost:!1,onDrag:function(f){L(f,this)},onClick:function(f){D(f,this)},onDragEnd:function(f){N(f,this)}})},L=(f,m)=>{for(var _=0;_<A.length;_++){if(m.hitTest(A[_],"40%"))return m.target.classList.add("hover"),A[_].classList.add("hover"),!1;m.target.classList.remove("hover"),A[_].classList.remove("hover")}},D=(f,m)=>{if(i.value!=null)return!1;var _=document.querySelector(v+" .drags");m.target.parentElement!=_&&(_.append(m.target),TweenLite.to(m.target,.2,{x:0,y:0}),y())},N=(f,m)=>{for(var _=!1,B=0;B<A.length;B++)m.hitTest(A[B],"40%")&&(_=!0,A[B].append(m.target),TweenLite.to(m.target,.2,{x:0,y:0}),m.target.classList.remove("hover"),A[B].classList.remove("hover"),y());_||TweenLite.to(m.target,.2,{x:0,y:0})},T=f=>{var m=btoa(f);return m},y=()=>{for(var f=document.querySelectorAll(r),m=[],_=0;_<f.length;_++){var B=f[_].getAttribute("data-index"),G=f[_].parentElement.getAttribute("data");m.push([B,G])}n.value.answers[a.blockid]=m},h=setInterval(function(){Draggable&&(j(),J())},500),J=()=>{clearInterval(h),S()},S=()=>{if(n.value.answers||(n.value.answers={}),n.value.answers[a.blockid]){var f=n.value.answers[a.blockid];for(var m in f){var _=f[m];if(_[1]){var B=document.querySelector(r+'[data-index="'+_[0]+'"]'),G=document.querySelector(C+"[data="+_[1]+"]");G.append(B)}}}else n.value.answers[a.blockid]=null;n.value.finalize&&V()},U=()=>{for(var f=document.querySelectorAll(r),m=0;m<f.length;m++){var _=atob(f[m].getAttribute("data")),B=document.querySelector(C+"[data="+_+"]");B.append(f[m])}y()},V=()=>{for(var f=document.querySelectorAll(r),m=0,_=0;_<f.length;_++){$[_].disable();var B=atob(f[_].getAttribute("data")),G=f[_].parentElement.getAttribute("data");B==G?f[_].classList.add("isok"):(f[_].classList.add("notok"),m++)}m==0?i.value=!0:i.value=!1,n.value.result[a.blockid]=i.value};return c.appContext.config.globalProperties.emitter.on("solve",f=>{U()}),c.appContext.config.globalProperties.emitter.on("finalize",f=>{V()}),(f,m)=>(s(),l(b,null,[t("div",{class:"blockDragDrop",id:"block-"+e.blockid,ref_key:"block",ref:u},[e.data.dropsLeft?(s(),l("section",Vt,[(s(!0),l(b,null,M(e.data.dropsLeft,(_,B)=>(s(),l("div",{class:"drop",data:_[1]},[k(K,{item:_[0],blockid:e.blockid+"-dropLeft-"+B},null,8,["item","blockid"])],8,Bt))),256))])):g("",!0),t("section",Pt,[(s(!0),l(b,null,M(e.data.drags,(_,B)=>(s(),l("div",{class:"drag",data:T(_[1]),"data-index":B},[k(P,null,{default:w(()=>[Mt]),_:1}),k(K,{item:_[0],blockid:e.blockid+"-drag-"+B},null,8,["item","blockid"])],8,Ft))),256))]),e.data.dropsRight?(s(),l("section",Et,[(s(!0),l(b,null,M(e.data.dropsRight,(_,B)=>(s(),l("div",{class:"drop",data:_[1]},[k(K,{item:_[0],blockid:e.blockid+"-dropRight-"+B},null,8,["item","blockid"])],8,Ut))),256))])):g("",!0)],8,Nt),k(ie,{onSolve:U})],64))}};var Jt=H(Rt,[["__scopeId","data-v-cdef1986"]]);const Ht=["id"],qt=["onClick"],Gt=p("touch_app"),Wt={class:"option-letter"},Kt={props:{blockid:String,data:Object},setup(e){const a=e,n=z(),o=x("statusFile"),c=x("blocked"),i=X(),u=z(),v=z([]);var r=z(!0);const C=T=>"abcdefghijk"[T],A=()=>{for(var T in a.data.options)a.data.options,v.value[T]=!1;$(),o.value.answers||(o.value.answers={}),o.value.answers[a.blockid]?v.value=o.value.answers[a.blockid]:o.value.answers[a.blockid]=null},$=()=>{var T=0;a.data.options.forEach(y=>{y[1]&&(T+=1)}),T>1&&(r.value=!1)};A();const j=T=>{if(c||o.value.finalize)return!1;if(r.value){for(var y in v.value)v.value[y]=!1;v.value[T]=!0}else v.value[T]=!v.value[T];o.value.answers[a.blockid]=v.value},L=()=>{for(var T=a.data.options,y=0;y<T.length;y++)T[y][1]?v.value[y]=!0:v.value[y]=!1;o.value.answers[a.blockid]=v.value},D=()=>{for(var T=a.data.options,y=[],h=0;h<T.length;h++)y.push(T[h][1]);Z.isEqual(y,v.value)?(n.value=!0,u.value.classList.add("isok")):(n.value=!1,u.value.classList.add("notok")),o.value.result[a.blockid]=n.value};i.appContext.config.globalProperties.emitter.on("solve",T=>{L()}),i.appContext.config.globalProperties.emitter.on("finalize",T=>{D()});const N=q(()=>({"--block-grid-template-columns":a.data.columns||"1fr 1fr 1fr 1fr","--block-grid-template-columns-responsive":a.data.columnsResponsive||"1fr","--block-grid-gap":a.data.gap||"10px"}));return(T,y)=>(s(),l(b,null,[t("div",{class:"blockSelect",id:"block-"+e.blockid,ref_key:"block",ref:u,style:Q(d(N))},[(s(!0),l(b,null,M(e.data.options,(h,J)=>(s(),l("div",{class:R(["blockSelectOption",v.value[J]?"active":""]),onClick:S=>j(J)},[k(P,null,{default:w(()=>[Gt]),_:1}),t("div",Wt,O(C(J)),1),k(K,{item:h[0],blockid:e.blockid+"-selectitem"},null,8,["item","blockid"])],10,qt))),256))],12,Ht),k(ie,{onSolve:L})],64))}};const Qt=["src"],Xt={props:{data:Object},setup(e){const a=x("activityFile"),n=q(()=>({}));return(o,c)=>(s(),l("img",{class:R(["blockImg",e.data.class]),src:"odas/"+d(a).id+"/"+e.data.img,style:Q(d(n))},null,14,Qt))}};var me=H(Xt,[["__scopeId","data-v-2c5a5141"]]);const Yt=["title"],Zt=["innerHTML"],es=p("contact_support"),ts={key:2,class:"termDefinition"},ss={key:0},as={key:0},ns={props:{data:{type:Object}},setup(e){const a=z(!1),n=()=>{a.value=!a.value};return(o,c)=>(s(),l("div",{class:"blockTerm",title:e.data.d,onClick:n},[e.data.t?(s(),l("span",{key:0,innerHTML:e.data.t},null,8,Zt)):g("",!0),e.data.i?(s(),I(me,{key:1,data:{img:e.data.i}},null,8,["data"])):g("",!0),k(P,null,{default:w(()=>[es]),_:1}),a.value?(s(),l("div",ts,[typeof e.data.d=="string"?(s(),l("p",ss,O(e.data.d),1)):(s(!0),l(b,{key:1},M(e.data.d,(i,u)=>(s(),l(b,null,[typeof i=="string"?(s(),l("p",as,O(i),1)):i.math?(s(),I(ke,{key:1,data:i},null,8,["data"])):g("",!0)],64))),256))])):g("",!0)],8,Yt))}};var os=H(ns,[["__scopeId","data-v-fdef45ae"]]);const ls={props:{data:Object,blockid:String},setup(e){const a=e;return q(()=>({"--fontSize":a.data.size||"1rem"})),(n,o)=>{const c=te("apexchart");return e.data.chart=="line"?(s(),l(b,{key:0},[t("p",null,O(e.data),1),k(c,{type:e.data.chart,options:e.data.options,series:e.data.series},null,8,["type","options","series"])],64)):g("",!0)}}};var cs=ye({props:{data:Object,blockid:String},setup(e){const a=e;q(()=>({"--fontSize":a.data.size||"1rem"}));const n=z(),o=z(),c=z(),i=()=>{let u=n.value.getBoundingClientRect(),v=340,r=200,C=u.width/v;v*=C,r*=C,c.value=functionPlot({title:typeof a.data.plot=="string"?a.data.plot:"",target:o.value,width:v,height:r,yAxis:a.data.yAxis,xAxis:a.data.xAxis,grid:!1,data:a.data.data,annotations:a.data.annotations})};return setTimeout(()=>{i()},500),(u,v)=>(s(),l("div",{class:"blockPlot",ref_key:"blockParent",ref:n},[t("div",{ref_key:"block",ref:o},null,512)],512))}});const is={key:0,class:"dialog"},rs=p("close"),ds={class:"ma-1"},us={props:{data:Object,blockid:String},setup(e){const a=z(!1),n=()=>{a.value=!0},o=()=>{a.value=!1};return(c,i)=>{const u=te("perfect-scrollbar");return s(),l(b,null,[t("button",{class:R(["animate__animated animate__pulse animate__infinite animate__slower",e.data.buttonClass]),onClick:n},[k(K,{item:e.data.button,blockid:e.blockid+"-button"},null,8,["item","blockid"])],2),k(ee,{name:"zoom"},{default:w(()=>[a.value?(s(),l("div",is,[t("button",{class:"close",onClick:o},[k(P,null,{default:w(()=>[rs]),_:1})]),t("div",ds,[k(u,null,{default:w(()=>[(s(!0),l(b,null,M(e.data.content,(v,r)=>(s(),I(K,{item:v,blockid:e.blockid+"-content-"+r},null,8,["item","blockid"]))),256))]),_:1})])])):g("",!0)]),_:1})],64)}}};var vs=H(us,[["__scopeId","data-v-16df3a97"]]);const _s={class:"blockGridItem"},ps={props:{data:Object,blockid:String},setup(e){const a=e,n=q(()=>({"--block-grid-template-columns":a.data.columns||"auto auto auto auto","--block-grid-template-columns-responsive":a.data.columnsResponsive||"auto","--block-grid-gap":a.data.gap||"10px"}));return(o,c)=>(s(),l("div",{class:"blockGrid",style:Q(d(n))},[(s(!0),l(b,null,M(e.data.content,(i,u)=>(s(),l("div",_s,[k(K,{item:i,blockid:e.blockid+"-"+u},null,8,["item","blockid"])]))),256))],4))}};const bs={props:{data:Object,blockid:String},setup(e){const a=q(()=>({}));return(n,o)=>(s(),l("div",{class:R(["blockGroup",e.data.class]),style:Q(d(a))},[(s(!0),l(b,null,M(e.data.content,(c,i)=>(s(),I(K,{item:c,blockid:e.blockid+"-"+i},null,8,["item","blockid"]))),256))],6))}};const ks=["id"],ms=["data"],fs=p("swipe_vertical"),hs={props:{blockid:String,data:Object},setup(e){const a=e,n=z(),o=z(),c=x("statusFile"),i=x("blocked"),u=X(),v=z(Z.shuffle(a.data.items));(()=>{c.value.answers[a.blockid]?v.value=c.value.answers[a.blockid]:c.value.answers[a.blockid]=null})();const C=()=>{c.value.answers[a.blockid]=v.value},A=()=>{v.value=a.data.items,C()},$=()=>{Z.isEqual(v.value,a.data.items)?(n.value=!0,o.value.classList.add("isok")):(n.value=!1,o.value.classList.add("notok")),console.log(n.value),c.value.result[a.blockid]=n.value};return u.appContext.config.globalProperties.emitter.on("solve",j=>{A()}),u.appContext.config.globalProperties.emitter.on("finalize",j=>{$()}),(j,L)=>(s(),l(b,null,[t("div",{class:"blockSortable",id:"block-"+e.blockid,ref_key:"block",ref:o},[k(d($e),{modelValue:v.value,"onUpdate:modelValue":L[0]||(L[0]=D=>v.value=D),"item-key":"id",onEnd:C,sort:!(d(i)||d(c).finalize)},{item:w(({element:D,index:N})=>[t("div",{class:R(["sortable-item",[e.data.numbers?"shownumbers":""]]),data:N+1},[k(P,null,{default:w(()=>[fs]),_:1}),k(K,{item:D,blockid:e.blockid+"-sortableitem"},null,8,["item","blockid"])],10,ms)]),_:1},8,["modelValue","sort"])],8,ks),k(ie,{onSolve:A})],64))}};var gs=H(hs,[["__scopeId","data-v-58149f7f"]]);const ys=["innerHTML"],$s={props:{data:Object},setup(e){const a=e;z(!1);const n=z(),o=z(a.data.text),c=a.data.text.match(/.{1,10}/g),i=Z.throttle(function(){o.value="";let r=0;n.value=setInterval(()=>{o.value+=c[r],r<c.length-1?r+=1:clearInterval(n.value)},100)},4e3),u=(r,C)=>{a.data.animate&&r&&i(),r||(clearInterval(n.value),o.value=a.data.text)},v=q(()=>({"--block-align":a.data.align||"center"}));return(r,C)=>{const A=Se("observe-visibility");return E((s(),l("div",{class:R(["blockText",[e.data.class]]),style:Q(d(v)),innerHTML:o.value},null,14,ys)),[[A,{callback:u}]])}}};var Ss=H($s,[["__scopeId","data-v-16e8c7e5"]]);const ws=["innerHTML"],Cs={key:1},xs={key:2,class:"my-2"},Ts={key:3},K={props:{item:[Object,String],blockid:String},setup(e){return(a,n)=>(s(),l(b,null,[typeof e.item=="string"?(s(),l("span",{key:0,innerHTML:e.item},null,8,ws)):e.item.br?(s(),l("br",Cs)):e.item.hr?(s(),l("hr",xs)):e.item.br?(s(),l("br",Ts)):e.item.text?(s(),I(Ss,{data:e.item,key:e.blockid},null,8,["data"])):e.item.term?(s(),I(os,{key:5,data:e.item},null,8,["data"])):e.item.img?(s(),I(me,{key:6,data:e.item},null,8,["data"])):e.item.math?(s(),I(ke,{key:7,data:e.item},null,8,["data"])):g("",!0),e.item.dragdrop?(s(),I(Jt,{key:8,data:e.item,blockid:e.blockid},null,8,["data","blockid"])):g("",!0),e.item.sortable?(s(),I(gs,{key:9,data:e.item,blockid:e.blockid},null,8,["data","blockid"])):g("",!0),e.item.select?(s(),I(Kt,{key:10,data:e.item,blockid:e.blockid},null,8,["data","blockid"])):g("",!0),e.item.chart?(s(),I(ls,{key:11,data:e.item,blockid:e.blockid},null,8,["data","blockid"])):g("",!0),e.item.dialog?(s(),I(vs,{key:12,data:e.item,blockid:e.blockid},null,8,["data","blockid"])):g("",!0),e.item.plot?(s(),I(cs,{key:13,data:e.item,blockid:e.blockid},null,8,["data","blockid"])):g("",!0),e.item.grid?(s(),I(ps,{key:14,data:e.item,blockid:e.blockid},null,8,["data","blockid"])):g("",!0),e.item.group?(s(),I(bs,{key:15,data:e.item,blockid:e.blockid},null,8,["data","blockid"])):g("",!0)],64))}};const As={class:"blockContainer"},Is={key:0,class:"text-center my-2"},Os={props:{block:Object,blockid:String},setup(e){const a=e,n=x("view"),o=q(()=>({"--block-width":a.block.width||"100%"}));return(c,i)=>e.block.content.length?(s(),l("div",{key:0,class:"block",style:Q(d(o))},[t("div",As,[(s(!0),l(b,null,M(e.block.content,(u,v)=>(s(),I(K,{item:u,blockid:e.blockid+"-"+v,key:v},null,8,["item","blockid"]))),128))]),d(n)?g("",!0):(s(),l("div",Is,[e.block.buttonNextStep?(s(),l("button",{key:0,onClick:i[0]||(i[0]=u=>c.$emit("stepNext"))},O(e.block.buttonNextStep),1)):g("",!0),e.block.buttonNextScreen?(s(),l("button",{key:1,class:"important",onClick:i[1]||(i[1]=u=>c.$emit("screenNext",1))},O(e.block.buttonNextScreen),1)):g("",!0)]))],4)):g("",!0)}},zs={class:"block ScreenBlockEnd"},Ls={class:"text-center"},Ds={class:"my-3"},js=p("De un total de "),Ns=p(" tienes "),Vs={class:"high"},Bs=p("."),Ps=["onClick"],Fs={key:1,class:"my-3"},Ms=t("span",null,[p("Has contestado todas las preguntas. Verifica tus respuestas y da clic en "),t("strong",null,'"finalizar"'),p(".")],-1),Es=[Ms],Us={key:2,class:"my-3"},Rs=t("span",null,"Muy bien. Has llegado al final de la actividad.",-1),Js=[Rs],Hs=t("div",{class:"my-3"},"\xBFDeseas finalizar?",-1),qs=t("hr",null,null,-1),Gs=t("div",{class:"my-3"},[t("strong",null,"Actividad finalizada.")],-1),Ws={class:"my-3"},Ks=p("De un total de "),Qs=p(" obtuviste un "),Xs={class:"high"},Ys=p("."),Zs=t("div",{class:"my-3"},"A continuaci\xF3n podr\xE1s ver un res\xFAmen de tus resultados:",-1),ea={class:"row wrap"},ta=["onClick"],sa=t("div",{class:"my-3"},"Puedes ver tus resultados individuales o repasar los contenidos navegando con el men\xFA de la izquierda.",-1),aa=t("div",{class:"my-3"},"Tambi\xE9n puedes reiniciar la actividad:",-1),na={props:{},setup(e){const a=x("activityFile"),n=x("statusFile"),o=x("resultsFile"),c=X(),i=x("blocked"),u=$=>{var j=$.split("-"),L=j[0],D=j[1],N=a.screens[L].title;return N+" > Bloque "+D},v=$=>{var j=$.split("-"),L=j[0],D=j[1];n.value.screen=L*1,n.value.step=D*1},r=q(()=>{var $=n.value.answers,j={tot:"",total:0,unanswered:{},unansweredLength:0};if($){j.total=Object.keys($).length;var L={};Object.keys($).forEach(function(D){var N=$[D];$[D]==null&&(L[D]=N,j.unansweredLength++)}),Z(L).keys().sort().each(function(D){j.unanswered[D]=L[D]})}return j}),C=()=>{n.value.finalize=!0,c.appContext.config.globalProperties.emitter.emit("finalize");for(var $ in n.value.result)o.value.total++,n.value.result[$]?o.value.oks++:o.value.errors++;o.value.total&&(o.value.oksPercentage=Math.round(o.value.oks*100/o.value.total),o.value.errorsPercentage=100-o.value.oksPercentage)};n.value.finalize&&setTimeout(function(){C()},1e3);const A=()=>{le(a.id+"_").removeStorageSync("status"),location.reload()};return($,j)=>(s(),l("div",zs,[t("div",Ls,[d(n).finalize?(s(),l(b,{key:1},[Gs,d(o).total>0?(s(),l(b,{key:0},[t("div",Ws,[Ks,t("strong",null,O(d(o).total)+" preguntas",1),Qs,t("strong",Xs,O(d(o).oksPercentage)+"% de aciertos",1),Ys]),d(o).errors>0?(s(),l(b,{key:0},[Zs,t("div",ea,[(s(!0),l(b,null,M(d(n).result,(L,D)=>(s(),l("div",{class:R(["px-3 bg-light ma-1 floatcard",L?"isok":"notok"])},[t("button",{class:"bg-clear ma-1",onClick:N=>v(D)},O(u(D)),9,ta)],2))),256))])],64)):g("",!0)],64)):(s(),l(b,{key:1},[],64)),sa,d(i)?g("",!0):(s(),l(b,{key:2},[aa,t("button",{class:"important",onClick:A},"Reiniciar")],64))],64)):(s(),l(b,{key:0},[d(r).unansweredLength?(s(),l(b,{key:0},[t("div",Ds,[t("span",null,[js,t("strong",null,O(d(r).total)+" preguntas",1),Ns,t("strong",Vs,O(d(r).unansweredLength)+" sin contestar",1),Bs])]),(s(!0),l(b,null,M(d(r).unanswered,(L,D)=>(s(),l("button",{class:"high ma-1",onClick:N=>v(D)},O(u(D)),9,Ps))),256))],64)):d(r).total>0?(s(),l("div",Fs,Es)):(s(),l("div",Us,Js)),d(i)?g("",!0):(s(),l(b,{key:3},[Hs,qs,t("div",{class:"my-4"},[t("button",{class:"important",onClick:C},"Finalizar")])],64))],64))])]))}};const fe=e=>(se("data-v-0af9ee72"),e=e(),ae(),e),oa={class:"stepsNavigation"},la=["disabled"],ca=p("navigate_before"),ia=fe(()=>t("span",{class:"txt"},"Anterior",-1)),ra=["disabled"],da=fe(()=>t("span",{class:"txt"},"Siguiente",-1)),ua=p("navigate_next"),va={props:{steps:{type:Number,required:!0}},setup(e,{emit:a}){const n=e,o=x("statusFile");z(0);const c=i=>{(i==-1&&o.value.step>0||i==1&&o.value.step<n.steps-1)&&(o.value.step+=i,a("stepChanged"))};return(i,u)=>(s(),l("div",oa,[t("button",{onClick:u[0]||(u[0]=v=>c(-1)),disabled:d(o).step==0},[k(P,null,{default:w(()=>[ca]),_:1}),ia],8,la),(s(!0),l(b,null,M(e.steps,(v,r)=>(s(),l("div",{class:R(["step",[d(o).step==r?"active":"non-active"]])},null,2))),256)),t("button",{onClick:u[1]||(u[1]=v=>c(1)),disabled:d(o).step==e.steps-1},[da,k(P,null,{default:w(()=>[ua]),_:1})],8,ra)]))}};var _a=H(va,[["__scopeId","data-v-0af9ee72"]]);const pa={key:0,class:"activityScreenTitle"},ba={props:{screenindex:{type:Number},screen:{type:Object,required:!0}},setup(e){const a=e,n=x("view"),o=z(),c=x("statusFile"),i=q(()=>({})),u=()=>{c.value.step++},v=r=>n.value?!0:a.screen.steps?c.value.step==r:!0;return be(()=>c.value.step,(r,C)=>{o.value.$el.scrollTop>0&&(o.value.$el.scrollTop=0)}),(r,C)=>{const A=te("perfect-scrollbar");return s(),l("div",{class:R(["activityScreen",d(n)?"desplegado":""]),style:Q(d(i))},[d(n)?(s(),l("div",pa,O(e.screen.title),1)):g("",!0),k(A,{ref_key:"scroll",ref:o},{default:w(()=>[e.screen.end?E((s(),I(na,{key:1},null,512)),[[oe,e.screen.end]]):(s(!0),l(b,{key:0},M(e.screen.blocks,($,j)=>(s(),I(ee,{name:"slide"},{default:w(()=>[E(k(Os,{block:$,onStepNext:u,onScreenNext:C[0]||(C[0]=L=>r.$emit("screenNext",L)),blockid:e.screenindex+"-"+j},null,8,["block","blockid"]),[[oe,v(j)]])]),_:2},1024))),256))]),_:1},512),e.screen.steps&&!d(n)?(s(),I(_a,{key:1,steps:e.screen.blocks.length},null,8,["steps"])):g("",!0)],6)}}};var ka=H(ba,[["__scopeId","data-v-3104b0ab"]]);const ma={setup(e){const a=x("view"),n=x("activityFile"),o=x("statusFile"),c=u=>{o.value.step=0,o.value.screen+=u},i=u=>a.value?!0:u==o.value.screen;return(u,v)=>(s(),I(ee,{name:"zoom"},{default:w(()=>[t("section",{class:R(["Activity",d(a)?"desplegado":""])},[(s(!0),l(b,null,M(d(n).screens,(r,C)=>E((s(),I(ka,{key:C,screen:r,onScreenNext:c,screenindex:C},null,8,["screen","screenindex"])),[[oe,i(C)]])),128))],2)]),_:1}))}};const re=e=>(se("data-v-68aae306"),e=e(),ae(),e),fa={class:"theform"},ha={class:"row"},ga={class:"field"},ya=p("ID:"),$a={class:"field"},Sa=p("Programa:"),wa=re(()=>t("span",null,"DGETI",-1)),Ca=re(()=>t("span",null,"DGB ",-1)),xa={class:"row"},Ta={class:"field"},Aa=p("Asignatura:"),Ia={class:"field"},Oa=p("Titulo:"),za={class:"field"},La=p("Aprendizajes:"),Da={class:"field"},ja=p("Contenido_central:"),Na={key:0},Va={class:"field in"},Ba=p("library_add"),Pa={class:"inner"},Fa=["onClick"],Ma=p("backspace"),Ea={class:"field"},Ua=p("T\xEDtulo: "),Ra=["onUpdate:modelValue"],Ja={class:"field"},Ha=p("Icono: "),qa=["onUpdate:modelValue"],Ga={class:"field"},Wa=p("Steps: "),Ka=["onUpdate:modelValue"],Qa={class:"field"},Xa=p("End: "),Ya=["onUpdate:modelValue"],Za={key:0},en={class:"field in"},tn=["onClick"],sn=p("library_add"),an={class:"inner"},nn=["onClick"],on=p("backspace"),ln={class:"field"},cn=p("Width: "),rn=["onUpdate:modelValue"],dn=re(()=>t("div",null,null,-1)),un={class:"field in"},vn=["onClick"],_n=["onClick"],pn=["onClick"],bn=["onClick"],kn=["onClick"],mn=["onClick"],fn=["onClick"],hn=["onClick"],gn={class:"inner"},yn=["onClick"],$n=p("backspace"),Sn={key:0,class:"field multi"},wn=p("Simple: "),Cn=["onUpdate:modelValue"],xn={class:"field multi"},Tn=["onUpdate:modelValue"],An={class:"field"},In={class:"thedata"},On={class:"BuilderBar"},zn=p("code"),Ln=p("ondemand_video"),Dn=p("sync_problem"),jn={props:{},setup(e){const a=z(null),n=z("json"),o={text:"",class:""},c={math:"",size:"2rem"},i={simple:"",text:o,math:c,term:{term:1,t:"",d:""},img:{img:""},dragdrop:{dragdrop:!0,drags:[[c,"val"]],dropsLeft:[["Titulo","val"]],dropsRight:["Titulo","val"]},select:{select:!0,options:[[c,!1],[c,!0]]},br:{br:1},br:{br:1}},u={width:"100%",content:[]},v={title:"",icon:"",steps:!0,end:!1,blocks:[u]},r=z({id:"",programa:"DGETI",materia:"",asignatura:"",title:"",aprendizajes:"",contenidocentral:"",screens:[JSON.parse(JSON.stringify(v)),{title:"Finalizar",icon:"flag",end:!0,content:[]}]}),C=()=>{const y=JSON.parse(JSON.stringify(v));r.value.screens.push(y)},A=y=>{const h=JSON.parse(JSON.stringify(u));r.value.screens[y].blocks.push(h)},$=(y,h,J)=>{const S=JSON.parse(JSON.stringify(i[J]));r.value.screens[y].blocks[h].content.push(S)},j=y=>{r.value.screens.splice(y,1)},L=(y,h)=>{r.value.screens[y].blocks.splice(h,1)},D=(y,h,J)=>{r.value.screens[y].blocks[h].content.splice(J,1)},N=()=>{const y=JSON.parse(a.value);a.value="",r.value=y},T=()=>{navigator.clipboard.writeText(JSON.stringify(r.value,null,"	"))};return(y,h)=>{const J=te("perfect-scrollbar");return s(),l(b,null,[k(J,null,{default:w(()=>[t("div",fa,[t("div",ha,[t("div",ga,[ya,E(t("input",{"onUpdate:modelValue":h[0]||(h[0]=S=>r.value.id=S)},null,512),[[W,r.value.id]])]),t("div",$a,[Sa,t("label",null,[E(t("input",{"onUpdate:modelValue":h[1]||(h[1]=S=>r.value.programa=S),placeholder:"programa",type:"radio",value:"DGETI"},null,512),[[ue,r.value.programa]]),wa]),t("label",null,[E(t("input",{"onUpdate:modelValue":h[2]||(h[2]=S=>r.value.programa=S),placeholder:"programa",type:"radio",value:"DGB"},null,512),[[ue,r.value.programa]]),Ca])])]),t("div",xa,[t("div",Ta,[Aa,E(t("input",{"onUpdate:modelValue":h[3]||(h[3]=S=>r.value.asignatura=S)},null,512),[[W,r.value.asignatura]])])]),t("div",Ia,[Oa,E(t("input",{"onUpdate:modelValue":h[4]||(h[4]=S=>r.value.title=S)},null,512),[[W,r.value.title]])]),t("div",za,[La,E(t("input",{"onUpdate:modelValue":h[5]||(h[5]=S=>r.value.aprendizajes=S)},null,512),[[W,r.value.aprendizajes]])]),t("div",Da,[ja,E(t("input",{"onUpdate:modelValue":h[6]||(h[6]=S=>r.value.contenidocentral=S)},null,512),[[W,r.value.contenidocentral]])]),r.value.screens?(s(),l("div",Na,[t("div",Va,[p("Screens ("+O(r.value.screens.length)+"):",1),t("button",{class:"add",onClick:C},[k(P,null,{default:w(()=>[Ba]),_:1})])]),(s(!0),l(b,null,M(r.value.screens,(S,U)=>(s(),l("div",Pa,[t("button",{class:"rm",onClick:V=>j(U)},[k(P,null,{default:w(()=>[Ma]),_:1})],8,Fa),t("div",Ea,[Ua,E(t("input",{"onUpdate:modelValue":V=>S.title=V},null,8,Ra),[[W,S.title]])]),t("div",Ja,[Ha,E(t("input",{"onUpdate:modelValue":V=>S.icon=V},null,8,qa),[[W,S.icon]])]),t("div",Ga,[Wa,E(t("input",{"onUpdate:modelValue":V=>S.steps=V,type:"checkbox"},null,8,Ka),[[ve,S.steps]])]),t("div",Qa,[Xa,E(t("input",{"onUpdate:modelValue":V=>S.end=V,type:"checkbox"},null,8,Ya),[[ve,S.end]])]),S.blocks?(s(),l("div",Za,[t("div",en,[p("Blocks ("+O(S.blocks.length)+"):",1),(s(),l("button",{class:"add",onClick:V=>A(U),key:"addblock"+U},[k(P,null,{default:w(()=>[sn]),_:1})],8,tn))]),(s(!0),l(b,null,M(S.blocks,(V,f)=>(s(),l("div",an,[t("button",{class:"rm",onClick:m=>L(U,f)},[k(P,null,{default:w(()=>[on]),_:1})],8,nn),t("div",ln,[cn,E(t("input",{"onUpdate:modelValue":m=>V.width=m},null,8,rn),[[W,V.width]])]),dn,t("div",un,[p("Content ("+O(V.content.length)+"):",1),t("button",{class:"add",onClick:m=>$(U,f,"simple")},"Simple",8,vn),t("button",{class:"add",onClick:m=>$(U,f,"text")},"Text",8,_n),t("button",{class:"add",onClick:m=>$(U,f,"math")},"Math",8,pn),t("button",{class:"add",onClick:m=>$(U,f,"term")},"Term",8,bn),t("button",{class:"add",onClick:m=>$(U,f,"img")},"Img",8,kn),t("button",{class:"add",onClick:m=>$(U,f,"br")},"br",8,mn),t("button",{class:"add",onClick:m=>$(U,f,"dragdrop")},"dragdrop",8,fn),t("button",{class:"add",onClick:m=>$(U,f,"select")},"select",8,hn)]),(s(!0),l(b,null,M(V.content,(m,_)=>(s(),l("div",gn,[t("button",{class:"rm",onClick:B=>D(U,f,_)},[k(P,null,{default:w(()=>[$n]),_:1})],8,yn),typeof V.content[_]=="string"?(s(),l("div",Sn,[wn,E(t("input",{"onUpdate:modelValue":B=>V.content[_]=B},null,8,Cn),[[W,V.content[_]]])])):(s(!0),l(b,{key:1},M(m,(B,G)=>(s(),l("div",xn,[p(O(G),1),typeof V.content[_][G]=="string"?E((s(),l("input",{key:0,"onUpdate:modelValue":de=>V.content[_][G]=de},null,8,Tn)),[[W,V.content[_][G]]]):(s(!0),l(b,{key:1},M(V.content[_][G],(de,he)=>(s(),l("div",An,O(he),1))),256))]))),256))]))),256))]))),256))])):g("",!0)]))),256))])):g("",!0)])]),_:1}),k(J,null,{default:w(()=>[t("div",In,[t("div",On,[t("button",{onClick:h[7]||(h[7]=S=>n.value="json")},[k(P,null,{default:w(()=>[zn]),_:1})]),t("button",{onClick:h[8]||(h[8]=S=>n.value="play")},[k(P,null,{default:w(()=>[Ln]),_:1})]),t("button",{onClick:h[9]||(h[9]=S=>n.value="import")},[k(P,null,{default:w(()=>[Dn]),_:1})])]),n.value=="json"&&r.value?(s(),I(d(we),{key:0,data:r.value,"show-length":!0,"show-line":!0,"show-select-controller":!0,onClick:T},null,8,["data"])):n.value=="play"?(s(),l(b,{key:1},[],64)):n.value=="import"?E((s(),l("textarea",{key:2,"onUpdate:modelValue":h[10]||(h[10]=S=>a.value=S),onChange:N,placeholder:"Import json"},null,544)),[[W,a.value]]):g("",!0)])]),_:1})],64)}}};var Nn=H(jn,[["__scopeId","data-v-68aae306"]]);const Vn={setup(e){const a=x("activityFile"),n=x("statusFile"),o=x("builderFile"),c=i=>{n.value.state=i};return(i,u)=>(s(),l(b,null,[d(o)?(s(),I(Nn,{key:0})):g("",!0),d(a)&&d(n)?(s(),l(b,{key:1},[d(n).state=="@intro"?(s(),I(Je,{key:0,onStart:u[0]||(u[0]=v=>c("@activity"))})):d(n).state=="@activity"?(s(),l(b,{key:1},[k(Lt),k(ma)],64)):g("",!0)],64)):g("",!0)],64))}};function Bn(e){var a=Ce.generate(e||"-");const n=a.toDataUrl();var o=document.createElement("style");o.type="text/css",o.innerHTML="#app {background-image: "+n+";}",document.getElementsByTagName("head")[0].appendChild(o)}var Pn={buildBG:Bn};const Y=["color: #446699","background: #ddff99","font-size: 9px","padding: 2px 5px","border-radius: 4px"].join(";"),Fn=Le();X();var F=xe(Vn);F.config.globalProperties.emitter=Fn;F.use(Te);F.use(Ae);F.use(Ie);F.use(Oe);gsap.registerPlugin(Draggable);F.provide("view",z(!1));En();function Mn(e){try{JSON.parse(e)}catch{return!1}return!0}async function En(){const e=window.location.search,a=new URLSearchParams(e),n=a.get("test"),o=a.get("blocked"),c=a.get("oda"),i=a.get("status"),u=a.get("builder");n!=null?(console.log("%c%s",Y,"::TestMode"),F.provide("test",!0)):F.provide("test",!1),o!=null?(console.log("%c%s",Y,"::BLOCKED"),F.provide("blocked",!0)):F.provide("blocked",!1);const r=z({state:"@intro",screen:0,step:0,answers:{},result:{},finalize:!1}),C=z({total:0,oks:0,errors:0,oksPercentage:0,errorsPercentage:0});if(F.provide("resultsFile",C),c)try{const $=le(c+"_"),j=await ze.get("./odas/"+c+"/oda.json"),L=j.data;if(F.provide("activityFile",L),Pn.buildBG(j.data.id),F.provide("statusFile",r),F.provide("builderFile",!1),F.mount("#app"),console.log("TEST:::",n),n!=null){const N=$.getStorageSync("status");if(N){const T=ne.atob(N);if(!T)return!1;const y=JSON.parse(T);if(!y)return!1;r.value=y,console.log("%c%s",Y,"::LoadedData")}}if(i!=null&&i.length>4){const N=ne.atob(i);if(!N)return!1;if(Mn(N)){const T=JSON.parse(N);if(!T)return!1;r.value=T,console.log("%c%s",Y,"::UrlData")}else console.log("%c%s",Y,"::WRONG UrlData")}const D=Z.throttle(function(N,T){const y=ne.btoa(JSON.stringify(N.value));$.setStorageSync("status",y);const h={status:y,results:r.value.finalize?C.value:null};var J=JSON.stringify(h);window.top.postMessage(J,"*")},2e3);be(()=>r,(N,T)=>{if(o!=null)return!1;D(N,T)},{deep:!0}),document.title=L.id+" | "+L.title,n!=null&&(document.title="::TEST:: "+L.id+" | "+L.title)}catch($){console.log("%c%s",Y,"::Error: "+$);var A=document.getElementById("app");A.innerHTML='<div class="erroroda">ERROR DE CARGA</div>'}else if(u!=null)F.provide("statusFile",!1),F.provide("activityFile",!1),F.provide("builderFile",!0),F.mount("#app");else{var A=document.getElementById("app");A.innerHTML='<div class="erroroda">ODA NO ENCONTRADA</div>'}}const Un=e=>{var a=e.data;typeof a=="string"&&JSON.parse(a)};window.addEventListener("message",Un,!1);window.addEventListener("resize",function(){window.innerWidth<=600&&F.config.globalProperties.emitter.emit("sidebarmini")});
