import{i as C,r as D,l as ge,o as s,c as T,w,a as o,b as t,t as A,u as d,F as k,d as m,T as Z,p as ae,e as ne,f as ke,n as R,g as h,h as p,j as ce,k as X,m as W,q as K,s as se,v as P,_ as te,x as ye,y as $e,z as me,A as F,B as le,C as J,D as ve,E as _e,V as Se,G as we,H as Ce,I as xe,J as Te,K as Le,L as Ae,M as oe,N as ze}from"./vendor.6292c19b.js";const Oe=function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))l(c);new MutationObserver(c=>{for(const i of c)if(i.type==="childList")for(const u of i.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&l(u)}).observe(document,{childList:!0,subtree:!0});function n(c){const i={};return c.integrity&&(i.integrity=c.integrity),c.referrerpolicy&&(i.referrerPolicy=c.referrerpolicy),c.crossorigin==="use-credentials"?i.credentials="include":c.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function l(c){if(c.ep)return;c.ep=!0;const i=n(c);fetch(c.href,i)}};Oe();var q=(e,a)=>{const n=e.__vccOpts||e;for(const[l,c]of a)n[l]=c;return n};const ie=e=>(ae("data-v-0f645ab4"),e=e(),ne(),e),Ie={class:"container text-center"},De={class:"description my-2"},je={class:"my-2"},Ne=ie(()=>t("hr",null,null,-1)),Ve=ie(()=>t("h4",{class:"my-1"},"Aprendizajes esperados",-1)),Me={class:"mb-2"},Be=ie(()=>t("h4",{class:"my-1"},"Contenido central",-1)),Pe={class:"mb-2"},Fe=["data-animation-path","data-name"],Ee={emits:["start"],setup(e,{emit:a}){const n=C("activityFile");C("statusFile");const l=D(),c=D(!0),i=()=>{c.value=!1},u=()=>{a("start")};return ge.searchAnimations(),(_,r)=>(s(),T(Z,{name:"zoom",onAfterLeave:u},{default:w(()=>[c.value?(s(),o("div",{key:0,class:"dialog intro",ref_key:"introContainer",ref:l},[t("div",Ie,[t("div",De,[t("h1",je,A(d(n).title),1),t("p",null,A(d(n).asignatura),1),Ne,Ve,t("p",Me,A(d(n).aprendizajes),1),d(n).contenidocentral?(s(),o(k,{key:0},[Be,t("p",Pe,A(d(n).contenidocentral),1)],64)):m("",!0)]),t("button",{class:"important",onClick:i},"Comenzar")]),t("div",{class:"lottie","data-animation-path":"odas/animations/intro_"+d(n).materia+".json","data-anim-loop":"true","data-name":"intro_"+d(n).materia},null,8,Fe)],512)):m("",!0)]),_:1}))}};var Ue=q(Ee,[["__scopeId","data-v-0f645ab4"]]);const He={class:"material-icons-two-tone"},B={props:{},setup(e){return(a,n)=>(s(),o("div",He,[ke(a.$slots,"default")]))}};const Re=["innerHTML"],Je={key:0,class:"dialog"},qe=p("close"),Ge={class:"ma-1"},We={props:{label:String,classinit:Object},setup(e){const a=D(!1),n=()=>{a.value=!0},l=()=>{a.value=!1};return(c,i)=>(s(),o(k,null,[t("button",{onClick:n,innerHTML:e.label,class:R(e.classinit)},null,10,Re),h(Z,{name:"zoom"},{default:w(()=>[a.value?(s(),o("div",Je,[t("button",{class:"close",onClick:l},[h(B,null,{default:w(()=>[qe]),_:1})]),t("div",Ge,[ke(c.$slots,"default",{},void 0,!0)])])):m("",!0)]),_:3})],64))}};var pe=q(We,[["__scopeId","data-v-16797cfb"]]);const Ke=t("hr",null,null,-1),Qe={class:"area row"},Xe=p("Mostrar pantallas"),Ye=p("Cerrar pantallas"),Ze=t("hr",null,null,-1),et={props:{},setup(e){const a=C("activityFile"),n=X(),l=()=>{n.appContext.config.globalProperties.emitter.emit("solve")},c=C("test"),i=C("view"),u=()=>{i.value=!i.value},_=()=>{ce(a.id+"_").removeStorageSync("status"),location.reload()};return(r,L)=>d(c)?(s(),o(k,{key:0},[Ke,t("div",{class:"area row mb-1"},[t("button",{class:"test",onClick:l},"Resolver todo")]),t("div",Qe,[t("button",{class:"test",onClick:u},[d(i)?(s(),o(k,{key:1},[Ye],64)):(s(),o(k,{key:0},[Xe],64))])]),Ze,t("div",{class:"area row"},[t("button",{onClick:_},"Reiniciar")])],64)):m("",!0)}};const tt=e=>(ae("data-v-5e37cb7c"),e=e(),ne(),e),st={class:"area"},at=p("donut_large"),nt={class:"label"},ot={class:"progreso"},lt=tt(()=>t("hr",null,null,-1)),ct={props:{},setup(e){const a=C("statusFile"),n=W(()=>{var l=a.value.answers,c={total:0,unanswered:0};return l&&(c.total=Object.keys(l).length,Object.keys(l).forEach(function(i){l[i],l[i]==null&&c.unanswered++})),c});return(l,c)=>(s(),o("div",st,[t("h2",null,[h(B,null,{default:w(()=>[at]),_:1}),t("span",nt,"\xA0Progreso "+A(d(n).total-d(n).unanswered)+" /"+A(d(n).total),1)]),t("div",ot,[t("div",{class:"bar",style:K("width:"+Math.round((d(n).total-d(n).unanswered)/d(n).total*100)+"%")},null,4)]),lt]))}};var it=q(ct,[["__scopeId","data-v-5e37cb7c"]]);const rt={key:0,class:"area"},dt=p("auto_awesome"),ut={class:"label"},vt={props:{},setup(e){const a=C("statusFile"),n=C("resultsFile"),l=()=>{const c=n.value.oksPercentage;var i="ok1";switch(!0){case(c<=100&&c>75):i="ok4";break;case(c<=75&&c>50):i="ok3";break;case(c<=50&&c>25):i="ok2";break}return i};return(c,i)=>d(a).finalize?(s(),o("div",rt,[t("h2",{class:R(["puntaje",l()])},[h(B,null,{default:w(()=>[dt]),_:1}),t("span",ut,"\xA0Puntaje: "+A(d(n).oksPercentage)+"%",1)],2)])):m("",!0)}};var _t=q(vt,[["__scopeId","data-v-f0824b86"]]);const pt=p("navigate_before"),kt=p("navigate_next"),mt={class:"area"},bt=t("hr",null,null,-1),ft={class:"area row vertical extrainfo"},ht={class:"text-center"},gt=t("h1",{class:"main mb-1"},"Aprendizajes esperados",-1),yt={class:"main"},$t={class:"text-center"},St=t("h1",{class:"main mb-1"},"Contenido central",-1),wt={class:"main"},Ct=t("hr",null,null,-1),xt={class:"area pantallas"},Tt=["onClick"],Lt={class:"label"},At=t("hr",null,null,-1),zt={setup(e){C("blocked");const a=C("activityFile"),n=C("statusFile"),l=D(!0),c=X(),i=u=>{n.value.step=0,n.value.screen=u};return c.appContext.config.globalProperties.emitter.on("sidebarmini",u=>{l.value=!1}),(u,_)=>{const r=se("perfect-scrollbar");return s(),T(Z,{name:"zoom"},{default:w(()=>[t("aside",{class:R(["ActivitySidebar",[l.value?"":"mini"]])},[t("div",{class:"openclosebtn",onClick:_[0]||(_[0]=L=>l.value=!l.value)},[l.value?(s(),T(B,{key:0},{default:w(()=>[pt]),_:1})):(s(),T(B,{key:1},{default:w(()=>[kt]),_:1}))]),h(r,{class:"container"},{default:w(()=>[t("div",mt,[t("h1",null,A(d(a).title),1)]),bt,t("div",ft,[h(pe,{label:"Aprendizajes esperados",classinit:["mb-1"]},{default:w(()=>[t("div",ht,[gt,t("div",yt,A(d(a).aprendizajes),1)])]),_:1}),d(a).contenidocentral?(s(),T(pe,{key:0,label:"Contenido central"},{default:w(()=>[t("div",$t,[St,t("div",wt,A(d(a).contenidocentral),1)])]),_:1})):m("",!0)]),Ct,t("div",xt,[t("ul",null,[(s(!0),o(k,null,P(d(a).screens,(L,z)=>(s(),o("li",{class:R(["screenItem",z==d(n).screen?"active":""]),onClick:$=>i(z)},[h(B,{class:R(z==d(n).screen?"active":"")},{default:w(()=>[p(A(L.icon),1)]),_:2},1032,["class"]),t("span",Lt,"\xA0"+A(L.title),1)],10,Tt))),256))])]),At,h(it),h(_t),h(et)]),_:1})],2)]),_:1})}}};const Ot=["innerHTML"],It=["innerHTML"],ee={props:{data:Object},setup(e){const a=e,n=D(!1),l=W(()=>({"--fontSize":a.data.size||"1rem","--fontSizeBlock":a.data.size||"1.5rem"})),c=i=>window.MathJax.tex2svg(i).getElementsByTagName("svg")[0].outerHTML;return setTimeout(()=>{n.value=!0},500),(i,u)=>n.value?(s(),o(k,{key:0},[e.data.block?(s(),o("div",{key:0,class:"blockmathCont",style:K(d(l)),innerHTML:c(e.data.math)},null,12,Ot)):(s(),o("span",{key:1,class:"blockmathCont",style:K(d(l)),innerHTML:c(e.data.math)},null,12,It))],64)):m("",!0)}};const re={props:{},setup(e,{emit:a}){const n=C("test"),l=()=>{a("solve")};return(c,i)=>d(n)?(s(),o("button",{key:0,class:"solveModule test",onClick:l},"Resolver")):m("",!0)}};const Dt=["id"],jt={key:0,class:"drops dropsLeft"},Nt=["data"],Vt=["innerHTML"],Mt={class:"drags"},Bt=["data","data-index"],Pt=p("pan_tool"),Ft=["innerHTML"],Et={key:1,class:"drops dropsRight"},Ut=["data"],Ht=["innerHTML"],Rt={props:{blockid:String,data:Object},setup(e){const a=e,n=C("statusFile"),l=C("blocked"),c=X(),i=D(),u=D();var _="#block-"+a.blockid,r=_+" .drag",L=_+" .drop",z=null,$;const j=()=>{if(z=document.querySelectorAll(_+" .drop"),l)return!1;$=Draggable.create(r,{type:"x,y",bounds:_,zIndexBoost:!1,onDrag:function(g){O(g,this)},onClick:function(g){I(g,this)},onDragEnd:function(g){N(g,this)}})},O=(g,f)=>{for(var v=0;v<z.length;v++){if(f.hitTest(z[v],"40%"))return f.target.classList.add("hover"),z[v].classList.add("hover"),!1;f.target.classList.remove("hover"),z[v].classList.remove("hover")}},I=(g,f)=>{if(i.value!=null)return!1;var v=document.querySelector(_+" .drags");f.target.parentElement!=v&&(v.append(f.target),TweenLite.to(f.target,.2,{x:0,y:0}),y())},N=(g,f)=>{for(var v=!1,M=0;M<z.length;M++)f.hitTest(z[M],"40%")&&(v=!0,z[M].append(f.target),TweenLite.to(f.target,.2,{x:0,y:0}),f.target.classList.remove("hover"),z[M].classList.remove("hover"),y());v||TweenLite.to(f.target,.2,{x:0,y:0})},x=g=>{var f=btoa(g);return f},y=()=>{for(var g=document.querySelectorAll(r),f=[],v=0;v<g.length;v++){var M=g[v].getAttribute("data-index"),G=g[v].parentElement.getAttribute("data");f.push([M,G])}n.value.answers[a.blockid]=f},b=setInterval(function(){Draggable&&(j(),H())},500),H=()=>{clearInterval(b),S()},S=()=>{if(n.value.answers||(n.value.answers={}),n.value.answers[a.blockid]){var g=n.value.answers[a.blockid];for(var f in g){var v=g[f];if(v[1]){var M=document.querySelector(r+'[data-index="'+v[0]+'"]'),G=document.querySelector(L+"[data="+v[1]+"]");G.append(M)}}}else n.value.answers[a.blockid]=null;n.value.finalize&&V()},U=()=>{for(var g=document.querySelectorAll(r),f=0;f<g.length;f++){var v=atob(g[f].getAttribute("data")),M=document.querySelector(L+"[data="+v+"]");M.append(g[f])}y()},V=()=>{for(var g=document.querySelectorAll(r),f=0,v=0;v<g.length;v++){$[v].disable();var M=atob(g[v].getAttribute("data")),G=g[v].parentElement.getAttribute("data");M==G?g[v].classList.add("isok"):(g[v].classList.add("notok"),f++)}f==0?i.value=!0:i.value=!1,n.value.result[a.blockid]=i.value};return c.appContext.config.globalProperties.emitter.on("solve",g=>{U()}),c.appContext.config.globalProperties.emitter.on("finalize",g=>{V()}),(g,f)=>(s(),o(k,null,[t("div",{class:"blockDragDrop",id:"block-"+e.blockid,ref_key:"block",ref:u},[e.data.dropsLeft?(s(),o("section",jt,[(s(!0),o(k,null,P(e.data.dropsLeft,(v,M)=>(s(),o("div",{class:"drop",data:v[1]},[typeof v[0]=="string"?(s(),o("div",{key:0,class:"content",innerHTML:v[0]},null,8,Vt)):v[0].math?(s(),T(ee,{key:1,data:v[0]},null,8,["data"])):m("",!0)],8,Nt))),256))])):m("",!0),t("section",Mt,[(s(!0),o(k,null,P(e.data.drags,(v,M)=>(s(),o("div",{class:"drag",data:x(v[1]),"data-index":M},[h(B,null,{default:w(()=>[Pt]),_:1}),typeof v[0]=="string"?(s(),o("div",{key:0,class:"content",innerHTML:v[0]},null,8,Ft)):v[0].math?(s(),T(ee,{key:1,data:v[0]},null,8,["data"])):m("",!0)],8,Bt))),256))]),e.data.dropsRight?(s(),o("section",Et,[(s(!0),o(k,null,P(e.data.dropsRight,(v,M)=>(s(),o("div",{class:"drop",data:v[1]},[typeof v[0]=="string"?(s(),o("div",{key:0,class:"content",innerHTML:v[0]},null,8,Ht)):v[0].math?(s(),T(ee,{key:1,data:v[0]},null,8,["data"])):m("",!0)],8,Ut))),256))])):m("",!0)],8,Dt),h(re,{onSolve:U})],64))}};var Jt=q(Rt,[["__scopeId","data-v-3f31024a"]]);const qt=["id"],Gt=["onClick"],Wt=p("touch_app"),Kt={class:"option-letter"},Qt={props:{blockid:String,data:Object},setup(e){const a=e,n=D(),l=C("statusFile"),c=C("blocked"),i=X(),u=D(),_=D([]);var r=D(!0);const L=x=>"abcdefghijk"[x],z=()=>{for(var x in a.data.options)a.data.options,_.value[x]=!1;$(),l.value.answers||(l.value.answers={}),l.value.answers[a.blockid]?_.value=l.value.answers[a.blockid]:l.value.answers[a.blockid]=null},$=()=>{var x=0;a.data.options.forEach(y=>{y[1]&&(x+=1)}),x>1&&(r.value=!1)};z();const j=x=>{if(c||l.value.finalize)return!1;if(r.value){for(var y in _.value)_.value[y]=!1;_.value[x]=!0}else _.value[x]=!_.value[x];l.value.answers[a.blockid]=_.value},O=()=>{for(var x=a.data.options,y=0;y<x.length;y++)x[y][1]?_.value[y]=!0:_.value[y]=!1;l.value.answers[a.blockid]=_.value},I=()=>{for(var x=a.data.options,y=[],b=0;b<x.length;b++)y.push(x[b][1]);te.isEqual(y,_.value)?(n.value=!0,u.value.classList.add("isok")):(n.value=!1,u.value.classList.add("notok")),l.value.result[a.blockid]=n.value};i.appContext.config.globalProperties.emitter.on("solve",x=>{O()}),i.appContext.config.globalProperties.emitter.on("finalize",x=>{I()});const N=W(()=>({"--block-grid-template-columns":a.data.columns||"1fr 1fr 1fr 1fr","--block-grid-template-columns-responsive":a.data.columnsResponsive||"1fr","--block-grid-gap":a.data.gap||"10px"}));return(x,y)=>(s(),o(k,null,[t("div",{class:"blockSelect",id:"block-"+e.blockid,ref_key:"block",ref:u,style:K(d(N))},[(s(!0),o(k,null,P(e.data.options,(b,H)=>(s(),o("div",{class:R(["blockSelectOption",_.value[H]?"active":""]),onClick:S=>j(H)},[h(B,null,{default:w(()=>[Wt]),_:1}),t("div",Kt,A(L(H)),1),h(Q,{item:b[0],blockid:e.blockid+"-selectitem"},null,8,["item","blockid"])],10,Gt))),256))],12,qt),h(re,{onSolve:O})],64))}};const Xt=["src"],Yt={props:{data:{type:Object}},setup(e){const a=C("activityFile");return(n,l)=>(s(),o("img",{class:"blockImg",src:"odas/"+d(a).id+"/"+e.data.img},null,8,Xt))}};var be=q(Yt,[["__scopeId","data-v-68c65286"]]);const Zt=["title"],es=["innerHTML"],ts=p("contact_support"),ss={key:2,class:"termDefinition"},as={key:0},ns={key:0},os={props:{data:{type:Object}},setup(e){const a=D(!1),n=()=>{a.value=!a.value};return(l,c)=>(s(),o("div",{class:"blockTerm",title:e.data.d,onClick:n},[e.data.t?(s(),o("span",{key:0,innerHTML:e.data.t},null,8,es)):m("",!0),e.data.i?(s(),T(be,{key:1,data:{img:e.data.i}},null,8,["data"])):m("",!0),h(B,null,{default:w(()=>[ts]),_:1}),a.value?(s(),o("div",ss,[typeof e.data.d=="string"?(s(),o("p",as,A(e.data.d),1)):(s(!0),o(k,{key:1},P(e.data.d,(i,u)=>(s(),o(k,null,[typeof i=="string"?(s(),o("p",ns,A(i),1)):i.math?(s(),T(ee,{key:1,data:i},null,8,["data"])):m("",!0)],64))),256))])):m("",!0)],8,Zt))}};var ls=q(os,[["__scopeId","data-v-fdef45ae"]]);const cs={props:{data:Object,blockid:String},setup(e){const a=e;return W(()=>({"--fontSize":a.data.size||"1rem"})),(n,l)=>{const c=se("apexchart");return e.data.chart=="line"?(s(),o(k,{key:0},[t("p",null,A(e.data),1),h(c,{type:e.data.chart,options:e.data.options,series:e.data.series},null,8,["type","options","series"])],64)):m("",!0)}}};var is=ye({props:{data:Object,blockid:String},setup(e){const a=e;W(()=>({"--fontSize":a.data.size||"1rem"}));const n=D(),l=D(),c=D(),i=()=>{let u=n.value.getBoundingClientRect(),_=340,r=200,L=u.width/_;_*=L,r*=L,c.value=functionPlot({title:typeof a.data.plot=="string"?a.data.plot:"",target:l.value,width:_,height:r,yAxis:a.data.yAxis,xAxis:a.data.xAxis,grid:!1,data:a.data.data,annotations:a.data.annotations})};return setTimeout(()=>{i()},500),(u,_)=>(s(),o("div",{class:"blockPlot",ref_key:"blockParent",ref:n},[t("div",{ref_key:"block",ref:l},null,512)],512))}});const rs={key:0,class:"dialog"},ds=p("close"),us={class:"ma-1"},vs={props:{data:Object,blockid:String},setup(e){const a=D(!1),n=()=>{a.value=!0},l=()=>{a.value=!1};return(c,i)=>{const u=se("perfect-scrollbar");return s(),o(k,null,[t("button",{class:R(["animate__animated animate__pulse animate__infinite animate__slower",e.data.buttonClass]),onClick:n},[h(Q,{item:e.data.button,blockid:e.blockid+"-button"},null,8,["item","blockid"])],2),h(Z,{name:"zoom"},{default:w(()=>[a.value?(s(),o("div",rs,[t("button",{class:"close",onClick:l},[h(B,null,{default:w(()=>[ds]),_:1})]),t("div",us,[h(u,null,{default:w(()=>[(s(!0),o(k,null,P(e.data.content,(_,r)=>(s(),T(Q,{item:_,blockid:e.blockid+"-content-"+r},null,8,["item","blockid"]))),256))]),_:1})])])):m("",!0)]),_:1})],64)}}};var _s=q(vs,[["__scopeId","data-v-16df3a97"]]);const ps={class:"blockGridItem"},ks={props:{data:Object,blockid:String},setup(e){const a=e,n=W(()=>({"--block-grid-template-columns":a.data.columns||"auto auto auto auto","--block-grid-template-columns-responsive":a.data.columnsResponsive||"auto","--block-grid-gap":a.data.gap||"10px"}));return(l,c)=>(s(),o("div",{class:"blockGrid",style:K(d(n))},[(s(!0),o(k,null,P(e.data.content,(i,u)=>(s(),o("div",ps,[h(Q,{item:i,blockid:e.blockid+"-"+u},null,8,["item","blockid"])]))),256))],4))}};const ms={props:{data:Object,blockid:String},setup(e){const a=W(()=>({}));return(n,l)=>(s(),o("div",{class:R(["blockGroup",e.data.class]),style:K(d(a))},[(s(!0),o(k,null,P(e.data.content,(c,i)=>(s(),T(Q,{item:c,blockid:e.blockid+"-"+i},null,8,["item","blockid"]))),256))],6))}};const bs=["id"],fs=["data"],hs=p("swipe_vertical"),gs={props:{blockid:String,data:Object},setup(e){const a=e,n=D(),l=D(),c=C("statusFile"),i=C("blocked"),u=X(),_=D(te.shuffle(a.data.items));(()=>{c.value.answers[a.blockid]?_.value=c.value.answers[a.blockid]:c.value.answers[a.blockid]=null})();const L=()=>{c.value.answers[a.blockid]=_.value},z=()=>{_.value=a.data.items,L()},$=()=>{te.isEqual(_.value,a.data.items)?(n.value=!0,l.value.classList.add("isok")):(n.value=!1,l.value.classList.add("notok")),console.log(n.value),c.value.result[a.blockid]=n.value};return u.appContext.config.globalProperties.emitter.on("solve",j=>{z()}),u.appContext.config.globalProperties.emitter.on("finalize",j=>{$()}),(j,O)=>(s(),o(k,null,[t("div",{class:"blockSortable",id:"block-"+e.blockid,ref_key:"block",ref:l},[h(d($e),{modelValue:_.value,"onUpdate:modelValue":O[0]||(O[0]=I=>_.value=I),"item-key":"id",onEnd:L,sort:!(d(i)||d(c).finalize)},{item:w(({element:I,index:N})=>[t("div",{class:R(["sortable-item",[e.data.numbers?"shownumbers":""]]),data:N+1},[h(B,null,{default:w(()=>[hs]),_:1}),h(Q,{item:I,blockid:e.blockid+"-sortableitem"},null,8,["item","blockid"])],10,fs)]),_:1},8,["modelValue","sort"])],8,bs),h(re,{onSolve:z})],64))}};var ys=q(gs,[["__scopeId","data-v-58149f7f"]]);const $s=["innerHTML"],Ss={key:1},ws={key:2,class:"my-2"},Cs={key:3},xs=["innerHTML"],Q={props:{item:[Object,String],blockid:String},setup(e){return(a,n)=>(s(),o(k,null,[typeof e.item=="string"?(s(),o("span",{key:0,innerHTML:e.item},null,8,$s)):e.item.br?(s(),o("br",Ss)):e.item.hr?(s(),o("hr",ws)):e.item.br?(s(),o("br",Cs)):e.item.text?(s(),o("div",{key:4,innerHTML:e.item.text,class:R(e.item.class||"my-2")},null,10,xs)):e.item.term?(s(),T(ls,{key:5,data:e.item},null,8,["data"])):e.item.img?(s(),T(be,{key:6,data:e.item},null,8,["data"])):e.item.math?(s(),T(ee,{key:7,data:e.item},null,8,["data"])):m("",!0),e.item.dragdrop?(s(),T(Jt,{key:8,data:e.item,blockid:e.blockid},null,8,["data","blockid"])):m("",!0),e.item.sortable?(s(),T(ys,{key:9,data:e.item,blockid:e.blockid},null,8,["data","blockid"])):m("",!0),e.item.select?(s(),T(Qt,{key:10,data:e.item,blockid:e.blockid},null,8,["data","blockid"])):m("",!0),e.item.chart?(s(),T(cs,{key:11,data:e.item,blockid:e.blockid},null,8,["data","blockid"])):m("",!0),e.item.dialog?(s(),T(_s,{key:12,data:e.item,blockid:e.blockid},null,8,["data","blockid"])):m("",!0),e.item.plot?(s(),T(is,{key:13,data:e.item,blockid:e.blockid},null,8,["data","blockid"])):m("",!0),e.item.grid?(s(),T(ks,{key:14,data:e.item,blockid:e.blockid},null,8,["data","blockid"])):m("",!0),e.item.group?(s(),T(ms,{key:15,data:e.item,blockid:e.blockid},null,8,["data","blockid"])):m("",!0)],64))}};const Ts={class:"blockContainer"},Ls={key:0,class:"text-center my-2"},As={props:{block:Object,blockid:String},setup(e){const a=e,n=C("view"),l=W(()=>({"--block-width":a.block.width||"100%"}));return(c,i)=>e.block.content.length?(s(),o("div",{key:0,class:"block",style:K(d(l))},[t("div",Ts,[(s(!0),o(k,null,P(e.block.content,(u,_)=>(s(),T(Q,{item:u,blockid:e.blockid+"-"+_},null,8,["item","blockid"]))),256))]),d(n)?m("",!0):(s(),o("div",Ls,[e.block.buttonNextStep?(s(),o("button",{key:0,onClick:i[0]||(i[0]=u=>c.$emit("stepNext"))},A(e.block.buttonNextStep),1)):m("",!0),e.block.buttonNextScreen?(s(),o("button",{key:1,class:"important",onClick:i[1]||(i[1]=u=>c.$emit("screenNext",1))},A(e.block.buttonNextScreen),1)):m("",!0)]))],4)):m("",!0)}},zs={class:"block ScreenBlockEnd"},Os={class:"text-center"},Is={class:"my-3"},Ds=p("De un total de "),js=p(" tienes "),Ns={class:"high"},Vs=p("."),Ms=["onClick"],Bs={key:1,class:"my-3"},Ps=t("span",null,[p("Has contestado todas las preguntas. Verifica tus respuestas y da clic en "),t("strong",null,'"finalizar"'),p(".")],-1),Fs=[Ps],Es={key:2,class:"my-3"},Us=t("span",null,"Muy bien. Has llegado al final de la actividad.",-1),Hs=[Us],Rs=t("div",{class:"my-3"},"\xBFDeseas finalizar?",-1),Js=t("hr",null,null,-1),qs=t("div",{class:"my-3"},[t("strong",null,"Actividad finalizada.")],-1),Gs={class:"my-3"},Ws=p("De un total de "),Ks=p(" obtuviste un "),Qs={class:"high"},Xs=p("."),Ys=t("div",{class:"my-3"},"A continuaci\xF3n podr\xE1s ver un res\xFAmen de tus resultados:",-1),Zs={class:"row wrap"},ea=["onClick"],ta=t("div",{class:"my-3"},"Puedes ver tus resultados individuales o repasar los contenidos navegando con el men\xFA de la izquierda.",-1),sa=t("div",{class:"my-3"},"Tambi\xE9n puedes reiniciar la actividad:",-1),aa={props:{},setup(e){const a=C("activityFile"),n=C("statusFile"),l=C("resultsFile"),c=X(),i=C("blocked"),u=$=>{var j=$.split("-"),O=j[0],I=j[1],N=a.screens[O].title;return N+" > Bloque "+I},_=$=>{var j=$.split("-"),O=j[0],I=j[1];n.value.screen=O*1,n.value.step=I*1},r=W(()=>{var $=n.value.answers,j={tot:"",total:0,unanswered:{},unansweredLength:0};if($){j.total=Object.keys($).length;var O={};Object.keys($).forEach(function(I){var N=$[I];$[I]==null&&(O[I]=N,j.unansweredLength++)}),te(O).keys().sort().each(function(I){j.unanswered[I]=O[I]})}return j}),L=()=>{n.value.finalize=!0,c.appContext.config.globalProperties.emitter.emit("finalize");for(var $ in n.value.result)l.value.total++,n.value.result[$]?l.value.oks++:l.value.errors++;l.value.total&&(l.value.oksPercentage=Math.round(l.value.oks*100/l.value.total),l.value.errorsPercentage=100-l.value.oksPercentage)};n.value.finalize&&setTimeout(function(){L()},1e3);const z=()=>{ce(a.id+"_").removeStorageSync("status"),location.reload()};return($,j)=>(s(),o("div",zs,[t("div",Os,[d(n).finalize?(s(),o(k,{key:1},[qs,d(l).total>0?(s(),o(k,{key:0},[t("div",Gs,[Ws,t("strong",null,A(d(l).total)+" preguntas",1),Ks,t("strong",Qs,A(d(l).oksPercentage)+"% de aciertos",1),Xs]),d(l).errors>0?(s(),o(k,{key:0},[Ys,t("div",Zs,[(s(!0),o(k,null,P(d(n).result,(O,I)=>(s(),o("div",{class:R(["px-3 bg-light ma-1 floatcard",O?"isok":"notok"])},[t("button",{class:"bg-clear ma-1",onClick:N=>_(I)},A(u(I)),9,ea)],2))),256))])],64)):m("",!0)],64)):(s(),o(k,{key:1},[],64)),ta,d(i)?m("",!0):(s(),o(k,{key:2},[sa,t("button",{class:"important",onClick:z},"Reiniciar")],64))],64)):(s(),o(k,{key:0},[d(r).unansweredLength?(s(),o(k,{key:0},[t("div",Is,[t("span",null,[Ds,t("strong",null,A(d(r).total)+" preguntas",1),js,t("strong",Ns,A(d(r).unansweredLength)+" sin contestar",1),Vs])]),(s(!0),o(k,null,P(d(r).unanswered,(O,I)=>(s(),o("button",{class:"high ma-1",onClick:N=>_(I)},A(u(I)),9,Ms))),256))],64)):d(r).total>0?(s(),o("div",Bs,Fs)):(s(),o("div",Es,Hs)),d(i)?m("",!0):(s(),o(k,{key:3},[Rs,Js,t("div",{class:"my-4"},[t("button",{class:"important",onClick:L},"Finalizar")])],64))],64))])]))}};const fe=e=>(ae("data-v-0af9ee72"),e=e(),ne(),e),na={class:"stepsNavigation"},oa=["disabled"],la=p("navigate_before"),ca=fe(()=>t("span",{class:"txt"},"Anterior",-1)),ia=["disabled"],ra=fe(()=>t("span",{class:"txt"},"Siguiente",-1)),da=p("navigate_next"),ua={props:{steps:{type:Number,required:!0}},setup(e,{emit:a}){const n=e,l=C("statusFile");D(0);const c=i=>{(i==-1&&l.value.step>0||i==1&&l.value.step<n.steps-1)&&(l.value.step+=i,a("stepChanged"))};return(i,u)=>(s(),o("div",na,[t("button",{onClick:u[0]||(u[0]=_=>c(-1)),disabled:d(l).step==0},[h(B,null,{default:w(()=>[la]),_:1}),ca],8,oa),(s(!0),o(k,null,P(e.steps,(_,r)=>(s(),o("div",{class:R(["step",[d(l).step==r?"active":"non-active"]])},null,2))),256)),t("button",{onClick:u[1]||(u[1]=_=>c(1)),disabled:d(l).step==e.steps-1},[ra,h(B,null,{default:w(()=>[da]),_:1})],8,ia)]))}};var va=q(ua,[["__scopeId","data-v-0af9ee72"]]);const _a={key:0,class:"activityScreenTitle"},pa={props:{screenindex:{type:Number},screen:{type:Object,required:!0}},setup(e){const a=e,n=C("view"),l=D(),c=C("statusFile"),i=W(()=>({})),u=()=>{c.value.step++},_=r=>n.value?!0:a.screen.steps?c.value.step==r:!0;return me(()=>c.value.step,(r,L)=>{l.value.$el.scrollTop>0&&(l.value.$el.scrollTop=0)}),(r,L)=>{const z=se("perfect-scrollbar");return s(),o("div",{class:R(["activityScreen",d(n)?"desplegado":""]),style:K(d(i))},[d(n)?(s(),o("div",_a,A(e.screen.title),1)):m("",!0),h(z,{ref_key:"scroll",ref:l},{default:w(()=>[e.screen.end?F((s(),T(aa,{key:1},null,512)),[[le,e.screen.end]]):(s(!0),o(k,{key:0},P(e.screen.blocks,($,j)=>(s(),T(Z,{name:"slide"},{default:w(()=>[F(h(As,{block:$,onStepNext:u,onScreenNext:L[0]||(L[0]=O=>r.$emit("screenNext",O)),blockid:e.screenindex+"-"+j},null,8,["block","blockid"]),[[le,_(j)]])]),_:2},1024))),256))]),_:1},512),e.screen.steps&&!d(n)?(s(),T(va,{key:1,steps:e.screen.blocks.length},null,8,["steps"])):m("",!0)],6)}}};var ka=q(pa,[["__scopeId","data-v-3104b0ab"]]);const ma={setup(e){const a=C("view"),n=C("activityFile"),l=C("statusFile"),c=u=>{l.value.step=0,l.value.screen+=u},i=u=>a.value?!0:u==l.value.screen;return(u,_)=>(s(),T(Z,{name:"zoom"},{default:w(()=>[t("section",{class:R(["Activity",d(a)?"desplegado":""])},[(s(!0),o(k,null,P(d(n).screens,(r,L)=>F((s(),T(ka,{key:L,screen:r,onScreenNext:c,screenindex:L},null,8,["screen","screenindex"])),[[le,i(L)]])),128))],2)]),_:1}))}};const de=e=>(ae("data-v-2857d2b3"),e=e(),ne(),e),ba={class:"theform"},fa={class:"row"},ha={class:"field"},ga=p("ID:"),ya={class:"field"},$a=p("Programa:"),Sa=de(()=>t("span",null,"DGETI",-1)),wa=de(()=>t("span",null,"DGB ",-1)),Ca={class:"row"},xa={class:"field"},Ta=p("Materia:"),La={class:"field"},Aa=p("Asignatura:"),za={class:"field"},Oa=p("Titulo:"),Ia={class:"field"},Da=p("Aprendizajes:"),ja={class:"field"},Na=p("Contenido_central:"),Va={key:0},Ma={class:"field in"},Ba=p("library_add"),Pa={class:"inner"},Fa=["onClick"],Ea=p("backspace"),Ua={class:"field"},Ha=p("T\xEDtulo: "),Ra=["onUpdate:modelValue"],Ja={class:"field"},qa=p("Icono: "),Ga=["onUpdate:modelValue"],Wa={class:"field"},Ka=p("Steps: "),Qa=["onUpdate:modelValue"],Xa={class:"field"},Ya=p("End: "),Za=["onUpdate:modelValue"],en={key:0},tn={class:"field in"},sn=["onClick"],an=p("library_add"),nn={class:"inner"},on=["onClick"],ln=p("backspace"),cn={class:"field"},rn=p("Width: "),dn=["onUpdate:modelValue"],un=de(()=>t("div",null,null,-1)),vn={class:"field in"},_n=["onClick"],pn=["onClick"],kn=["onClick"],mn=["onClick"],bn=["onClick"],fn=["onClick"],hn=["onClick"],gn=["onClick"],yn={class:"inner"},$n=["onClick"],Sn=p("backspace"),wn={key:0,class:"field multi"},Cn=p("Simple: "),xn=["onUpdate:modelValue"],Tn={class:"field multi"},Ln=["onUpdate:modelValue"],An={class:"field"},zn={class:"thedata"},On={class:"BuilderBar"},In=p("code"),Dn=p("ondemand_video"),jn=p("sync_problem"),Nn={props:{},setup(e){const a=D(null),n=D("json"),l={text:"",class:""},c={math:"",size:"2rem"},i={simple:"",text:l,math:c,term:{term:1,t:"",d:""},img:{img:""},dragdrop:{dragdrop:!0,drags:[[c,"val"]],dropsLeft:[["Titulo","val"]],dropsRight:["Titulo","val"]},select:{select:!0,options:[[c,!1],[c,!0]]},br:{br:1},br:{br:1}},u={width:"100%",content:[]},_={title:"",icon:"",steps:!0,end:!1,blocks:[u]},r=D({id:"",programa:"DGETI",materia:"",asignatura:"",title:"",aprendizajes:"",contenidocentral:"",screens:[JSON.parse(JSON.stringify(_)),{title:"Finalizar",icon:"flag",end:!0,content:[]}]}),L=()=>{const y=JSON.parse(JSON.stringify(_));r.value.screens.push(y)},z=y=>{const b=JSON.parse(JSON.stringify(u));r.value.screens[y].blocks.push(b)},$=(y,b,H)=>{const S=JSON.parse(JSON.stringify(i[H]));r.value.screens[y].blocks[b].content.push(S)},j=y=>{r.value.screens.splice(y,1)},O=(y,b)=>{r.value.screens[y].blocks.splice(b,1)},I=(y,b,H)=>{r.value.screens[y].blocks[b].content.splice(H,1)},N=()=>{const y=JSON.parse(a.value);a.value="",r.value=y},x=()=>{navigator.clipboard.writeText(JSON.stringify(r.value,null,"	"))};return(y,b)=>{const H=se("perfect-scrollbar");return s(),o(k,null,[h(H,null,{default:w(()=>[t("div",ba,[t("div",fa,[t("div",ha,[ga,F(t("input",{"onUpdate:modelValue":b[0]||(b[0]=S=>r.value.id=S)},null,512),[[J,r.value.id]])]),t("div",ya,[$a,t("label",null,[F(t("input",{"onUpdate:modelValue":b[1]||(b[1]=S=>r.value.programa=S),placeholder:"programa",type:"radio",value:"DGETI"},null,512),[[ve,r.value.programa]]),Sa]),t("label",null,[F(t("input",{"onUpdate:modelValue":b[2]||(b[2]=S=>r.value.programa=S),placeholder:"programa",type:"radio",value:"DGB"},null,512),[[ve,r.value.programa]]),wa])])]),t("div",Ca,[t("div",xa,[Ta,F(t("input",{"onUpdate:modelValue":b[3]||(b[3]=S=>r.value.materia=S)},null,512),[[J,r.value.materia]])]),t("div",La,[Aa,F(t("input",{"onUpdate:modelValue":b[4]||(b[4]=S=>r.value.asignatura=S)},null,512),[[J,r.value.asignatura]])])]),t("div",za,[Oa,F(t("input",{"onUpdate:modelValue":b[5]||(b[5]=S=>r.value.title=S)},null,512),[[J,r.value.title]])]),t("div",Ia,[Da,F(t("input",{"onUpdate:modelValue":b[6]||(b[6]=S=>r.value.aprendizajes=S)},null,512),[[J,r.value.aprendizajes]])]),t("div",ja,[Na,F(t("input",{"onUpdate:modelValue":b[7]||(b[7]=S=>r.value.contenidocentral=S)},null,512),[[J,r.value.contenidocentral]])]),r.value.screens?(s(),o("div",Va,[t("div",Ma,[p("Screens ("+A(r.value.screens.length)+"):",1),t("button",{class:"add",onClick:L},[h(B,null,{default:w(()=>[Ba]),_:1})])]),(s(!0),o(k,null,P(r.value.screens,(S,U)=>(s(),o("div",Pa,[t("button",{class:"rm",onClick:V=>j(U)},[h(B,null,{default:w(()=>[Ea]),_:1})],8,Fa),t("div",Ua,[Ha,F(t("input",{"onUpdate:modelValue":V=>S.title=V},null,8,Ra),[[J,S.title]])]),t("div",Ja,[qa,F(t("input",{"onUpdate:modelValue":V=>S.icon=V},null,8,Ga),[[J,S.icon]])]),t("div",Wa,[Ka,F(t("input",{"onUpdate:modelValue":V=>S.steps=V,type:"checkbox"},null,8,Qa),[[_e,S.steps]])]),t("div",Xa,[Ya,F(t("input",{"onUpdate:modelValue":V=>S.end=V,type:"checkbox"},null,8,Za),[[_e,S.end]])]),S.blocks?(s(),o("div",en,[t("div",tn,[p("Blocks ("+A(S.blocks.length)+"):",1),(s(),o("button",{class:"add",onClick:V=>z(U),key:"addblock"+U},[h(B,null,{default:w(()=>[an]),_:1})],8,sn))]),(s(!0),o(k,null,P(S.blocks,(V,g)=>(s(),o("div",nn,[t("button",{class:"rm",onClick:f=>O(U,g)},[h(B,null,{default:w(()=>[ln]),_:1})],8,on),t("div",cn,[rn,F(t("input",{"onUpdate:modelValue":f=>V.width=f},null,8,dn),[[J,V.width]])]),un,t("div",vn,[p("Content ("+A(V.content.length)+"):",1),t("button",{class:"add",onClick:f=>$(U,g,"simple")},"Simple",8,_n),t("button",{class:"add",onClick:f=>$(U,g,"text")},"Text",8,pn),t("button",{class:"add",onClick:f=>$(U,g,"math")},"Math",8,kn),t("button",{class:"add",onClick:f=>$(U,g,"term")},"Term",8,mn),t("button",{class:"add",onClick:f=>$(U,g,"img")},"Img",8,bn),t("button",{class:"add",onClick:f=>$(U,g,"br")},"br",8,fn),t("button",{class:"add",onClick:f=>$(U,g,"dragdrop")},"dragdrop",8,hn),t("button",{class:"add",onClick:f=>$(U,g,"select")},"select",8,gn)]),(s(!0),o(k,null,P(V.content,(f,v)=>(s(),o("div",yn,[t("button",{class:"rm",onClick:M=>I(U,g,v)},[h(B,null,{default:w(()=>[Sn]),_:1})],8,$n),typeof V.content[v]=="string"?(s(),o("div",wn,[Cn,F(t("input",{"onUpdate:modelValue":M=>V.content[v]=M},null,8,xn),[[J,V.content[v]]])])):(s(!0),o(k,{key:1},P(f,(M,G)=>(s(),o("div",Tn,[p(A(G),1),typeof V.content[v][G]=="string"?F((s(),o("input",{key:0,"onUpdate:modelValue":ue=>V.content[v][G]=ue},null,8,Ln)),[[J,V.content[v][G]]]):(s(!0),o(k,{key:1},P(V.content[v][G],(ue,he)=>(s(),o("div",An,A(he),1))),256))]))),256))]))),256))]))),256))])):m("",!0)]))),256))])):m("",!0)])]),_:1}),h(H,null,{default:w(()=>[t("div",zn,[t("div",On,[t("button",{onClick:b[8]||(b[8]=S=>n.value="json")},[h(B,null,{default:w(()=>[In]),_:1})]),t("button",{onClick:b[9]||(b[9]=S=>n.value="play")},[h(B,null,{default:w(()=>[Dn]),_:1})]),t("button",{onClick:b[10]||(b[10]=S=>n.value="import")},[h(B,null,{default:w(()=>[jn]),_:1})])]),n.value=="json"&&r.value?(s(),T(d(Se),{key:0,data:r.value,"show-length":!0,"show-line":!0,"show-select-controller":!0,onClick:x},null,8,["data"])):n.value=="play"?(s(),o(k,{key:1},[],64)):n.value=="import"?F((s(),o("textarea",{key:2,"onUpdate:modelValue":b[11]||(b[11]=S=>a.value=S),onChange:N,placeholder:"Import json"},null,544)),[[J,a.value]]):m("",!0)])]),_:1})],64)}}};var Vn=q(Nn,[["__scopeId","data-v-2857d2b3"]]);const Mn={setup(e){const a=C("activityFile"),n=C("statusFile"),l=C("builderFile"),c=i=>{n.value.state=i};return(i,u)=>(s(),o(k,null,[d(l)?(s(),T(Vn,{key:0})):m("",!0),d(a)&&d(n)?(s(),o(k,{key:1},[d(n).state=="@intro"?(s(),T(Ue,{key:0,onStart:u[0]||(u[0]=_=>c("@activity"))})):d(n).state=="@activity"?(s(),o(k,{key:1},[h(zt),h(ma)],64)):m("",!0)],64)):m("",!0)],64))}};function Bn(e){var a=we.generate(e||"-");const n=a.toDataUrl();var l=document.createElement("style");l.type="text/css",l.innerHTML="#app {background-image: "+n+";}",document.getElementsByTagName("head")[0].appendChild(l)}var Pn={buildBG:Bn};const Y=["color: #446699","background: #ddff99","font-size: 9px","padding: 2px 5px","border-radius: 4px"].join(";"),Fn=ze();X();var E=Ce(Mn);E.config.globalProperties.emitter=Fn;E.use(xe);E.use(Te);E.use(Le);gsap.registerPlugin(Draggable);E.provide("view",D(!1));Un();function En(e){try{JSON.parse(e)}catch{return!1}return!0}async function Un(){const e=window.location.search,a=new URLSearchParams(e),n=a.get("test"),l=a.get("blocked"),c=a.get("oda"),i=a.get("status"),u=a.get("builder");n!=null?(console.log("%c%s",Y,"::TestMode"),E.provide("test",!0)):E.provide("test",!1),l!=null?(console.log("%c%s",Y,"::BLOCKED"),E.provide("blocked",!0)):E.provide("blocked",!1);const r=D({state:"@intro",screen:0,step:0,answers:{},result:{},finalize:!1}),L=D({total:0,oks:0,errors:0,oksPercentage:0,errorsPercentage:0});if(E.provide("resultsFile",L),c)try{const $=ce(c+"_"),j=await Ae.get("./odas/"+c+"/oda.json"),O=j.data;if(E.provide("activityFile",O),Pn.buildBG(j.data.id),E.provide("statusFile",r),E.mount("#app"),console.log("TEST:::",n),n!=null){const N=$.getStorageSync("status");if(N){const x=oe.atob(N);if(!x)return!1;const y=JSON.parse(x);if(!y)return!1;r.value=y,console.log("%c%s",Y,"::LoadedData")}}if(i!=null&&i.length>4){const N=oe.atob(i);if(!N)return!1;if(En(N)){const x=JSON.parse(N);if(!x)return!1;r.value=x,console.log("%c%s",Y,"::UrlData")}else console.log("%c%s",Y,"::WRONG UrlData")}const I=te.throttle(function(N,x){const y=oe.btoa(JSON.stringify(N.value));$.setStorageSync("status",y);const b={status:y,results:r.value.finalize?L.value:null};var H=JSON.stringify(b);window.top.postMessage(H,"*")},2e3);me(()=>r,(N,x)=>{if(l!=null)return!1;I(N,x)},{deep:!0}),document.title=O.id+" | "+O.title,n!=null&&(document.title="::TEST:: "+O.id+" | "+O.title)}catch($){console.log("%c%s",Y,"::Error: "+$);var z=document.getElementById("app");z.innerHTML='<div class="erroroda">ERROR DE CARGA</div>'}else if(u!=null)E.provide("statusFile",!1),E.provide("activityFile",!1),E.provide("builderFile",!0),E.mount("#app");else{var z=document.getElementById("app");z.innerHTML='<div class="erroroda">ODA NO ENCONTRADA</div>'}}const Hn=e=>{var a=e.data;typeof a=="string"&&JSON.parse(a)};window.addEventListener("message",Hn,!1);window.addEventListener("resize",function(){window.innerWidth<=600&&E.config.globalProperties.emitter.emit("sidebarmini")});
