import{i as b,r as I,l as ie,o as e,c as x,w as T,T as R,a as c,b as n,t as $,u,F as g,d as h,e as Y,n as D,f as C,g as L,h as H,j as V,k as G,p as Z,m as ee,q as te,s as O,v as J,_ as se,x as U,y as W,G as ue,z as de,V as _e,A as ve,B as pe,C as ae,D as fe,E as ge}from"./vendor.7fe2604c.js";const he=function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))t(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&t(r)}).observe(document,{childList:!0,subtree:!0});function s(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerpolicy&&(i.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?i.credentials="include":o.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function t(o){if(o.ep)return;o.ep=!0;const i=s(o);fetch(o.href,i)}};he();const ye={class:"container text-center"},ke={class:"description my-2"},be={class:"my-2"},me=n("hr",null,null,-1),$e=n("h4",{class:"my-1"},"Aprendizajes esperados",-1),Se={class:"mb-2"},we=n("h4",{class:"my-1"},"Contenido central",-1),xe={class:"mb-2"},Ce=["data-animation-path","data-name"],Le={emits:["start"],setup(a,{emit:l}){const s=b("activityFile");b("statusFile");const t=I(),o=I(!0),i=()=>{o.value=!1},r=()=>{l("start")};return ie.searchAnimations(),(_,w)=>(e(),x(R,{name:"zoom",onAfterLeave:r},{default:T(()=>[o.value?(e(),c("div",{key:0,class:"dialog intro",ref_key:"introContainer",ref:t},[n("div",ye,[n("div",ke,[n("h1",be,$(u(s).title),1),n("p",null,$(u(s).asignatura),1),me,$e,n("p",Se,$(u(s).aprendizajes),1),u(s).contenidocentral?(e(),c(g,{key:0},[we,n("p",xe,$(u(s).contenidocentral),1)],64)):h("",!0)]),n("button",{class:"important",onClick:i},"Comenzar")]),n("div",{class:"lottie","data-animation-path":"odas/animations/intro_"+u(s).materia+".json","data-anim-loop":"true","data-name":"intro_"+u(s).materia},null,8,Ce)],512)):h("",!0)]),_:1}))}},Te={class:"material-icons-two-tone"},j={props:{},setup(a){return(l,s)=>(e(),c("div",Te,[Y(l.$slots,"default")]))}};var N=(a,l)=>{const s=a.__vccOpts||a;for(const[t,o]of l)s[t]=o;return s};const Ae=["innerHTML"],ze={key:0,class:"dialog"},Fe=L("close"),Ie={class:"ma-1"},Me={props:{label:String,classinit:Object},setup(a){const l=I(!1),s=()=>{l.value=!0},t=()=>{l.value=!1};return(o,i)=>(e(),c(g,null,[n("button",{onClick:s,innerHTML:a.label,class:D(a.classinit)},null,10,Ae),C(R,{name:"zoom"},{default:T(()=>[l.value?(e(),c("div",ze,[n("button",{class:"close",onClick:t},[C(j,null,{default:T(()=>[Fe]),_:1})]),n("div",Ie,[Y(o.$slots,"default",{},void 0,!0)])])):h("",!0)]),_:3})],64))}};var ne=N(Me,[["__scopeId","data-v-16797cfb"]]);const Oe=n("hr",null,null,-1),Pe={class:"area row"},De=L("Mostrar pantallas"),je=L("Cerrar pantallas"),Ne={props:{},setup(a){const l=H(),s=()=>{l.appContext.config.globalProperties.emitter.emit("solve")},t=b("test"),o=b("view"),i=()=>{o.value=!o.value,console.log(o.value)};return(r,_)=>u(t)?(e(),c(g,{key:0},[Oe,n("div",{class:"area row mb-1"},[n("button",{class:"test",onClick:s},"Resolver todo")]),n("div",Pe,[n("button",{class:"test",onClick:i},[u(o)?(e(),c(g,{key:1},[je],64)):(e(),c(g,{key:0},[De],64))])])],64)):h("",!0)}};const He=a=>(Z("data-v-5e37cb7c"),a=a(),ee(),a),Be={class:"area"},Ee=L("donut_large"),qe={class:"label"},Re={class:"progreso"},Ve=He(()=>n("hr",null,null,-1)),Ge={props:{},setup(a){const l=b("statusFile"),s=V(()=>{var t=l.value.answers,o={total:0,unanswered:0};return t&&(o.total=Object.keys(t).length,Object.keys(t).forEach(function(i){t[i],t[i]==null&&o.unanswered++})),o});return(t,o)=>(e(),c("div",Be,[n("h2",null,[C(j,null,{default:T(()=>[Ee]),_:1}),n("span",qe,"\xA0Progreso "+$(u(s).total-u(s).unanswered)+" /"+$(u(s).total),1)]),n("div",Re,[n("div",{class:"bar",style:G("width:"+Math.round((u(s).total-u(s).unanswered)/u(s).total*100)+"%")},null,4)]),Ve]))}};var Je=N(Ge,[["__scopeId","data-v-5e37cb7c"]]);const Ue={key:0,class:"area"},We=L("auto_awesome"),Ke={class:"label"},Qe={props:{},setup(a){const l=b("statusFile"),s=b("resultsFile"),t=()=>{const o=s.value.oksPercentage;var i="ok1";switch(!0){case(o<=100&&o>75):i="ok4";break;case(o<=75&&o>50):i="ok3";break;case(o<=50&&o>25):i="ok2";break}return i};return(o,i)=>u(l).finalize?(e(),c("div",Ue,[n("h2",{class:D(["puntaje",t()])},[C(j,null,{default:T(()=>[We]),_:1}),n("span",Ke,"\xA0Puntaje: "+$(u(s).oksPercentage)+"%",1)],2)])):h("",!0)}};var Xe=N(Qe,[["__scopeId","data-v-f0824b86"]]);const Ye=L("navigate_before"),Ze=L("navigate_next"),et={class:"area"},tt=n("hr",null,null,-1),st={class:"area row vertical extrainfo"},at={class:"text-center"},nt=n("h1",{class:"main mb-1"},"Aprendizajes esperados",-1),ot={class:"main"},lt={class:"text-center"},rt=n("h1",{class:"main mb-1"},"Contenido central",-1),ct={class:"main"},it=n("hr",null,null,-1),ut={class:"area pantallas"},dt=["onClick"],_t={class:"label"},vt=n("hr",null,null,-1),pt=n("hr",null,null,-1),ft={setup(a){const l=b("activityFile"),s=b("statusFile"),t=I(!0),o=H(),i=_=>{s.value.step=0,s.value.screen=_},r=()=>{J(l.id+"_").removeStorageSync("status"),location.reload()};return o.appContext.config.globalProperties.emitter.on("sidebarmini",_=>{t.value=!1}),(_,w)=>{const m=te("perfect-scrollbar");return e(),x(R,{name:"zoom"},{default:T(()=>[n("aside",{class:D(["ActivitySidebar",[t.value?"":"mini"]])},[n("div",{class:"openclosebtn",onClick:w[0]||(w[0]=y=>t.value=!t.value)},[t.value?(e(),x(j,{key:0},{default:T(()=>[Ye]),_:1})):(e(),x(j,{key:1},{default:T(()=>[Ze]),_:1}))]),C(m,{class:"container"},{default:T(()=>[n("div",et,[n("h1",null,$(u(l).title),1)]),tt,n("div",st,[C(ne,{label:"Aprendizajes esperados",classinit:["mb-1"]},{default:T(()=>[n("div",at,[nt,n("div",ot,$(u(l).aprendizajes),1)])]),_:1}),u(l).contenidocentral?(e(),x(ne,{key:0,label:"Contenido central"},{default:T(()=>[n("div",lt,[rt,n("div",ct,$(u(l).contenidocentral),1)])]),_:1})):h("",!0)]),it,n("div",ut,[n("ul",null,[(e(!0),c(g,null,O(u(l).screens,(y,S)=>(e(),c("li",{class:D(["screenItem",S==u(s).screen?"active":""]),onClick:A=>i(S)},[C(j,{class:D(S==u(s).screen?"active":"")},{default:T(()=>[L($(y.icon),1)]),_:2},1032,["class"]),n("span",_t,"\xA0"+$(y.title),1)],10,dt))),256))])]),vt,C(Je),C(Xe),C(Ne),pt,n("div",{class:"area row"},[n("button",{onClick:r},"Reiniciar")])]),_:1})],2)]),_:1})}}};const gt=["innerHTML"],ht=["innerHTML"],B={props:{data:Object},setup(a){const l=a,s=V(()=>({"--fontSize":l.data.size||"1rem"})),t=o=>window.MathJax.tex2svg(o).getElementsByTagName("svg")[0].outerHTML;return(o,i)=>a.data.block?(e(),c("div",{key:0,class:"blockmathCont",style:G(u(s)),innerHTML:t(a.data.math)},null,12,gt)):(e(),c("span",{key:1,class:"blockmathCont",style:G(u(s)),innerHTML:t(a.data.math)},null,12,ht))}};const oe={props:{},setup(a,{emit:l}){const s=b("test"),t=()=>{l("solve")};return(o,i)=>u(s)?(e(),c("button",{key:0,class:"solveModule test",onClick:t},"Resolver")):h("",!0)}};const yt=["id"],kt={key:0,class:"drops dropsLeft"},bt=["data"],mt=["innerHTML"],$t={class:"drags"},St=["data","data-index"],wt=L("pan_tool"),xt=["innerHTML"],Ct={key:1,class:"drops dropsRight"},Lt=["data"],Tt=["innerHTML"],At={props:{blockid:String,data:Object},setup(a){const l=a,s=b("statusFile"),t=H(),o=I(),i=I();var r="#block-"+l.blockid,_=r+" .drag",w=r+" .drop",m=null,y;const S=()=>{m=document.querySelectorAll(r+" .drop"),y=Draggable.create(_,{type:"x,y",bounds:r,zIndexBoost:!1,onDrag:function(v){A(v,this)},onClick:function(v){k(v,this)},onDragEnd:function(v){p(v,this)}})},A=(v,f)=>{for(var d=0;d<m.length;d++){if(f.hitTest(m[d],"40%"))return f.target.classList.add("hover"),m[d].classList.add("hover"),!1;f.target.classList.remove("hover"),m[d].classList.remove("hover")}},k=(v,f)=>{if(o.value!=null)return!1;var d=document.querySelector(r+" .drags");f.target.parentElement!=d&&(d.append(f.target),TweenLite.to(f.target,.2,{x:0,y:0}),M())},p=(v,f)=>{for(var d=!1,z=0;z<m.length;z++)f.hitTest(m[z],"40%")&&(d=!0,m[z].append(f.target),TweenLite.to(f.target,.2,{x:0,y:0}),f.target.classList.remove("hover"),m[z].classList.remove("hover"),M());d||TweenLite.to(f.target,.2,{x:0,y:0})},F=v=>{var f=btoa(v);return f},M=()=>{for(var v=document.querySelectorAll(_),f=[],d=0;d<v.length;d++){var z=v[d].getAttribute("data-index"),q=v[d].parentElement.getAttribute("data");f.push([z,q])}s.value.answers[l.blockid]=f},E=setInterval(function(){Draggable&&(S(),K())},500),K=()=>{clearInterval(E),ce()},ce=()=>{if(s.value.answers||(s.value.answers={}),s.value.answers[l.blockid]){var v=s.value.answers[l.blockid];for(var f in v){var d=v[f];if(d[1]){var z=document.querySelector(_+'[data-index="'+d[0]+'"]'),q=document.querySelector(w+"[data="+d[1]+"]");q.append(z)}}}else s.value.answers[l.blockid]=null;s.value.finalize&&X()},Q=()=>{for(var v=document.querySelectorAll(_),f=0;f<v.length;f++){var d=atob(v[f].getAttribute("data")),z=document.querySelector(w+"[data="+d+"]");z.append(v[f])}M()},X=()=>{for(var v=document.querySelectorAll(_),f=0,d=0;d<v.length;d++){y[d].disable();var z=atob(v[d].getAttribute("data")),q=v[d].parentElement.getAttribute("data");z==q?v[d].classList.add("isok"):(v[d].classList.add("notok"),f++)}f==0?o.value=!0:o.value=!1,s.value.result[l.blockid]=o.value};return t.appContext.config.globalProperties.emitter.on("solve",v=>{Q()}),t.appContext.config.globalProperties.emitter.on("finalize",v=>{X()}),(v,f)=>(e(),c(g,null,[n("div",{class:"blockDragDrop",id:"block-"+a.blockid,ref_key:"block",ref:i},[a.data.dropsLeft?(e(),c("section",kt,[(e(!0),c(g,null,O(a.data.dropsLeft,(d,z)=>(e(),c("div",{class:"drop",data:d[1]},[typeof d[0]=="string"?(e(),c("div",{key:0,class:"content",innerHTML:d[0]},null,8,mt)):d[0].math?(e(),x(B,{key:1,data:d[0]},null,8,["data"])):h("",!0)],8,bt))),256))])):h("",!0),n("section",$t,[(e(!0),c(g,null,O(a.data.drags,(d,z)=>(e(),c("div",{class:"drag",data:F(d[1]),"data-index":z},[C(j,null,{default:T(()=>[wt]),_:1}),typeof d[0]=="string"?(e(),c("div",{key:0,class:"content",innerHTML:d[0]},null,8,xt)):d[0].math?(e(),x(B,{key:1,data:d[0]},null,8,["data"])):h("",!0)],8,St))),256))]),a.data.dropsRight?(e(),c("section",Ct,[(e(!0),c(g,null,O(a.data.dropsRight,(d,z)=>(e(),c("div",{class:"drop",data:d[1]},[typeof d[0]=="string"?(e(),c("div",{key:0,class:"content",innerHTML:d[0]},null,8,Tt)):d[0].math?(e(),x(B,{key:1,data:d[0]},null,8,["data"])):h("",!0)],8,Lt))),256))])):h("",!0)],8,yt),C(oe,{onSolve:Q})],64))}};var zt=N(At,[["__scopeId","data-v-7807bcf4"]]);const Ft=["id"],It=["onClick"],Mt=L("touch_app"),Ot={class:"option-letter"},Pt=["innerHTML"],Dt={props:{blockid:String,data:Object},setup(a){const l=a,s=I(),t=b("statusFile"),o=H(),i=I(),r=I([]);var _=I(!0);const w=p=>"abcdefghijk"[p],m=()=>{for(var p in l.data.options)l.data.options,r.value[p]=!1;y(),t.value.answers||(t.value.answers={}),t.value.answers[l.blockid]?r.value=t.value.answers[l.blockid]:t.value.answers[l.blockid]=null},y=()=>{var p=0;l.data.options.forEach(F=>{F[1]&&(p+=1)}),p>1&&(_.value=!1)};m();const S=p=>{if(t.value.finalize)return!1;if(_.value){for(var F in r.value)r.value[F]=!1;r.value[p]=!0}else r.value[p]=!r.value[p];t.value.answers[l.blockid]=r.value},A=()=>{for(var p=l.data.options,F=0;F<p.length;F++)p[F][1]?r.value[F]=!0:r.value[F]=!1;t.value.answers[l.blockid]=r.value},k=()=>{for(var p=l.data.options,F=[],M=0;M<p.length;M++)F.push(p[M][1]);se.isEqual(F,r.value)?(s.value=!0,i.value.classList.add("isok")):(s.value=!1,i.value.classList.add("notok")),t.value.result[l.blockid]=s.value};return o.appContext.config.globalProperties.emitter.on("solve",p=>{A()}),o.appContext.config.globalProperties.emitter.on("finalize",p=>{k()}),(p,F)=>(e(),c(g,null,[n("div",{class:"blockSelect",id:"block-"+a.blockid,ref_key:"block",ref:i},[(e(!0),c(g,null,O(a.data.options,(M,E)=>(e(),c("div",{class:D(["blockSelectOption",r.value[E]?"active":""]),onClick:K=>S(E)},[C(j,null,{default:T(()=>[Mt]),_:1}),n("div",Ot,$(w(E)),1),typeof M[0]=="string"?(e(),c("div",{key:0,class:"content",innerHTML:M[0]},null,8,Pt)):M[0].math?(e(),x(B,{key:1,data:M[0]},null,8,["data"])):h("",!0)],10,It))),256))],8,Ft),C(oe,{onSolve:A})],64))}};const jt=["src"],Nt={props:{data:{type:Object}},setup(a){const l=b("activityFile");return(s,t)=>(e(),c("img",{class:"blockImg",src:"odas/"+u(l).id+"/"+a.data.img},null,8,jt))}};var le=N(Nt,[["__scopeId","data-v-1def06aa"]]);const Ht=["title"],Bt=["innerHTML"],Et=L("contact_support"),qt={key:2,class:"termDefinition"},Rt={key:0},Vt={key:0},Gt={props:{data:{type:Object}},setup(a){const l=I(!1),s=()=>{l.value=!l.value};return(t,o)=>(e(),c("div",{class:"blockTerm",title:a.data.d,onClick:s},[a.data.t?(e(),c("span",{key:0,innerHTML:a.data.t},null,8,Bt)):h("",!0),a.data.i?(e(),x(le,{key:1,data:{img:a.data.i}},null,8,["data"])):h("",!0),C(j,null,{default:T(()=>[Et]),_:1}),l.value?(e(),c("div",qt,[typeof a.data.d=="string"?(e(),c("p",Rt,$(a.data.d),1)):(e(!0),c(g,{key:1},O(a.data.d,(i,r)=>(e(),c(g,null,[typeof i=="string"?(e(),c("p",Vt,$(i),1)):i.math?(e(),x(B,{key:1,data:i},null,8,["data"])):h("",!0)],64))),256))])):h("",!0)],8,Ht))}};var Jt=N(Gt,[["__scopeId","data-v-fdef45ae"]]);const Ut={class:"blockContainer"},Wt=["innerHTML"],Kt={key:1},Qt=["innerHTML"],Xt={key:0,class:"text-center my-2"},Yt={props:{block:Object,blockid:String},setup(a){const l=a,s=b("view"),t=V(()=>({"--block-width":l.block.width||"100%"}));return(o,i)=>a.block.content.length?(e(),c("div",{key:0,class:"block",style:G(u(t))},[n("div",Ut,[(e(!0),c(g,null,O(a.block.content,(r,_)=>(e(),c(g,null,[typeof r=="string"?(e(),c("span",{key:0,innerHTML:r},null,8,Wt)):r.br?(e(),c("br",Kt)):r.text?(e(),c("div",{key:2,innerHTML:r.text,class:D(r.class||"my-2")},null,10,Qt)):r.term?(e(),x(Jt,{key:3,data:r},null,8,["data"])):r.img?(e(),x(le,{key:4,data:r},null,8,["data"])):r.math?(e(),x(B,{key:5,data:r},null,8,["data"])):h("",!0),r.dragdrop?(e(),x(zt,{key:6,data:r,blockid:a.blockid+"-"+_},null,8,["data","blockid"])):h("",!0),r.select?(e(),x(Dt,{key:7,data:r,blockid:a.blockid+"-"+_},null,8,["data","blockid"])):h("",!0)],64))),256))]),u(s)?h("",!0):(e(),c("div",Xt,[a.block.buttonNextStep?(e(),c("button",{key:0,onClick:i[0]||(i[0]=r=>o.$emit("stepNext"))},$(a.block.buttonNextStep),1)):h("",!0),a.block.buttonNextScreen?(e(),c("button",{key:1,class:"important",onClick:i[1]||(i[1]=r=>o.$emit("screenNext",1))},$(a.block.buttonNextScreen),1)):h("",!0)]))],4)):h("",!0)}},Zt={class:"block ScreenBlockEnd"},es={class:"text-center"},ts={class:"my-3"},ss=L("De un total de "),as=L(" tienes "),ns={class:"high"},os=L("."),ls=["onClick"],rs=n("div",{class:"my-3"},"\xBFDeseas finalizar?",-1),cs={key:1,class:"my-3"},is=n("span",null,[L("Has contestado todas las preguntas. Verifica tus respuestas y da clic en "),n("strong",null,'"finalizar"'),L(".")],-1),us=[is],ds={key:2,class:"my-3"},_s=n("span",null,"Muy bien. Has llegado al final de la actividad.",-1),vs=[_s],ps=n("hr",null,null,-1),fs=n("div",{class:"my-3"},[n("strong",null,"Actividad finalizada.")],-1),gs={class:"my-3"},hs=L("De un total de "),ys=L(" obtuviste un "),ks={class:"high"},bs=L("."),ms=n("div",{class:"my-3"},"A continuaci\xF3n podr\xE1s ver un res\xFAmen de tus resultados:",-1),$s={class:"row wrap"},Ss=["onClick"],ws=n("div",{class:"my-3"},"Puedes ver tus resultados individuales o repasar los contenidos navegando con el men\xFA de la izquierda.",-1),xs=n("div",{class:"my-3"},"Tambi\xE9n puedes reiniciar la actividad:",-1),Cs={props:{},setup(a){const l=b("activityFile"),s=b("statusFile"),t=b("resultsFile"),o=H(),i=y=>{var S=y.split("-"),A=S[0],k=S[1],p=l.screens[A].title;return p+" > Bloque "+k},r=y=>{var S=y.split("-"),A=S[0],k=S[1];s.value.screen=A*1,s.value.step=k*1},_=V(()=>{var y=s.value.answers,S={tot:"",total:0,unanswered:{},unansweredLength:0};if(y){S.total=Object.keys(y).length;var A={};Object.keys(y).forEach(function(k){var p=y[k];y[k]==null&&(A[k]=p,S.unansweredLength++)}),se(A).keys().sort().each(function(k){S.unanswered[k]=A[k]})}return S}),w=()=>{s.value.finalize=!0,o.appContext.config.globalProperties.emitter.emit("finalize");for(var y in s.value.result)t.value.total++,s.value.result[y]?t.value.oks++:t.value.errors++;t.value.total&&(t.value.oksPercentage=Math.round(t.value.oks*100/t.value.total),t.value.errorsPercentage=100-t.value.oksPercentage)};s.value.finalize&&setTimeout(function(){w()},1e3);const m=()=>{console.log(l.id),J(l.id+"_").removeStorageSync("status"),location.reload()};return(y,S)=>(e(),c("div",Zt,[n("div",es,[u(s).finalize?(e(),c(g,{key:1},[fs,u(t).total>0?(e(),c(g,{key:0},[n("div",gs,[hs,n("strong",null,$(u(t).total)+" preguntas",1),ys,n("strong",ks,$(u(t).oksPercentage)+"% de aciertos",1),bs]),u(t).errors>0?(e(),c(g,{key:0},[ms,n("div",$s,[(e(!0),c(g,null,O(u(s).result,(A,k)=>(e(),c("div",{class:D(["px-3 bg-light ma-1 floatcard",A?"isok":"notok"])},[n("button",{class:"bg-clear ma-1",onClick:p=>r(k)},$(i(k)),9,Ss)],2))),256))])],64)):h("",!0)],64)):(e(),c(g,{key:1},[],64)),ws,xs,n("button",{class:"important",onClick:m},"Reiniciar")],64)):(e(),c(g,{key:0},[u(_).unansweredLength?(e(),c(g,{key:0},[n("div",ts,[n("span",null,[ss,n("strong",null,$(u(_).total)+" preguntas",1),as,n("strong",ns,$(u(_).unansweredLength)+" sin contestar",1),os])]),(e(!0),c(g,null,O(u(_).unanswered,(A,k)=>(e(),c("button",{class:"high ma-1",onClick:p=>r(k)},$(i(k)),9,ls))),256)),rs],64)):u(_).total>0?(e(),c("div",cs,us)):(e(),c("div",ds,vs)),ps,n("div",{class:"my-4"},[n("button",{class:"important",onClick:w},"Finalizar")])],64))])]))}};const re=a=>(Z("data-v-f058a316"),a=a(),ee(),a),Ls={class:"stepsNavigation"},Ts=["disabled"],As=L("navigate_before"),zs=re(()=>n("span",{class:"txt"},"Anterior",-1)),Fs=["disabled"],Is=re(()=>n("span",{class:"txt"},"Siguiente",-1)),Ms=L("navigate_next"),Os={props:{steps:{type:Number,required:!0}},setup(a,{emit:l}){const s=a,t=b("statusFile");I(0);const o=i=>{(i==-1&&t.value.step>0||i==1&&t.value.step<s.steps-1)&&(t.value.step+=i,l("stepChanged"))};return(i,r)=>(e(),c("div",Ls,[n("button",{onClick:r[0]||(r[0]=_=>o(-1)),disabled:u(t).step==0},[C(j,null,{default:T(()=>[As]),_:1}),zs],8,Ts),(e(!0),c(g,null,O(a.steps,(_,w)=>(e(),c("div",{class:D(["step",[u(t).step==w?"active":"non-active"]])},null,2))),256)),n("button",{onClick:r[1]||(r[1]=_=>o(1)),disabled:u(t).step==a.steps-1},[Is,C(j,null,{default:T(()=>[Ms]),_:1})],8,Fs)]))}};var Ps=N(Os,[["__scopeId","data-v-f058a316"]]);const Ds={key:0,class:"activityScreenTitle"},js={props:{screenindex:{type:Number},screen:{type:Object,required:!0}},setup(a){const l=a,s=b("view"),t=I(),o=b("statusFile"),i=V(()=>({})),r=()=>{o.value.step++,w()},_=m=>s.value?!0:l.screen.steps?o.value.step==m:!0,w=()=>{t.value.$el.scrollTop=0};return(m,y)=>{const S=te("perfect-scrollbar");return e(),c("div",{class:D(["activityScreen",u(s)?"desplegado":""]),style:G(u(i))},[u(s)?(e(),c("div",Ds,$(a.screen.title),1)):h("",!0),C(S,{ref_key:"scroll",ref:t},{default:T(()=>[a.screen.end?U((e(),x(Cs,{key:1},null,512)),[[W,a.screen.end]]):(e(!0),c(g,{key:0},O(a.screen.blocks,(A,k)=>(e(),x(R,{name:"slide"},{default:T(()=>[U(C(Yt,{block:A,onStepNext:r,onScreenNext:y[0]||(y[0]=p=>m.$emit("screenNext",p)),blockid:a.screenindex+"-"+k},null,8,["block","blockid"]),[[W,_(k)]])]),_:2},1024))),256))]),_:1},512),a.screen.steps&&!u(s)?(e(),x(Ps,{key:1,steps:a.screen.blocks.length,onStepChanged:w},null,8,["steps"])):h("",!0)],6)}}};var Ns=N(js,[["__scopeId","data-v-e460de88"]]);const Hs={setup(a){const l=b("view"),s=b("activityFile"),t=b("statusFile"),o=r=>{t.value.step=0,t.value.screen+=r},i=r=>l.value?!0:r==t.value.screen;return(r,_)=>(e(),x(R,{name:"zoom"},{default:T(()=>[n("section",{class:D(["Activity",u(l)?"desplegado":""])},[(e(!0),c(g,null,O(u(s).screens,(w,m)=>U((e(),x(Ns,{screen:w,onScreenNext:o,screenindex:m},null,8,["screen","screenindex"])),[[W,i(m)]])),256))],2)]),_:1}))}};const Bs={setup(a){const l=b("activityFile"),s=b("statusFile"),t=o=>{s.value.state=o};return(o,i)=>u(l)&&u(s)?(e(),c(g,{key:0},[u(s).state=="@intro"?(e(),x(Le,{key:0,onStart:i[0]||(i[0]=r=>t("@activity"))})):u(s).state=="@activity"?(e(),c(g,{key:1},[C(ft),C(Hs)],64)):h("",!0)],64)):h("",!0)}};function Es(a){var l=ue.generate(a||"-");const s=l.toDataUrl();var t=document.createElement("style");t.type="text/css",t.innerHTML="#app {background-image: "+s+";}",document.getElementsByTagName("head")[0].appendChild(t)}var qs={buildBG:Es};const Rs=ge();H();var P=de(Bs);P.config.globalProperties.emitter=Rs;P.use(_e);P.use(ve);gsap.registerPlugin(Draggable);P.provide("view",I(!1));Vs();async function Vs(){const a=window.location.search,l=new URLSearchParams(a),s=l.get("test");s!=null?(console.log("%c Test Mode! ","background: #222; color: #bada55"),P.provide("test",!0)):P.provide("test",!1);const t=l.get("oda");if(t)try{const o=J(t+"_"),i=await pe.get("./odas/"+t+"/oda.json"),r=i.data;P.provide("activityFile",r),qs.buildBG(i.data.id);const w=I({state:"@intro",screen:0,step:0,answers:{},result:{}});P.provide("statusFile",w);const m=I({total:0,oks:0,errors:0,oksPercentage:0,errorsPercentage:0});P.provide("resultsFile",m),P.mount("#app");const y=o.getStorageSync("status");y&&(w.value=JSON.parse(ae.atob(y)),console.log("Saved data loaded")),fe(()=>w,(S,A)=>{const k=ae.btoa(JSON.stringify(S.value));o.setStorageSync("status",k)},{deep:!0}),document.title=r.id+" | "+r.title,s&&(document.title="::TEST:: "+r.id+" | "+r.title)}catch(o){alert("Ocurri\xF3 un error al cargar la ODA"),console.log(o)}else alert("ODA no definida")}window.addEventListener("resize",function(){window.innerWidth<=600&&(console.log("ressszzz"),console.log(P.config),P.config.globalProperties.emitter.emit("sidebarmini"))});
