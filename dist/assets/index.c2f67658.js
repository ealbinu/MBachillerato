import{o as a,c,r as $e,n as D,a as y,b as K,d as Q,u,F as $,e as z,i as w,f as s,g as V,h as p,w as M,j as x,k as ee,t as N,l as I,_ as se,m as ne,p as we,q as le,s as xe,v as Se,S as Ie,x as J,y as Y,z as oe,A as Ce,B as Ae,C as ce,T as _e,D as Te,E as be,G as ke,H as fe,I as me,V as Oe,J as re,K as Le,L as ze,M as Be,N as Ee,O as je,W as Z,P as Me,Q as ie,R as De}from"./vendor.4e17e81b.js";const Fe=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))n(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const d of i.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&n(d)}).observe(document,{childList:!0,subtree:!0});function o(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerpolicy&&(i.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?i.credentials="include":l.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(l){if(l.ep)return;l.ep=!0;const i=o(l);fetch(l.href,i)}};Fe();const H={props:{class:String},setup(e){return(t,o)=>(a(),c("i",{class:D(["material-icons theicon",e.class])},[$e(t.$slots,"default")],2))}};var W=(e,t)=>{const o=e.__vccOpts||e;for(const[n,l]of t)o[n]=l;return o};const Ve=["innerHTML"],Ne=["innerHTML"],Pe={props:{data:Object},setup(e){const t=e,o=y(!1),n=K(()=>({"--fontSize":t.data.size||"1rem","--fontSizeBlock":t.data.size||"1.5rem"})),l=i=>window.MathJax.tex2svg(i).getElementsByTagName("svg")[0].outerHTML;return setTimeout(()=>{o.value=!0},200),(i,d)=>o.value?(a(),c($,{key:0},[e.data.block?(a(),c("div",{key:0,class:D(["blockmathCont animate__animated animate__jello animate__delay-2s",[e.data.dark?"dark":"light"]]),style:Q(u(n)),innerHTML:l(e.data.math)},null,14,Ve)):(a(),c("span",{key:1,class:D(["blockmathCont",[e.data.dark?"dark":"light"]]),style:Q(u(n)),innerHTML:l(e.data.math)},null,14,Ne))],64)):z("",!0)}};const de={props:{},setup(e,{emit:t}){const o=w("test"),n=()=>{t("solve")};return(l,i)=>u(o)?(a(),c("button",{key:0,class:"solveModule test",onClick:n},"Resolver")):z("",!0)}};const Re=["id"],Ue={key:0,class:"drops dropsLeft"},Ge=["data"],qe={class:"drags"},He=["data","data-index"],Je=x("pan_tool"),We={class:"feedback f0 animate__animated animate__flash"},Qe={class:"feedback f1 animate__animated animate__flash"},Ke={key:1,class:"drops dropsRight"},Xe=["data"],Ye={props:{blockid:String,data:Object},setup(e){const t=e,o=w("Audios"),n=w("statusFile"),l=w("blocked"),i=ee(),d=y(),b=y();var r="#block-"+t.blockid,g=r+" .drag",f=r+" .drop",k=null,j;const A=()=>{if(k=document.querySelectorAll(r+" .drop"),l)return!1;j=Draggable.create(g,{type:"x,y",bounds:r,zIndexBoost:!1,onDrag:function(h){T(h,this)},onClick:function(h){R(h,this)},onDragEnd:function(h){P(h,this)}})},T=(h,S)=>{for(var m=0;m<k.length;m++){if(S.hitTest(k[m],"40%"))return S.target.classList.add("hover"),k[m].classList.add("hover"),!1;S.target.classList.remove("hover"),k[m].classList.remove("hover")}},R=(h,S)=>{if(d.value!=null)return!1;o.scancel.play();var m=document.querySelector(r+" .drags");S.target.parentElement!=m&&(m.append(S.target),TweenLite.to(S.target,.2,{x:0,y:0}),S.target.removeAttribute("data-feedback"),v())},P=(h,S)=>{for(var m=!1,F=0;F<k.length;F++)S.hitTest(k[F],"40%")&&(m=!0,k[F].append(S.target),TweenLite.to(S.target,.2,{x:0,y:0}),S.target.classList.remove("hover"),k[F].classList.remove("hover"),G(S.target),v());m?o.sBlockDrag.play():TweenLite.to(S.target,.2,{x:0,y:0})},C=h=>{var S=btoa(h);return S},v=()=>{for(var h=document.querySelectorAll(g),S=[],m=0;m<h.length;m++){var F=h[m].getAttribute("data-index"),X=h[m].parentElement.getAttribute("data");S.push([F,X])}n.value.answers[t.blockid]=S},O=setInterval(function(){Draggable&&(A(),_())},500),_=()=>{clearInterval(O),E()},E=()=>{if(n.value.answers||(n.value.answers={}),n.value.answers[t.blockid]){var h=n.value.answers[t.blockid];for(var S in h){var m=h[S];if(m[1]){var F=document.querySelector(g+'[data-index="'+m[0]+'"]'),X=document.querySelector(f+"[data="+m[1]+"]");X.append(F)}}}else n.value.answers[t.blockid]=null;n.value.finalize&&L()},B=()=>{for(var h=document.querySelectorAll(g),S=0;S<h.length;S++){var m=atob(h[S].getAttribute("data")),F=document.querySelector(f+"[data="+m+"]");F.append(h[S])}v()},G=h=>{var S=atob(h.getAttribute("data")),m=h.parentElement.getAttribute("data");S==m?h.setAttribute("data-feedback",0):h.setAttribute("data-feedback",1)},L=()=>{for(var h=document.querySelectorAll(g),S=0,m=0;m<h.length;m++){j[m].disable();var F=atob(h[m].getAttribute("data")),X=h[m].parentElement.getAttribute("data");F==X?h[m].classList.add("isok"):(h[m].classList.add("notok"),S++),G(h[m])}S==0?d.value=!0:d.value=!1,n.value.result[t.blockid]=d.value};return i.appContext.config.globalProperties.emitter.on("solve",h=>{B()}),i.appContext.config.globalProperties.emitter.on("finalize",h=>{L()}),(h,S)=>(a(),c($,null,[s("div",{class:"blockDragDrop",id:"block-"+e.blockid,ref_key:"block",ref:b},[e.data.dropsLeft?(a(),c("section",Ue,[(a(!0),c($,null,V(e.data.dropsLeft,(m,F)=>(a(),c("div",{class:"drop",data:m[1]},[p(U,{item:m[0],blockid:e.blockid+"-dropLeft-"+F},null,8,["item","blockid"])],8,Ge))),256))])):z("",!0),s("section",qe,[(a(!0),c($,null,V(e.data.drags,(m,F)=>(a(),c("div",{class:"drag",data:C(m[1]),"data-index":F},[p(H,null,{default:M(()=>[Je]),_:1}),p(U,{item:m[0],blockid:e.blockid+"-drag-"+F},null,8,["item","blockid"]),m[2]?(a(),c($,{key:0},[s("div",We,[p(U,{item:m[2][0],blockid:e.blockid+"-dropRight-"+F+"-feedback"},null,8,["item","blockid"])]),s("div",Qe,[p(U,{item:m[2][1],blockid:e.blockid+"-dropRight-"+F+"-feedback"},null,8,["item","blockid"])])],64)):z("",!0)],8,He))),256))]),e.data.dropsRight?(a(),c("section",Ke,[(a(!0),c($,null,V(e.data.dropsRight,(m,F)=>(a(),c("div",{class:"drop",data:m[1]},[p(U,{item:m[0],blockid:e.blockid+"-dropRight-"+F},null,8,["item","blockid"])],8,Xe))),256))])):z("",!0)],8,Re),p(de,{onSolve:B})],64))}};var Ze=W(Ye,[["__scopeId","data-v-78e4655b"]]);const et=["id"],tt=["onClick"],at=x("touch_app"),st={class:"option-letter"},nt={class:"feedback text-center"},lt={props:{blockid:String,data:Object},setup(e){const t=e,o=y(void 0),n=w("statusFile"),l=w("blocked"),i=w("Audios"),d=ee(),b=y(),r=y([]);var g=y(!0);const f=()=>{for(var v=t.data.options,O=[],_=0;_<v.length;_++)O.push(v[_][1]);se.isEqual(O,r.value)?o.value=!0:o.value=!1},k=v=>"abcdefghijk"[v],j=()=>{for(var v in t.data.options)t.data.options,r.value[v]=!1;A(),n.value.answers||(n.value.answers={}),n.value.answers[t.blockid]?(r.value=n.value.answers[t.blockid],f()):n.value.answers[t.blockid]=null},A=()=>{var v=0;t.data.options.forEach(O=>{O[1]&&(v+=1)}),v>1&&(g.value=!1)};j();const T=v=>{if(l||n.value.finalize)return!1;if(i.sBlockSelect.play(),g.value){for(var O in r.value)r.value[O]=!1;r.value[v]=!0}else r.value[v]=!r.value[v];f(),n.value.answers[t.blockid]=r.value},R=()=>{for(var v=t.data.options,O=0;O<v.length;O++)v[O][1]?r.value[O]=!0:r.value[O]=!1;n.value.answers[t.blockid]=r.value},P=()=>{for(var v=t.data.options,O=[],_=0;_<v.length;_++)O.push(v[_][1]);se.isEqual(O,r.value)?(o.value=!0,b.value.classList.add("isok")):(o.value=!1,b.value.classList.add("notok")),n.value.result[t.blockid]=o.value};d.appContext.config.globalProperties.emitter.on("solve",v=>{R()}),d.appContext.config.globalProperties.emitter.on("finalize",v=>{P()});const C=K(()=>({"--block-grid-template-columns":t.data.columns||"1fr 1fr 1fr 1fr","--block-grid-template-columns-responsive":t.data.columnsResponsive||"1fr","--block-grid-gap":t.data.gap||"10px"}));return(v,O)=>(a(),c($,null,[s("div",{class:"blockSelect",id:"block-"+e.blockid,ref_key:"block",ref:b,style:Q(u(C))},[(a(!0),c($,null,V(e.data.options,(_,E)=>(a(),c("div",{onClick:B=>T(E),class:D([r.value[E]?"active "+e.data.optionClassActive:"",e.data.optionClass||"blockSelectOption"])},[e.data.optionClass?z("",!0):(a(),c($,{key:0},[p(H,null,{default:M(()=>[at]),_:1}),s("div",st,N(k(E)),1)],64)),p(U,{item:_[0],blockid:e.blockid+"-selectitem"},null,8,["item","blockid"])],10,tt))),256))],12,et),s("div",nt,[e.data.feedback&&r.value.some(_=>_==!0)?(a(),c($,{key:0},[typeof e.data.feedback[o.value?0:1]=="string"?(a(),I(U,{key:0,item:e.data.feedback[o.value?0:1],blockid:e.blockid+"-selectitem-feedback"},null,8,["item","blockid"])):(a(!0),c($,{key:1},V(e.data.feedback[o.value?0:1],(_,E)=>(a(),I(U,{key:E,item:_,blockid:e.blockid+"-selectitem-feedback-"+E},null,8,["item","blockid"]))),128))],64)):z("",!0)]),p(de,{onSolve:R})],64))}};const ot=["src"],ct={props:{data:Object},setup(e){const t=w("activityFile"),o=K(()=>({}));return(n,l)=>(a(),c("img",{class:D(["blockImg",e.data.class]),src:"odas/"+u(t).id+"/"+e.data.img,style:Q(u(o))},null,14,ot))}};var it=W(ct,[["__scopeId","data-v-178f5118"]]);const rt={class:"relative mr-2"},dt=x("contact_support"),ut={class:"min-w-[10rem] text-xs"},vt={props:{data:{type:Object}},setup(e){return y(!1),(t,o)=>{const n=ne("Popper");return a(),I(n,{class:D(e.data.class),placement:e.data.placement,arrow:!0},{content:M(()=>[s("div",ut,[(a(!0),c($,null,V(e.data.content,(l,i)=>(a(),I(U,{key:i,item:l},null,8,["item"]))),128))])]),default:M(()=>[s("span",rt,[p(U,{item:e.data.term},null,8,["item"]),p(H,{class:"termIcon animate__animated animate__flash animate__infinite animate__slow absolute top-0 -right-3 text-xs"},{default:M(()=>[dt]),_:1})])]),_:1},8,["class","placement"])}}};var mt=W(vt,[["__scopeId","data-v-70051f0c"]]);const _t={props:{data:Object,blockid:String},setup(e){const t=e;return K(()=>({"--fontSize":t.data.size||"1rem"})),(o,n)=>{const l=ne("apexchart");return e.data.chart=="line"?(a(),c($,{key:0},[s("p",null,N(e.data),1),p(l,{type:e.data.chart,options:e.data.options,series:e.data.series},null,8,["type","options","series"])],64)):z("",!0)}}};var bt=we({props:{data:Object,blockid:String},setup(e){const t=e;K(()=>({"--fontSize":t.data.size||"1rem"}));const o=y(),n=y(),l=y(),i=()=>{let d=o.value.getBoundingClientRect(),b=340,r=200,g=d.width/b;b*=g,r*=g,l.value=functionPlot({title:typeof t.data.plot=="string"?t.data.plot:"",target:n.value,width:b,height:r,yAxis:t.data.yAxis,xAxis:t.data.xAxis,grid:!1,data:t.data.data,annotations:t.data.annotations})};return setTimeout(()=>{i()},500),(d,b)=>(a(),c("div",{class:"blockPlot",ref_key:"blockParent",ref:o},[s("div",{ref_key:"block",ref:n},null,512)],512))}});const kt={class:"blockGridItem"},ft={props:{data:Object,blockid:String},setup(e){const t=e,o=K(()=>({"--block-grid-template-columns":t.data.columns||"auto auto auto auto","--block-grid-template-columns-responsive":t.data.columnsResponsive||"auto","--block-grid-gap":t.data.gap||"10px"}));return(n,l)=>(a(),c("div",{class:D(["blockGrid",e.data.class]),style:Q([u(o),e.data.style])},[(a(!0),c($,null,V(e.data.content,(i,d)=>(a(),c("div",kt,[p(U,{item:i,blockid:e.blockid+"-"+d},null,8,["item","blockid"])]))),256))],6))}},gt=["id","data","data-scroll"],pt={props:{data:Object,blockid:String},setup(e){const t=e,o=y(),n=K(()=>({}));return le(()=>{if(t.data.scrollClass){const l=t.data.scrollClass.split(" ");o.value.setAttribute("data-scroll-classes",l),xe({scrollingElement:".drawer-content",onShown(i){i.classList.remove(...i.getAttribute("data-scroll-classes").split(",")),i.offsetWidth,i.classList.add(...i.getAttribute("data-scroll-classes").split(","))},onChange:function(i,d,b){}})}}),(l,i)=>(a(),c("div",{class:D(["blockGroup",e.data.class]),id:e.data.id,data:e.data.data,style:Q(u(n)),ref_key:"group",ref:o,"data-scroll":e.data.scrollClass?!0:void 0},[(a(!0),c($,null,V(e.data.content,(d,b)=>(a(),I(U,{item:d,blockid:e.blockid+"-"+b},null,8,["item","blockid"]))),256))],14,gt))}};const ht=["id"],yt=["data"],$t={class:"gestureIcon"},wt=x("swipe_vertical"),xt={props:{blockid:String,data:Object},setup(e){const t=e,o=y(),n=y(),l=w("statusFile"),i=w("blocked"),d=ee(),b=y(se.shuffle(t.data.items));(()=>{l.value.answers[t.blockid]?b.value=l.value.answers[t.blockid]:l.value.answers[t.blockid]=null})();const g=()=>{l.value.answers[t.blockid]=b.value},f=()=>{b.value=t.data.items,g()},k=()=>{se.isEqual(b.value,t.data.items)?(o.value=!0,n.value.classList.add("isok")):(o.value=!1,n.value.classList.add("notok")),l.value.result[t.blockid]=o.value};return d.appContext.config.globalProperties.emitter.on("solve",j=>{f()}),d.appContext.config.globalProperties.emitter.on("finalize",j=>{k()}),(j,A)=>(a(),c($,null,[s("div",{class:D(["blockSortable",[e.data.class]]),id:"block-"+e.blockid,ref_key:"block",ref:n},[p(u(Se),{modelValue:b.value,"onUpdate:modelValue":A[0]||(A[0]=T=>b.value=T),"item-key":"id",onEnd:g,sort:!(u(i)||u(l).finalize)},{item:M(({element:T,index:R})=>[s("div",{class:D(["sortable-item",[e.data.numbers?"shownumbers":"",e.data.classItem]]),data:R+1},[s("div",$t,[p(H,null,{default:M(()=>[wt]),_:1})]),p(U,{item:T,blockid:e.blockid+"-sortableitem"},null,8,["item","blockid"])],10,yt)]),_:1},8,["modelValue","sort"])],10,ht),p(de,{onSolve:f})],64))}};var St=W(xt,[["__scopeId","data-v-e73f09a6"]]);const It=["innerHTML"],Ct={props:{data:Object},setup(e){const t=e;y(!1);const o=y(t.data.text);t.data.text.match(/.{1,10}/g);const n=K(()=>({}));return(l,i)=>(a(),c("div",{class:D(["blockText animate__animated",[e.data.class]]),style:Q(u(n)),innerHTML:o.value},null,14,It))}};var At=W(Ct,[["__scopeId","data-v-e259dbc2"]]);const Tt={props:{data:Object},setup(e){const t=e,o=K(()=>({"--block-fontSize":t.data.size||"1rem","--block-block":t.data.block?"block":"inline-block"}));return(n,l)=>(a(),c("div",{class:D(["blockIcon",[e.data.class]]),style:Q(u(o))},[p(H,null,{default:M(()=>[x(N(e.data.icon),1)]),_:1})],6))}};var Ot=W(Tt,[["__scopeId","data-v-3173a235"]]);const Lt={props:{data:Object,blockid:String},setup(e){const t=e,o=K(()=>({"--block-align":t.data.align||"left"}));return(n,l)=>(a(),c("div",{class:D(["blockInstruction animate__animated animate__bounce animate__delay-3s",[e.data.class]]),style:Q([u(o),e.data.style])},[(a(!0),c($,null,V(e.data.content,(i,d)=>(a(),I(U,{item:i,blockid:e.blockid+"-instruction-"+d},null,8,["item","blockid"]))),256))],6))}};var zt=W(Lt,[["__scopeId","data-v-2768cab3"]]);const Bt={props:{data:Object,blockid:String},setup(e){const t=e,o=K(()=>({"--block-align":t.data.align||"left"}));return(n,l)=>(a(),c("div",{class:D(["blockInstruction animate__animated animate__bounce animate__delay-3s",[e.data.class]]),style:Q([u(o),e.data.style])},[p(H,{class:"animate__animated animate__flash animate__slower animate__infinite text-md"},{default:M(()=>[x(N(e.data.iconinst),1)]),_:1}),p(U,{item:e.data.inst,blockid:e.blockid+"-instruction"},null,8,["item","blockid"])],6))}};var Et=W(Bt,[["__scopeId","data-v-1da36357"]]);const jt=["innerHTML"],Mt={props:{data:Object},setup(e){const t=e,o=y(),n=y(t.data.textAnimation);le(()=>{Ie({target:o.value,by:t.data.by||"words"})});const l=K(()=>({"--block-align":t.data.align||"left"}));return(i,d)=>(a(),c("div",{class:D(["blockTextAnimation",[e.data.class]]),"data-splitting":"",style:Q(u(l)),innerHTML:n.value,ref_key:"textsplit",ref:o},null,14,jt))}},Dt=["placeholder","id"],Ft={props:{blockid:String,data:Object},setup(e){const t=e,o=w("statusFile"),n=ee(),l=y();w("blocked");const i=y(),d=y(),b=()=>{o.value.answers[t.blockid]=d.value};o.value.answers[t.blockid]?d.value=o.value.answers[t.blockid]:o.value.answers[t.blockid]=null;const r=()=>{l.value=!0,i.value.classList.add("isok"),o.value.result[t.blockid]=!0,console.log("finalizando variable input")};return n.appContext.config.globalProperties.emitter.on("solve",g=>{d.value="Nombre"}),n.appContext.config.globalProperties.emitter.on("finalize",g=>{r()}),(g,f)=>J((a(),c("input",{class:D(["input input-bordered input-lg w-full max-w-xs text-dark blockInput",e.data.class]),type:"text",placeholder:e.data.label,"onUpdate:modelValue":f[0]||(f[0]=k=>d.value=k),onChange:b,id:"block-"+e.blockid,ref_key:"block",ref:i},null,42,Dt)),[[Y,d.value]])}};const Vt={key:0,class:"colorize"},Nt={props:{data:Object,blockid:String},setup(e){const t=e,o=w("Audios"),n=y(!0),l=K(()=>({"--colorize-bg":t.data.colorize||"#ffdd00"})),i=()=>{t.data.destroy&&(o.schange.play(),setTimeout(()=>{n.value=!1},1e3))};return i(),oe(()=>t.data.colorize,()=>{n.value=!0,i()}),(d,b)=>n.value?(a(),c("div",Vt,[s("div",{class:"coloring",style:Q(u(l))},null,4)])):z("",!0)}};var Pt=W(Nt,[["__scopeId","data-v-8870619a"]]);const Rt={props:{data:Object},setup(e){return y(),(t,o)=>(a(),I(Ce("style"),null,{default:M(()=>[x(N(e.data.css),1)]),_:1}))}};var ge="/odas/assets/icons/chatbot-bot.svg",Ut="/odas/assets/icons/chatbot-user.svg",Gt="/odas/assets/icons/chatbot-writing.gif";const qt={class:"w-full text-center"},Ht={class:"mockup-window border bg-slate-500"},Jt={class:"flex justify-end flex-col px-4 bg-white text-dark h-[34rem]"},Wt={class:"bubble bot flex justify-start items-center my-1 text-left animate__animated animate__fadeInUp animate__faster"},Qt=s("img",{class:"w-12 mask mask-squircle",src:ge},null,-1),Kt={key:0,class:"bubble user flex justify-end items-center my-1 text-left animate__animated animate__fadeInUp animate__faster"},Xt=s("img",{class:"w-12 mask mask-squircle",src:Ut},null,-1),Yt={key:1,class:"bg-red-400 rounded my-2 w-full p-2 userinputbubble"},Zt={key:0,class:"userinput flex flex-wrap justify-end w-full gap-1"},ea=["onClick"],ta={key:0,class:"my-2 w-full px-2 py-4 userinputbubble"},aa={key:1,class:"bubble bot flex justify-start items-center my-1 text-left"},sa=s("img",{class:"w-12 mask mask-squircle",src:ge},null,-1),na=s("div",{class:"bg-gray-100 py-2 px-1 ml-1 rounded-xl max-w-md"},[s("img",{src:Gt})],-1),la=[sa,na],oa={props:{data:Object,blockid:String},setup(e){const t=e,o=w("Audios"),n=w("statusFile"),l=ee(),i=w("blocked"),d=y(!1),b=y(0),r=y(),g=Ae([]),f=y(!1),k=y(0),j=L=>{k.value=L,f.value=!0,setTimeout(()=>{f.value=!1,g.push({talk:L,answer:-1}),o.snotification.play(),P(L),B(),C(L),v()},Math.random()*1e3+400)},A=L=>t.data.content.find(m=>m.id==L),T=L=>A(L.talk).options[L.answer][0],R=(L,h,S)=>{const F=g.find(X=>X.talk==L);F.answer=h,S!=null&&(F.isright=S),S===!1&&(b.value+=1)},P=L=>{const h=A(L);h.auto&&j(h.auto)},C=L=>{A(L).end&&(d.value=!0)},v=()=>{r.value&&(setTimeout(()=>{try{r.value.$el.scrollTop=r.value.$el.scrollHeight}catch{console.log("couldnt scroll")}},1200),setTimeout(()=>{try{r.value.$el.scrollTop=r.value.$el.scrollHeight}catch{}},100))},O=(L,h,S)=>{if(i||n.value.finalize)return!1;R(L,h,S[2]),j(S[1]),o.ssend.play()},_=()=>{n.value.screen+=1};(()=>{if(n.value.answers[t.blockid]){Object.assign(g,n.value.answers[t.blockid][0]),k.value=n.value.answers[t.blockid][1],d.value=n.value.answers[t.blockid][2],b.value=n.value.answers[t.blockid][3];const L=g.pop();j(L.talk),v()}else n.value.answers[t.blockid]=null,j(0)})();const B=()=>{n.value.answers[t.blockid]=[g,k.value,d.value,b.value]},G=()=>{b.value==0?n.value.result[t.blockid]=d.value:n.value.result[t.blockid]=!1};return l.appContext.config.globalProperties.emitter.on("finalize",L=>{G()}),(L,h)=>{const S=ne("perfect-scrollbar");return a(),c("div",qt,[s("div",Ht,[s("div",Jt,[p(S,{class:"h-full w-full flex flex-col justify-between",ref_key:"scroll",ref:r},{default:M(()=>[(a(!0),c($,null,V(u(g),(m,F)=>(a(),c($,null,[s("div",Wt,[Qt,s("div",{class:D(["bg-gray-100 py-2 px-2 ml-1 rounded-xl max-w-lg",[A(m.talk).class]])},[p(U,{item:A(m.talk).talk,blockid:e.blockid+"-chatbot-bot-"+F},null,8,["item","blockid"])],2)]),m.answer>-1?(a(),c("div",Kt,[s("div",{class:D(["bg-primary text-white py-2 px-2 mr-1 rounded-xl max-w-lg text-center",[m.isright!=null&&u(n).finalize?m.isright?"isok":"notok":"notevaluated","min-w-[4rem]"]])},[p(U,{item:T(m),blockid:e.blockid+"-chatbot-user-"+F},null,8,["item","blockid"])],2),Xt])):z("",!0),A(m.talk).options&&k.value==m.talk&&u(g).length-1==F?(a(),c("div",Yt,[A(m.talk).options&&m.talk==k.value?(a(),c("div",Zt,[(a(!0),c($,null,V(A(m.talk).options,(X,ve)=>(a(),c("div",{class:"btn bg-primary btn-sm animate__animated animate__pulse animate__infinite animate__slow normal-case",onClick:Kl=>O(m.talk,ve,X)},[p(U,{item:X[0],blockid:e.blockid+"-chatbot-userinput-"+ve},null,8,["item","blockid"])],8,ea))),256))])):z("",!0)])):z("",!0)],64))),256)),d.value?(a(),c("div",ta,[s("div",{class:"btn btn-accent btn-wide animate__animated animate__pulse animate__infinite animate__slow my-2",onClick:_},"Siguiente")])):z("",!0),f.value?(a(),c("div",aa,la)):z("",!0)]),_:1},512)])])])}}},ca=["id"],ia={class:"card-body text-gray-700 px-2 py-4 min-h-[3rem]"},ra={props:{data:Object,blockid:String},setup(e){return(t,o)=>(a(),c("div",{class:D(["card bg-base-100 shadow-xl",[e.data.class]]),id:e.data.id},[s("div",ia,[(a(!0),c($,null,V(e.data.content,(n,l)=>(a(),I(U,{item:n,blockid:e.blockid+"-card-"+l},null,8,["item","blockid"]))),256))])],10,ca))}},da={class:"card-body p-3"},ua=x("pan_tool"),va={props:{data:Object,blockid:String},setup(e){const t=e,o=w("Audios"),n=w("statusFile"),l=w("blocked"),i=y(),d=y(null),b=ee(),r=y(),g=y(),f=y(null),k=()=>{if(n.value.finalize||l)return!1;g.value=document.querySelectorAll(t.data.dropzone),r.value=i.value.parentElement,Draggable.create(i.value,{type:"x,y",zIndexBoost:2,bounds:t.data.bounds,onDrag:function(_){j(_,this)},onClick:function(_){A(_,this)},onDragEnd:function(_){P(_,this)}}),v()},j=(_,E)=>{for(var B=0;B<g.value.length;B++){var G=g.value[B];if(E.hitTest(G,"40%"))return G.classList.add(t.data.hover),f.value=G,!1;G.classList.remove(t.data.hover),f.value=null}},A=(_,E)=>{o.scancel.play(),r.value.append(E.target),TweenLite.to(E.target,.2,{x:0,y:0}),T(),O()},T=()=>{d.value=!t.data.correctId};T();const R=()=>{d.value=i.value.parentElement.matches(t.data.correctId)},P=(_,E)=>{for(var B=0;B<g.value.length;B++)f.value&&(TweenLite.to(E.target,0,{x:0,y:0}),f.value.classList.remove(t.data.hover),f.value.append(E.target),R(),f.value=null,o.sBlockDrag.play()),TweenLite.to(E.target,.2,{x:0,y:0});O()};le(()=>{k()});const C=()=>{i.value.classList.add(d.value?"isok":"notok"),n.value.result[t.blockid]=d.value},v=()=>{if(n.value.answers[t.blockid]){const _=n.value.answers[t.blockid];document.querySelector("#"+_).append(i.value),R()}else n.value.answers[t.blockid]=null;n.value.finalize&&C()},O=()=>{n.value.answers[t.blockid]=i.value.parentElement.id};return b.appContext.config.globalProperties.emitter.on("solve",_=>{solve()}),b.appContext.config.globalProperties.emitter.on("finalize",_=>{C()}),(_,E)=>(a(),c("div",{class:D(["dragItem card bg-base-100 text-black rounded-md shadow-xl",[e.data.class]]),ref_key:"block",ref:i},[s("div",da,[p(H,{class:"absolute top-0 left-1/2 transform -translate-x-1/2 text-xs text-gray-300"},{default:M(()=>[ua]),_:1}),(a(!0),c($,null,V(e.data.content,(B,G)=>(a(),I(U,{item:B,blockid:e.blockid+"-dragitem-"+G},null,8,["item","blockid"]))),256))])],2))}},ma={props:{data:Object},setup(e){const t=e,o=w("statusFile");oe(()=>o.value,()=>{l()},{deep:!0});const n=y([]),l=()=>{setTimeout(()=>{for(var i in n.value)n.value[i].position()},250)};return le(()=>{LeaderLine.positionByWindowResize=!1,document.querySelector(".drawer-content").addEventListener("scroll",function(){l()}),window.addEventListener("resize",function(){l()});for(var i in t.data.connections){const d=t.data.connections[i];n.value[i]=new LeaderLine(document.querySelector(d[0]),document.querySelector(d[1]),t.data.options)}}),(i,d)=>null}},_a={props:{data:Object,blockid:String},setup(e){const t=e,o=y([]);for(var n in t.data.items){const i=t.data.items[n];for(var l in t.data.properties)i[l]=t.data.properties[l];o.value.push(i)}return(i,d)=>o.value.length>0?(a(!0),c($,{key:0},V(o.value,(b,r)=>(a(),I(U,{item:b,blockid:e.blockid+"-"+r},null,8,["item","blockid"]))),256)):z("",!0)}},ba=["innerHTML"],ka=["innerHTML"],fa=["innerHTML"],ga={key:4,class:"my-2"},pa=["innerHTML"],ha=["innerHTML","id"],U={props:{item:[Object,String],blockid:String},setup(e){const t=w("statusFile");return(o,n)=>typeof e.item=="string"?(a(),c("span",{key:0,innerHTML:e.item},null,8,ba)):e.item.variable?(a(),c("span",{key:1,innerHTML:u(t).answers[e.item.variable]},null,8,ka)):e.item.variableR?(a(),c("span",{key:2,innerHTML:u(t).result[e.item.variableR]},null,8,fa)):e.item.br?(a(!0),c($,{key:3},V(e.item.br,(l,i)=>(a(),c("br"))),256)):e.item.hr?(a(),c("hr",ga)):e.item.span?(a(),c("span",{key:5,innerHTML:e.item.span,class:D([e.item.class])},null,10,pa)):e.item.html?(a(),c("div",{key:6,innerHTML:e.item.html,class:D(e.item.class),id:e.item.id},null,10,ha)):e.item.icon?(a(),I(Ot,{key:7,data:e.item},null,8,["data"])):e.item.text?(a(),I(At,{data:e.item,key:e.blockid},null,8,["data"])):e.item.textAnimation?(a(),I(Mt,{data:e.item,key:e.blockid},null,8,["data"])):e.item.instruction?(a(),I(zt,{data:e.item,key:e.blockid},null,8,["data"])):e.item.inst?(a(),I(Et,{data:e.item,key:e.blockid},null,8,["data"])):e.item.term?(a(),I(mt,{key:12,data:e.item},null,8,["data"])):e.item.img?(a(),I(it,{key:13,data:e.item},null,8,["data"])):e.item.math?(a(),I(Pe,{key:14,data:e.item},null,8,["data"])):e.item.dragdrop?(a(),I(Ze,{key:15,data:e.item,blockid:e.blockid},null,8,["data","blockid"])):e.item.sortable?(a(),I(St,{key:16,data:e.item,blockid:e.blockid},null,8,["data","blockid"])):e.item.select?(a(),I(lt,{key:17,data:e.item,blockid:e.blockid},null,8,["data","blockid"])):e.item.chart?(a(),I(_t,{key:18,data:e.item,blockid:e.blockid},null,8,["data","blockid"])):e.item.dialog?(a(),I(pe,{key:19,data:e.item,blockid:e.blockid},null,8,["data","blockid"])):e.item.plot?(a(),I(bt,{key:20,data:e.item,blockid:e.blockid},null,8,["data","blockid"])):e.item.grid?(a(),I(ft,{key:21,data:e.item,blockid:e.blockid},null,8,["data","blockid"])):e.item.group?(a(),I(pt,{key:22,data:e.item,blockid:e.blockid},null,8,["data","blockid"])):e.item.input?(a(),I(Ft,{key:23,data:e.item,blockid:e.blockid},null,8,["data","blockid"])):e.item.colorize?(a(),I(Pt,{key:24,data:e.item,blockid:e.blockid},null,8,["data","blockid"])):e.item.css?(a(),I(Rt,{key:25,data:e.item,blockid:e.blockid},null,8,["data","blockid"])):e.item.chatbot?(a(),I(oa,{key:26,data:e.item,blockid:e.blockid},null,8,["data","blockid"])):e.item.card?(a(),I(ra,{key:27,data:e.item,blockid:e.blockid},null,8,["data","blockid"])):e.item.drag?(a(),I(va,{key:28,data:e.item,blockid:e.blockid},null,8,["data","blockid"])):e.item.line?(a(),I(ma,{key:29,data:e.item},null,8,["data"])):e.item.repeater?(a(),I(_a,{key:30,data:e.item,blockid:e.blockid},null,8,["data","blockid"])):z("",!0)}};const ya=["id"],$a={class:"modal"},wa={class:"modal-box bg-white text-primary"},xa=x("close"),Sa={class:"ma-1 pt-5"},Ia={props:{data:Object,blockid:String,hidesmenu:Boolean},setup(e){const t=e,o=w("Audios"),n=w("hidemenu"),l=y(!1),i=()=>{l.value=!0,o.sopen.play(),t.hidesmenu&&(n.value=!0)},d=()=>{l.value=!1,o.sclose.play(),t.hidesmenu&&(n.value=!1)};return(b,r)=>{const g=ne("perfect-scrollbar");return a(),c("div",{class:"blockDialog",style:Q([e.data.style])},[s("button",{class:D(["animate__animated animate__pulse animate__infinite animate__slower",e.data.buttonClass]),onClick:i},[(a(!0),c($,null,V(e.data.button,(f,k)=>(a(),I(U,{item:f,blockid:e.blockid+"-button-"+k},null,8,["item","blockid"]))),256))],2),J(s("input",{class:"modal-toggle",type:"checkbox",id:e.blockid,"onUpdate:modelValue":r[0]||(r[0]=f=>l.value=f)},null,8,ya),[[ce,l.value]]),s("div",$a,[s("div",wa,[s("label",{class:"btn btn-sm btn-circle absolute right-2 top-2",onClick:d},[p(H,null,{default:M(()=>[xa]),_:1})]),s("div",Sa,[p(g,null,{default:M(()=>[(a(!0),c($,null,V(e.data.content,(f,k)=>(a(),I(U,{item:f,blockid:e.blockid+"-content-"+k},null,8,["item","blockid"]))),256))]),_:1})])])])],4)}}};var pe=W(Ia,[["__scopeId","data-v-4205fde9"]]);const Ca={class:"FichaTecnica"},Aa={props:{},setup(e){const t=w("activityFile"),o='<div class="tooltip" data-tip="Ficha T\xE9cnica"> <img src="odas/assets/icons/'+t.programa+'/ico-ficha-tecnica.png" class="w-12"> </div>',n=y([]);var l='<table class="table bg-white table-fixed table-zebra">',i=[],d="</table>";for(var b in t.ficha)i.push(' <tr> <td class="bg-white text-bold text-xl max-w-sm break-normal whitespace-normal">'+t.ficha[b][0]+'</td><td class="text-lg font-light max-w-sm break-normal whitespace-normal bg-white">'+t.ficha[b][1]+"</td></tr>");n.value.push({html:l+i.join("")+d});const r={button:{html:o},buttonClass:"",content:[{text:"Ficha T\xE9cnica",class:"text-4xl text-center",align:"center"},{group:1,content:n.value}]};return(g,f)=>(a(),c("div",Ca,[p(pe,{data:r,hidesmenu:!0})]))}};var Ta=W(Aa,[["__scopeId","data-v-2ad962d8"]]);const Oa={class:"activitybgcontainer"},La={key:0,class:"ActBG"},za={props:{speed:Number},setup(e){const t=e,o=w("activityFile"),n=t.speed?t.speed:6e3,l=y(1);return setInterval(()=>{l.value<o.bgimgs?l.value++:l.value=1},n),(i,d)=>(a(),c("div",Oa,[(a(!0),c($,null,V(u(o).bgimgs,(b,r)=>(a(),I(_e,{name:"fadebg",mode:"out-in"},{default:M(()=>[l.value==r+1?(a(),c("div",La,[s("div",{class:"ActivityBG",style:Q("background-image:url(odas/"+u(o).id+"/bg/bg"+(r+1)+".jpg)")},null,4)])):z("",!0)]),_:2},1024))),256))]))}};var he=W(za,[["__scopeId","data-v-aacd57c0"]]),Ba="/odas/assets/icons/Montenegro-icon.svg",Ea="/odas/assets/icons/Montenegro.svg";const ja={key:0,src:Ba},Ma={key:1,src:Ea},Da={props:{logo:{type:Boolean,default:!1}},setup(e){const t=y(!0);return(()=>{t.value=!1,setTimeout(()=>{t.value=!0},2e3)})(),(n,l)=>(a(),c("div",{class:D(["montenegroIcon",e.logo?"logo":"icon"]),duration:{enter:1e3,leave:3e3},appear:""},[e.logo?(a(),c("img",Ma)):(a(),c("img",ja))],2))}};var ye=W(Da,[["__scopeId","data-v-71929997"]]);const Fa={class:"modal"},Va={class:"modal-box relative w-11/12 max-w-5xl"},Na={class:"hero relative"},Pa={class:"hero-content text-center relative z-10"},Ra={class:"max-w-md text-center"},Ua={class:"text-center"},Ga=["src"],qa={class:"text-lg"},Ha={class:"text-4xl font-bold mt-2"},Ja={class:"text-xl"},Wa={class:"mt-10"},Qa={emits:["start"],setup(e,{emit:t}){le(()=>{Te.exports.themeChange(!1)});const o=w("activityFile");w("statusFile"),y();const n=y(!0),l=()=>{n.value=!1,t("start")};return(i,d)=>(a(),c($,null,[J(s("input",{class:"modal-toggle",type:"checkbox",id:"my-modal","onUpdate:modelValue":d[0]||(d[0]=b=>n.value=b)},null,512),[[ce,n.value]]),s("div",Fa,[s("div",Va,[s("div",Na,[s("div",Pa,[s("div",Ra,[s("div",Ua,[s("img",{class:"w-28 mx-auto",src:"odas/assets/icons/"+u(o).programa+"/"+u(o).materia+".png"},null,8,Ga)]),s("h3",qa,N(u(o).conf.programa=="DGETI"?"Bachillerato Tecnol\xF3gico":"Bachillerato General"),1),s("h1",Ha,N(u(o).title),1),s("h2",Ja,N(u(o).conf.materia),1),s("div",{class:"mt-10"},[s("button",{class:"btn",onClick:l},"Comenzar")]),s("div",Wa,[p(ye,{logo:!0})])])]),p(he,{speed:3e3})])])])],64))}};var Ka=W(Qa,[["__scopeId","data-v-29b2fcf6"]]);const Xa={class:"area"},Ya={class:"p mb-1"},Za=x("donut_large"),es={class:"progreso"},ts={props:{},setup(e){const t=w("statusFile"),o=K(()=>{var n=t.value.answers,l={total:0,unanswered:0};return n&&(l.total=Object.keys(n).length,Object.keys(n).forEach(function(i){n[i],n[i]==null&&l.unanswered++})),l});return(n,l)=>(a(),c("div",Xa,[s("div",Ya,[p(H,{class:"text-sm"},{default:M(()=>[Za]),_:1}),x("\xA0Progreso "+N(u(o).total-u(o).unanswered)+" /"+N(u(o).total),1)]),s("div",es,[s("div",{class:"bar",style:Q("width:"+Math.round((u(o).total-u(o).unanswered)/u(o).total*100)+"%")},null,4)])]))}};var as=W(ts,[["__scopeId","data-v-2082bade"]]);const ss={key:0,class:"area"},ns=x("auto_awesome"),ls={class:"label"},os={props:{},setup(e){const t=w("statusFile"),o=w("resultsFile"),n=()=>{const l=o.value.oksPercentage;var i="ok1";switch(!0){case(l<=100&&l>75):i="ok4";break;case(l<=75&&l>50):i="ok3";break;case(l<=50&&l>25):i="ok2";break}return i};return(l,i)=>u(t).finalize?(a(),c("div",ss,[s("h2",{class:D(["puntaje",n()])},[p(H,null,{default:M(()=>[ns]),_:1}),s("span",ls,"\xA0Puntaje: "+N(u(o).oksPercentage)+"%",1)],2)])):z("",!0)}};var cs=W(os,[["__scopeId","data-v-7ac64b3a"]]);const is={key:0,class:"text-center my-2 mb-16"},rs={props:{block:Object,blockid:String,islast:Boolean,steps:Boolean},setup(e){const t=e,o=y([]),n=y(!1),l=w("statusFile"),i=w("view"),d=K(()=>({"--block-width":t.block.width||"100%"})),b=t.blockid.split("-"),r=()=>{for(var f in Object.keys(l.value.answers)){var k=Object.keys(l.value.answers)[f];const j=k.split("-");j[0]==b[0]&&j[1]==b[1]&&o.value.push(Object.keys(l.value.answers)[f])}};setTimeout(()=>{r()},1e3),oe(l.value.answers,f=>{g()},{deep:!0});const g=()=>{let f=!0;for(var k in o.value)l.value.answers[o.value[k]]==null&&(f=!1);n.value=f};return setTimeout(function(){g()},1e3),(f,k)=>e.block.content.length?(a(),c("div",{key:0,class:D(["block rounded",[e.block.class]]),style:Q(u(d))},[(a(!0),c($,null,V(e.block.content,(j,A)=>(a(),I(U,{item:j,blockid:e.blockid+"-"+A,key:A},null,8,["item","blockid"]))),128)),u(i)?z("",!0):(a(),c("div",is,[e.steps?(a(),c($,{key:0},[o.value.length>0&&n.value?(a(),c($,{key:0},[e.islast?(a(),c("button",{key:1,class:"btn btn-accent btn-wide",onClick:k[1]||(k[1]=j=>f.$emit("screenNext",1))},"Continuar")):(a(),c("button",{key:0,class:"btn btn-ghost text-white animate__animated animate__tada",onClick:k[0]||(k[0]=j=>f.$emit("stepNext"))},"Siguiente"))],64)):z("",!0)],64)):z("",!0),e.block.buttonNextStep?(a(),c("button",{key:1,class:"btn btn-ghost text-white",onClick:k[2]||(k[2]=j=>f.$emit("stepNext"))},N(e.block.buttonNextStep),1)):z("",!0),e.block.buttonNextScreen?(a(),c("button",{key:2,class:"btn btn-accent btn-wide",onClick:k[3]||(k[3]=j=>f.$emit("screenNext",1))},N(e.block.buttonNextScreen),1)):z("",!0)]))],6)):z("",!0)}};const ds={key:0,class:"arrowtransition"},us={props:{},setup(e){const t=y(!0);return w("Audios").schange.play(),setTimeout(()=>{t.value=!1},1e3),(n,l)=>t.value?(a(),c("div",ds)):z("",!0)}};var vs=W(us,[["__scopeId","data-v-c342433a"]]);const te=e=>(be("data-v-dd19cda0"),e=e(),ke(),e),ms={class:"block ScreenBlockEnd"},_s={class:"text-center"},bs={class:"my-6 text-2xl"},ks=x("De un total de "),fs=x(" tienes "),gs={class:"high"},ps=x("."),hs=["onClick"],ys={key:1,class:"my-3"},$s=te(()=>s("span",null,[x("Has contestado todas las preguntas. Verifica tus respuestas y da clic en "),s("strong",null,'"finalizar"'),x(".")],-1)),ws=[$s],xs={key:2,class:"my-3"},Ss=te(()=>s("span",null,"Muy bien. Has llegado al final de la actividad.",-1)),Is=[Ss],Cs=te(()=>s("div",{class:"my-6 text-xl"},"\xBFDeseas finalizar?",-1)),As=te(()=>s("div",{class:"my-3"},[s("strong",null,"Actividad finalizada.")],-1)),Ts={class:"my-3"},Os=x("De un total de "),Ls=x(" obtuviste un "),zs={class:"high"},Bs=x("."),Es=te(()=>s("div",{class:"my-3"},"A continuaci\xF3n podr\xE1s ver un res\xFAmen de tus resultados:",-1)),js={class:"row wrap"},Ms=["onClick"],Ds=te(()=>s("div",{class:"my-3"},"Puedes ver tus resultados individuales o repasar los contenidos navegando con el men\xFA de la izquierda.",-1)),Fs=te(()=>s("div",{class:"my-3"},"Tambi\xE9n puedes reiniciar la actividad:",-1)),Vs={props:{},setup(e){const t=w("Audios"),o=w("activityFile"),n=w("statusFile"),l=w("resultsFile"),i=ee(),d=w("blocked"),b=y(!1),r=A=>{var T=A.split("-"),R=T[0],P=T[1],C=o.screens[R].title;return C+" > Bloque "+P},g=A=>{var T=A.split("-"),R=T[0],P=T[1];n.value.screen=R*1,n.value.step=P*1},f=K(()=>{var A=n.value.answers,T={tot:"",total:0,unanswered:{},unansweredLength:0};if(A){T.total=Object.keys(A).length;var R={};Object.keys(A).forEach(function(P){var C=A[P];A[P]==null&&(R[P]=C,T.unansweredLength++)}),se(R).keys().sort().each(function(P){T.unanswered[P]=R[P]})}return T}),k=()=>{n.value.finalize=!0,i.appContext.config.globalProperties.emitter.emit("finalize");for(var A in n.value.result)l.value.total++,n.value.result[A]?l.value.oks++:l.value.errors++;l.value.total&&(l.value.oksPercentage=Math.round(l.value.oks*100/l.value.total),l.value.errorsPercentage=100-l.value.oksPercentage),t.sfinalize.play()};n.value.finalize&&setTimeout(function(){k()},1e3);const j=()=>{b.value=!0;var A=JSON.stringify({reset:!0});window.top.postMessage(A,"*"),setTimeout(()=>{fe(o.id+"_").removeStorageSync("status"),location.reload()},1e3)};return(A,T)=>(a(),c("div",ms,[s("div",_s,[u(n).finalize?(a(),c($,{key:1},[As,u(l).total>0?(a(),c($,{key:0},[s("div",Ts,[Os,s("strong",null,N(u(l).total)+" preguntas",1),Ls,s("strong",zs,N(u(l).oksPercentage)+"% de aciertos",1),Bs]),u(l).errors>0?(a(),c($,{key:0},[Es,s("div",js,[(a(!0),c($,null,V(u(n).result,(R,P)=>(a(),c("div",{class:D(["px-3 ma-1 floatcard",R?"isok":"notok"])},[s("button",{class:"btn btn-sm m-1 ma-1",onClick:C=>g(P)},N(r(P)),9,Ms)],2))),256))])],64)):z("",!0)],64)):(a(),c($,{key:1},[],64)),Ds,!u(d)&&!b.value?(a(),c($,{key:2},[Fs,s("button",{class:"btn btn-accent",onClick:j},"Reiniciar")],64)):z("",!0)],64)):(a(),c($,{key:0},[u(f).unansweredLength?(a(),c($,{key:0},[s("div",bs,[s("span",null,[ks,s("strong",null,N(u(f).total)+" preguntas",1),fs,s("strong",gs,N(u(f).unansweredLength)+" sin contestar",1),ps])]),(a(!0),c($,null,V(u(f).unanswered,(R,P)=>(a(),c("button",{class:"btn high btn-sm m-1",onClick:C=>g(P)},N(r(P)),9,hs))),256))],64)):u(f).total>0?(a(),c("div",ys,ws)):(a(),c("div",xs,Is)),u(d)?z("",!0):(a(),c($,{key:3},[Cs,s("div",{class:"my-4"},[s("button",{class:"btn-accent btn-wide important btn-lg",onClick:k},"Finalizar")])],64))],64)),b.value?(a(),I(vs,{key:2})):z("",!0)])]))}};var Ns=W(Vs,[["__scopeId","data-v-dd19cda0"]]);const ue=e=>(be("data-v-68aae306"),e=e(),ke(),e),Ps={class:"theform"},Rs={class:"row"},Us={class:"field"},Gs=x("ID:"),qs={class:"field"},Hs=x("Programa:"),Js=ue(()=>s("span",null,"DGETI",-1)),Ws=ue(()=>s("span",null,"DGB ",-1)),Qs={class:"row"},Ks={class:"field"},Xs=x("Asignatura:"),Ys={class:"field"},Zs=x("Titulo:"),en={class:"field"},tn=x("Aprendizajes:"),an={class:"field"},sn=x("Contenido_central:"),nn={key:0},ln={class:"field in"},on=x("library_add"),cn={class:"inner"},rn=["onClick"],dn=x("backspace"),un={class:"field"},vn=x("T\xEDtulo: "),mn=["onUpdate:modelValue"],_n={class:"field"},bn=x("Icono: "),kn=["onUpdate:modelValue"],fn={class:"field"},gn=x("Steps: "),pn=["onUpdate:modelValue"],hn={class:"field"},yn=x("End: "),$n=["onUpdate:modelValue"],wn={key:0},xn={class:"field in"},Sn=["onClick"],In=x("library_add"),Cn={class:"inner"},An=["onClick"],Tn=x("backspace"),On={class:"field"},Ln=x("Width: "),zn=["onUpdate:modelValue"],Bn=ue(()=>s("div",null,null,-1)),En={class:"field in"},jn=["onClick"],Mn=["onClick"],Dn=["onClick"],Fn=["onClick"],Vn=["onClick"],Nn=["onClick"],Pn=["onClick"],Rn=["onClick"],Un={class:"inner"},Gn=["onClick"],qn=x("backspace"),Hn={key:0,class:"field multi"},Jn=x("Simple: "),Wn=["onUpdate:modelValue"],Qn={class:"field multi"},Kn=["onUpdate:modelValue"],Xn={class:"field"},Yn={class:"thedata"},Zn={class:"BuilderBar"},el=x("code"),tl=x("ondemand_video"),al=x("sync_problem"),sl={props:{},setup(e){const t=y(null),o=y("json"),n={text:"",class:""},l={math:"",size:"2rem"},i={simple:"",text:n,math:l,term:{term:1,t:"",d:""},img:{img:""},dragdrop:{dragdrop:!0,drags:[[l,"val"]],dropsLeft:[["Titulo","val"]],dropsRight:["Titulo","val"]},select:{select:!0,options:[[l,!1],[l,!0]]},br:{br:1},br:{br:1}},d={width:"100%",content:[]},b={title:"",icon:"",steps:!0,end:!1,blocks:[d]},r=y({id:"",programa:"DGETI",materia:"",asignatura:"",title:"",aprendizajes:"",contenidocentral:"",screens:[JSON.parse(JSON.stringify(b)),{title:"Finalizar",icon:"flag",end:!0,content:[]}]}),g=()=>{const C=JSON.parse(JSON.stringify(b));r.value.screens.push(C)},f=C=>{const v=JSON.parse(JSON.stringify(d));r.value.screens[C].blocks.push(v)},k=(C,v,O)=>{const _=JSON.parse(JSON.stringify(i[O]));r.value.screens[C].blocks[v].content.push(_)},j=C=>{r.value.screens.splice(C,1)},A=(C,v)=>{r.value.screens[C].blocks.splice(v,1)},T=(C,v,O)=>{r.value.screens[C].blocks[v].content.splice(O,1)},R=()=>{const C=JSON.parse(t.value);t.value="",r.value=C},P=()=>{navigator.clipboard.writeText(JSON.stringify(r.value,null,"	"))};return(C,v)=>{const O=ne("perfect-scrollbar");return a(),c($,null,[p(O,null,{default:M(()=>[s("div",Ps,[s("div",Rs,[s("div",Us,[Gs,J(s("input",{"onUpdate:modelValue":v[0]||(v[0]=_=>r.value.id=_)},null,512),[[Y,r.value.id]])]),s("div",qs,[Hs,s("label",null,[J(s("input",{"onUpdate:modelValue":v[1]||(v[1]=_=>r.value.programa=_),placeholder:"programa",type:"radio",value:"DGETI"},null,512),[[me,r.value.programa]]),Js]),s("label",null,[J(s("input",{"onUpdate:modelValue":v[2]||(v[2]=_=>r.value.programa=_),placeholder:"programa",type:"radio",value:"DGB"},null,512),[[me,r.value.programa]]),Ws])])]),s("div",Qs,[s("div",Ks,[Xs,J(s("input",{"onUpdate:modelValue":v[3]||(v[3]=_=>r.value.asignatura=_)},null,512),[[Y,r.value.asignatura]])])]),s("div",Ys,[Zs,J(s("input",{"onUpdate:modelValue":v[4]||(v[4]=_=>r.value.title=_)},null,512),[[Y,r.value.title]])]),s("div",en,[tn,J(s("input",{"onUpdate:modelValue":v[5]||(v[5]=_=>r.value.aprendizajes=_)},null,512),[[Y,r.value.aprendizajes]])]),s("div",an,[sn,J(s("input",{"onUpdate:modelValue":v[6]||(v[6]=_=>r.value.contenidocentral=_)},null,512),[[Y,r.value.contenidocentral]])]),r.value.screens?(a(),c("div",nn,[s("div",ln,[x("Screens ("+N(r.value.screens.length)+"):",1),s("button",{class:"add",onClick:g},[p(H,null,{default:M(()=>[on]),_:1})])]),(a(!0),c($,null,V(r.value.screens,(_,E)=>(a(),c("div",cn,[s("button",{class:"rm",onClick:B=>j(E)},[p(H,null,{default:M(()=>[dn]),_:1})],8,rn),s("div",un,[vn,J(s("input",{"onUpdate:modelValue":B=>_.title=B},null,8,mn),[[Y,_.title]])]),s("div",_n,[bn,J(s("input",{"onUpdate:modelValue":B=>_.icon=B},null,8,kn),[[Y,_.icon]])]),s("div",fn,[gn,J(s("input",{"onUpdate:modelValue":B=>_.steps=B,type:"checkbox"},null,8,pn),[[ce,_.steps]])]),s("div",hn,[yn,J(s("input",{"onUpdate:modelValue":B=>_.end=B,type:"checkbox"},null,8,$n),[[ce,_.end]])]),_.blocks?(a(),c("div",wn,[s("div",xn,[x("Blocks ("+N(_.blocks.length)+"):",1),(a(),c("button",{class:"add",onClick:B=>f(E),key:"addblock"+E},[p(H,null,{default:M(()=>[In]),_:1})],8,Sn))]),(a(!0),c($,null,V(_.blocks,(B,G)=>(a(),c("div",Cn,[s("button",{class:"rm",onClick:L=>A(E,G)},[p(H,null,{default:M(()=>[Tn]),_:1})],8,An),s("div",On,[Ln,J(s("input",{"onUpdate:modelValue":L=>B.width=L},null,8,zn),[[Y,B.width]])]),Bn,s("div",En,[x("Content ("+N(B.content.length)+"):",1),s("button",{class:"add",onClick:L=>k(E,G,"simple")},"Simple",8,jn),s("button",{class:"add",onClick:L=>k(E,G,"text")},"Text",8,Mn),s("button",{class:"add",onClick:L=>k(E,G,"math")},"Math",8,Dn),s("button",{class:"add",onClick:L=>k(E,G,"term")},"Term",8,Fn),s("button",{class:"add",onClick:L=>k(E,G,"img")},"Img",8,Vn),s("button",{class:"add",onClick:L=>k(E,G,"br")},"br",8,Nn),s("button",{class:"add",onClick:L=>k(E,G,"dragdrop")},"dragdrop",8,Pn),s("button",{class:"add",onClick:L=>k(E,G,"select")},"select",8,Rn)]),(a(!0),c($,null,V(B.content,(L,h)=>(a(),c("div",Un,[s("button",{class:"rm",onClick:S=>T(E,G,h)},[p(H,null,{default:M(()=>[qn]),_:1})],8,Gn),typeof B.content[h]=="string"?(a(),c("div",Hn,[Jn,J(s("input",{"onUpdate:modelValue":S=>B.content[h]=S},null,8,Wn),[[Y,B.content[h]]])])):(a(!0),c($,{key:1},V(L,(S,m)=>(a(),c("div",Qn,[x(N(m),1),typeof B.content[h][m]=="string"?J((a(),c("input",{key:0,"onUpdate:modelValue":F=>B.content[h][m]=F},null,8,Kn)),[[Y,B.content[h][m]]]):(a(!0),c($,{key:1},V(B.content[h][m],(F,X)=>(a(),c("div",Xn,N(X),1))),256))]))),256))]))),256))]))),256))])):z("",!0)]))),256))])):z("",!0)])]),_:1}),p(O,null,{default:M(()=>[s("div",Yn,[s("div",Zn,[s("button",{onClick:v[7]||(v[7]=_=>o.value="json")},[p(H,null,{default:M(()=>[el]),_:1})]),s("button",{onClick:v[8]||(v[8]=_=>o.value="play")},[p(H,null,{default:M(()=>[tl]),_:1})]),s("button",{onClick:v[9]||(v[9]=_=>o.value="import")},[p(H,null,{default:M(()=>[al]),_:1})])]),o.value=="json"&&r.value?(a(),I(u(Oe),{key:0,data:r.value,"show-length":!0,"show-line":!0,"show-select-controller":!0,onClick:P},null,8,["data"])):o.value=="play"?(a(),c($,{key:1},[],64)):o.value=="import"?J((a(),c("textarea",{key:2,"onUpdate:modelValue":v[10]||(v[10]=_=>t.value=_),onChange:R,placeholder:"Import json"},null,544)),[[Y,t.value]]):z("",!0)])]),_:1})],64)}}};var nl=W(sl,[["__scopeId","data-v-68aae306"]]);const ll={class:"menu justify-between rounded w-56 overflow-y-auto p-2 bg-white m-1"},ol={class:"text-center"},cl=["src"],il={class:"text-center"},rl={class:"text-dark text-lg font-bold mt-2 leading-5"},dl={class:"text-center"},ul={class:"text-sm"},vl={class:"flex justify-center my-2"},ml=s("hr",{class:"mb-1"},null,-1),_l={class:"menu bg-transparent menu-vertical w-full"},bl=["onClick"],kl=s("hr",{class:"mt-auto"},null,-1),fl=s("hr",{class:"my-2"},null,-1),gl={props:{},setup(e){w("blocked");const t=w("activityFile"),o=w("statusFile"),n=l=>{o.value.step=0,o.value.screen=l};return(l,i)=>{const d=ne("perfect-scrollbar");return a(),c("div",ll,[s("div",ol,[s("img",{class:"w-12 mx-auto",src:"odas/assets/icons/"+u(t).programa+"/"+u(t).materia+".png"},null,8,cl)]),s("div",il,[s("h1",rl,N(u(t).title),1)]),s("div",dl,[s("div",ul,N(u(t).conf.materia),1)]),s("div",vl,[p(Ta)]),ml,p(d,{class:"w-full"},{default:M(()=>[s("ul",_l,[(a(!0),c($,null,V(u(t).screens,(b,r)=>(a(),c("li",{onClick:g=>n(r)},[s("div",{class:D(["gap-px",r==u(o).screen?"active":""])},[p(H,{class:D(["text-sm",r==u(o).screen?"text-white":""])},{default:M(()=>[x(N(b.icon),1)]),_:2},1032,["class"]),x("\xA0"+N(b.title),1)],2)],8,bl))),256))])]),_:1}),kl,p(as),p(cs),fl,p(ye,{class:"mx-auto my-2"})])}}},pl={class:"fixed p-1 bg-white rounded bottom-1 left-4 lg:left-60 right-7"},hl={class:"btn-group justify-center"},yl=x("navigate_before"),$l=s("span",null,"Anterior",-1),wl=["onClick"],xl=x("Siguiente"),Sl=x("navigate_next"),Il={props:{steps:{type:Number,required:!0}},setup(e,{emit:t}){const o=e,n=w("statusFile"),l=w("Audios");y(0);const i=b=>{n.value.step=b,t("stepChanged")},d=b=>{l.sclick.play(),(b==-1&&n.value.step>0||b==1&&n.value.step<o.steps-1)&&(n.value.step+=b,t("stepChanged"))};return(b,r)=>(a(),c("div",pl,[s("div",hl,[s("button",{class:D(["btn btn-xs",u(n).step==0?"btn-disabled":""]),onClick:r[0]||(r[0]=g=>d(-1))},[p(H,null,{default:M(()=>[yl]),_:1}),$l],2),(a(!0),c($,null,V(e.steps,(g,f)=>(a(),c("button",{class:D(["btn btn-xs",[u(n).step==f?"btn-active":"non-active"]]),onClick:k=>i(f)},N(f+1),11,wl))),256)),s("button",{class:D(["btn btn-xs",u(n).step==e.steps-1?"btn-disabled":""]),onClick:r[1]||(r[1]=g=>d(1))},[xl,p(H,null,{default:M(()=>[Sl]),_:1})],2)])]))}},Cl=["id"],Al={props:{screenindex:{type:Number},screen:{type:Object,required:!0}},setup(e){const t=e,o=w("activityFile"),n=w("statusFile"),l=w("view");y();const i=K(()=>({"--activity-bg":o.conf.color||"#ffffff"})),d=()=>{n.value.step++},b=r=>l.value?!0:t.screen.steps?n.value.step==r:!0;return oe(()=>n.value.step,(r,g)=>{var f=document.querySelector(".drawer-content");f.scrollTop>0&&(f.scrollTop=0)}),(r,g)=>(a(),c("section",{class:D(["screens m-h-screen relative px-2 pb-2",[u(l)?"desplegado":"","pt-12 lg:pt-4",e.screen.class]]),id:"screen-"+e.screenindex,style:Q(u(i))},[e.screen.end?J((a(),I(Ns,{key:1},null,512)),[[re,e.screen.end]]):(a(!0),c($,{key:0},V(e.screen.blocks,(f,k)=>(a(),I(_e,{name:"slide",mode:"out-in",appear:""},{default:M(()=>[J(p(rs,{steps:e.screen.steps,id:"block-"+e.screenindex+"-"+k,islast:e.screen.blocks.length-1==k,block:f,onStepNext:d,onScreenNext:g[0]||(g[0]=j=>r.$emit("screenNext",j)),blockid:e.screenindex+"-"+k},null,8,["steps","id","islast","block","blockid"]),[[re,b(k)]])]),_:2},1024))),256)),e.screen.steps&&!u(l)?(a(),I(Il,{key:2,steps:e.screen.blocks.length},null,8,["steps"])):z("",!0)],14,Cl))}},Tl={class:"relative w-full h-full"},Ol={props:{},setup(e){const t=w("activityFile"),o=w("statusFile"),n=w("view"),l=d=>{o.value.step=0,o.value.screen+=d},i=d=>n.value?!0:d==o.value.screen;return(d,b)=>(a(),c("section",Tl,[p(he),(a(!0),c($,null,V(u(t).screens,(r,g)=>J((a(),I(Al,{key:g,screen:r,onScreenNext:l,screenindex:g},null,8,["screen","screenindex"])),[[re,i(g)]])),128))]))}},Ll={class:"drawer drawer-mobile"},zl=s("input",{class:"drawer-toggle",id:"sidebar",type:"checkbox"},null,-1),Bl={class:"drawer-content"},El={class:"z-10 btn btn-sm btn-outline gap-2 drawer-button fixed top-2 left-2 text-xs lg:hidden text-white",for:"sidebar"},jl=x("menu_open"),Ml=x("Abrir"),Dl={class:"drawer-side"},Fl={key:0,class:"drawer-overlay",for:"sidebar"},Vl={props:{},setup(e){w("activityFile");const t=w("hidemenu");return(o,n)=>(a(),c("div",Ll,[zl,s("div",Bl,[s("label",El,[p(H,null,{default:M(()=>[jl]),_:1}),Ml]),p(Ol)]),s("div",Dl,[u(t)?z("",!0):(a(),c("label",Fl)),p(gl)])]))}};const Nl={setup(e){const t=w("activityFile"),o=w("statusFile"),n=w("builderFile"),l=i=>{o.value.state=i};return(i,d)=>(a(),c($,null,[u(n)?(a(),I(nl,{key:0})):z("",!0),u(t)&&u(o)?(a(),c($,{key:1},[u(o).state=="@intro"?(a(),I(Ka,{key:0,onStart:d[0]||(d[0]=b=>l("@activity"))})):u(o).state=="@activity"?(a(),I(Vl,{key:1})):z("",!0)],64)):z("",!0)],64))}};function Pl(e){return!1}var Rl={buildBG:Pl},Ul={ALGEBRAI:{materia:"A\u0301lgebra I",color:"215 52% 42%"},LECTURAEOEI:{materia:"Lectura, Expresio\u0301n Oral y Escrita I",color:"215 52% 42%"},LOGICA:{materia:"Lo\u0301gica",color:"215 52% 42%"},QUIMICAI:{materia:"Qui\u0301mica I",color:"215 52% 42%"},TECNOLOGIASIC:{materia:"Tecnologi\u0301as de la Informacio\u0301n y la Comunicacio\u0301n",color:"215 52% 42%"},BIOLOGIA:{materia:"Biologi\u0301a",color:"359 53% 44%"},ETICA:{materia:"E\u0301tica",color:"359 53% 44%"},GEOMETRIAA:{materia:"Geometri\u0301a Anali\u0301tica",color:"359 53% 44%"},CALCULOI:{materia:"Ca\u0301lculo Integral",color:"130 27% 35%"},CIENCIATSV:{materia:"Ciencia, Tecnologi\u0301a, Sociedad y Valores",color:"130 27% 35%"},FISICAII:{materia:"Fi\u0301sica II",color:"130 27% 35%"}},Gl={BIOLOGIAI:{materia:"Biolog\xEDa  I",color:""},ESTRUCTURASM:{materia:"Estructura Socioecono\u0301mica de Me\u0301xico",color:""},ETICAI:{materia:"E\u0301tica I",color:""},FISICAI:{materia:"Fi\u0301sica  I",color:""},GEOGRAFIA:{materia:"Geografi\u0301a",color:""},HISTORIAMI:{materia:"Historia de Me\u0301xico  I",color:""},INFORMATIVAI:{materia:"Informa\u0301tica  I",color:""},LITERATURAI:{materia:"Literatura  I",color:""},MATEMATICASI:{materia:"Matema\u0301ticas  I",color:""},MATEMATICASIII:{materia:"Matema\u0301ticas  III",color:""},METODOLOGIASII:{materia:"Metodologi\u0301a de la Investigacio\u0301n  I",color:""},QUIMICAI:{materia:"Qui\u0301mica  I",color:""},TALLERLRI:{materia:"Taller de Lectura y Redaccio\u0301n  I",color:""}},ql={DGETI:Ul,DGB:Gl};const ae=["color: #446699","background: #ddff99","font-size: 9px","padding: 2px 5px","border-radius: 4px"].join(";"),Hl=De();ee();var q=Le(Nl);q.config.globalProperties.emitter=Hl;q.use(ze);q.use(Be);q.use(Ee);q.component("Popper",je);gsap.registerPlugin(Draggable);q.provide("view",y(!1));q.provide("hidemenu",y(!1));q.provide("Audios",{sclick:new Z({source:"odas/assets/sounds/click.mp3"}),scancel:new Z({source:"odas/assets/sounds/cancel.mp3"}),sopen:new Z({source:"odas/assets/sounds/open.mp3"}),sclose:new Z({source:"odas/assets/sounds/close.mp3"}),schange:new Z({source:"odas/assets/sounds/change.mp3"}),sBlockSelect:new Z({source:"odas/assets/sounds/blockSelect.mp3"}),sBlockDrag:new Z({source:"odas/assets/sounds/blockDrag.mp3"}),sfinalize:new Z({source:"odas/assets/sounds/end.mp3"}),snotification:new Z({source:"odas/assets/sounds/notification.mp3"}),ssend:new Z({source:"odas/assets/sounds/send.mp3"})});Wl();function Jl(e){try{JSON.parse(e)}catch{return!1}return!0}async function Wl(){const e=window.location.search,t=new URLSearchParams(e),o=t.get("test"),n=t.get("blocked"),l=t.get("oda"),i=t.get("status"),d=t.get("builder");o!=null?(console.log("%c%s",ae,"::TestMode"),q.provide("test",!0)):q.provide("test",!1),n!=null?(console.log("%c%s",ae,"::BLOCKED"),q.provide("blocked",!0)):q.provide("blocked",!1);const r=y({state:"@intro",screen:0,step:0,answers:{},result:{},finalize:!1}),g=y({total:0,oks:0,errors:0,oksPercentage:0,errorsPercentage:0});if(q.provide("resultsFile",g),l)try{const j=fe(l+"_"),T=(await Me.get("./odas/"+l+"/oda.json")).data;T.conf=ql[T.programa][T.materia];const R=T.conf.color;var f=document.querySelector("html");if(f&&f.style.setProperty("--p",R),q.provide("activityFile",T),Rl.buildBG(T.conf.color),q.provide("statusFile",r),q.provide("builderFile",!1),q.mount("#app"),o!=null){const C=j.getStorageSync("status");if(C){const v=ie.atob(C);if(!v)return!1;const O=JSON.parse(v);if(!O)return!1;r.value=O,console.log("%c%s",ae,"::LoadedData")}}if(i!=null&&i.length>4){const C=ie.atob(i);if(!C)return!1;if(Jl(C)){const v=JSON.parse(C);if(!v)return!1;r.value=v,console.log("%c%s",ae,"::UrlData")}else console.log("%c%s",ae,"::WRONG UrlData")}const P=se.throttle(function(C,v){const O=ie.btoa(JSON.stringify(C.value));j.setStorageSync("status",O);const _={status:O,results:r.value.finalize?g.value:null};var E=JSON.stringify(_);window.top.postMessage(E,"*")},2e3);oe(()=>r,(C,v)=>{if(n!=null)return!1;P(C,v)},{deep:!0}),document.title=T.id+" | "+T.title,o!=null&&(document.title="::TEST:: "+T.id+" | "+T.title)}catch(j){console.log("%c%s",ae,"::Error: "+j);var k=document.getElementById("app");k.innerHTML='<div class="erroroda">ERROR DE CARGA</div>'}else if(d!=null)q.provide("statusFile",!1),q.provide("activityFile",!1),q.provide("builderFile",!0),q.mount("#app");else{var k=document.getElementById("app");k.innerHTML='<div class="erroroda">ODA NO ENCONTRADA</div>'}}const Ql=e=>{var t=e.data;typeof t=="string"&&JSON.parse(t)};window.addEventListener("message",Ql,!1);window.addEventListener("resize",function(){window.innerWidth<=600&&q.config.globalProperties.emitter.emit("sidebarmini")});
