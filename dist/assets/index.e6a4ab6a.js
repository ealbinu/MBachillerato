import{o as a,c as _,w as S,T as h,a as d,b as r,d as p,r as f,n as b,t as A,e as k,F as v,f as N,i as g,g as m,h as $,j as V,k as L,v as F,l as B,p as O,G as q,m as I,q as P,s as z,u as C}from"./vendor.93c41daf.js";const H=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))e(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&e(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerpolicy&&(l.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?l.credentials="include":o.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function e(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}};H();const U={key:0,class:"dialog intro"};function G(s,t,n,e,o,l){return a(),_(h,{name:"zoom",onAfterLeave:e.start},{default:S(()=>[e.dialog?(a(),d("div",U,[r("button",{class:"important",onClick:t[0]||(t[0]=(...c)=>e.close&&e.close(...c))},"Comenzar")])):p("",!0)]),_:1},8,["onAfterLeave"])}var y=(s,t)=>{const n=s.__vccOpts||s;for(const[e,o]of t)n[e]=o;return n};const E={setup(s,t){const n=f(!0);return{dialog:n,close:()=>{n.value=!1},start:()=>{t.emit("start")}}}};var W=y(E,[["render",G]]);const R={class:"container"},J={class:"area"},K=r("hr",null,null,-1),Q={class:"area pantallas"},X=["onClick"],Y={class:"label"},Z=r("hr",null,null,-1),ee=r("div",{class:"area"},[r("h2",null,[r("span",{class:"icon ico-progreso"}),N(),r("span",{class:"label"},"Progreso")]),r("div",{class:"progreso"},[r("div",{class:"bar",style:"width:"+70+"%"})])],-1),te=r("hr",null,null,-1),ne=r("div",{class:"area"},[r("h2",null,[r("span",{class:"icon ico-puntaje"}),N(),r("span",{class:"label"},"Puntaje")]),r("div",{class:"puntaje"},[N("10 "),r("span",{class:"label"},"/100")])],-1);function se(s,t,n,e,o,l){return a(),_(h,{name:"zoom"},{default:S(()=>[r("aside",{class:b(["ActivitySidebar",[e.wide?"":"mini"]])},[r("div",{class:"openclosebtn",onClick:t[0]||(t[0]=c=>e.wide=!e.wide)},[r("span",{class:b(["icon",[e.wide?"ico-left":"ico-right"]])},null,2)]),r("div",R,[r("div",J,[r("h1",null,A(e.Activity.title),1)]),K,r("div",Q,[r("ul",null,[(a(!0),d(v,null,k(e.Activity.screens,(c,i)=>(a(),d("li",{class:b(["screenItem",i==e.Status.screen?"active":""]),onClick:u=>e.goToScreen(i)},[r("span",{class:b(["icon ico-pantallas",i==e.Status.screen?"active":""])},null,2),r("span",Y,"\xA0 "+A(c.title),1)],10,X))),256))])]),Z,ee,te,ne])],2)]),_:1})}const oe={setup(s,t){const n=g("activityFile"),e=g("statusFile");return{wide:f(!0),Activity:n,Status:e,goToScreen:c=>{e.value.screen=c}}}};var ae=y(oe,[["render",se]]);const re=["innerHTML"];function ce(s,t,n,e,o,l){const c=m("math-jax");return a(),d("div",{class:"blockText",style:$(e.cssVars)},[(a(!0),d(v,null,k(n.data.content,(i,u)=>(a(),d(v,null,[typeof i=="string"?(a(),d("span",{key:0,innerHTML:i},null,8,re)):i.math?(a(),_(c,{key:1,latex:i.math,block:i.block},null,8,["latex","block"])):p("",!0)],64))),256))],4)}const le={components:{},props:["data"],setup(s,t){return{cssVars:V(()=>({"--block-align":s.data.align||"center"})),formula:"\\frac{x}{b}"}}};var D=y(le,[["render",ce]]);const ie={class:"ButtonNextStep"},de=["innerHTML"];function ue(s,t,n,e,o,l){return a(),d("div",ie,[r("button",{onClick:t[0]||(t[0]=(...c)=>e.clicked&&e.clicked(...c)),innerHTML:n.label},null,8,de)])}const _e={components:{},props:["label"],setup(s,t){return{clicked:()=>{t.emit("clicked")}}}};var j=y(_e,[["render",ue]]);const pe=["innerHTML"];function ve(s,t,n,e,o,l){const c=m("math-jax");return a(),d("div",{class:"blockText",style:$(e.cssVars)},[(a(!0),d(v,null,k(n.data.content,(i,u)=>(a(),d(v,null,[typeof i=="string"?(a(),d("span",{key:0,innerHTML:i},null,8,pe)):i.math?(a(),_(c,{key:1,latex:i.math,block:i.block},null,8,["latex","block"])):p("",!0)],64))),256))],4)}const me={components:{},props:["data"],setup(s,t){return{cssVars:V(()=>({"--block-align":s.data.align||"center"})),formula:"\\frac{x}{b}"}}};var ye=y(me,[["render",ve]]);const fe={key:2,class:"text-center my-1"},ke={key:3,class:"text-center my-2"};function be(s,t,n,e,o,l){const c=m("BlockText"),i=m("BlockDragDrop");return a(),d("div",{class:"block",style:$(e.cssVars)},[n.block.type==null||n.block.type=="text"?(a(),_(c,{key:0,data:n.block},null,8,["data"])):p("",!0),n.block.type=="drag&drop"?(a(),_(i,{key:1,data:n.block},null,8,["data"])):p("",!0),n.block.buttonNextStep?(a(),d("div",fe,[r("button",{onClick:t[0]||(t[0]=u=>s.$emit("stepNext"))},A(n.block.buttonNextStep),1)])):p("",!0),n.block.buttonNextScreen?(a(),d("div",ke,[r("button",{class:"important",onClick:t[1]||(t[1]=u=>s.$emit("screenNext",1))},A(n.block.buttonNextScreen),1)])):p("",!0)],4)}const ge={components:{BlockText:D,ButtonNextStep:j},props:["block"],components:{BlockText:D,ButtonNextStep:j,BlockDragDrop:ye},setup(s,t){return{cssVars:V(()=>({"--block-width":s.block.width||"100%"}))}}};var M=y(ge,[["render",be]]);const xe={class:"stepsNavigation"},Se=["disabled"],he=r("span",{class:"icon ico-left"},null,-1),Ae=[he],$e=["disabled"],Ve=r("span",{class:"icon ico-right"},null,-1),we=[Ve];function Ne(s,t,n,e,o,l){return a(),d("div",xe,[r("button",{onClick:t[0]||(t[0]=c=>e.navigate(-1)),disabled:n.modelValue==0},Ae,8,Se),(a(!0),d(v,null,k(n.steps,(c,i)=>(a(),d("div",{class:b(["step",[n.modelValue==i?"active":"non-active"]])},null,2))),256)),r("button",{onClick:t[1]||(t[1]=c=>e.navigate(1)),disabled:n.modelValue==n.steps-1},we,8,$e)])}const Be={components:{},props:{modelValue:{type:Number,default:0,required:!0},steps:{type:Number,required:!0}},setup(s,t){const n=f(0);return{navigate:o=>{if(o==-1&&s.modelValue>0||o==1&&s.modelValue<s.steps-1){const l=s.modelValue+o;t.emit("update:modelValue",l)}},currentStep:n}}};var Te=y(Be,[["render",Ne]]);function Le(s,t,n,e,o,l){const c=m("ScreenBlocks"),i=m("ActivityScreenSteps");return a(),d("div",{class:"activityScreen",style:$(e.cssVars)},[(a(!0),d(v,null,k(n.screen.blocks,(u,x)=>(a(),_(h,{name:"slide"},{default:S(()=>[L(B(c,{block:u,onStepNext:t[0]||(t[0]=T=>e.step++),onScreenNext:t[1]||(t[1]=T=>s.$emit("screenNext",T))},null,8,["block"]),[[F,e.useSteps(x)]])]),_:2},1024))),256)),n.screen.steps?(a(),_(i,{key:0,modelValue:e.step,"onUpdate:modelValue":t[2]||(t[2]=u=>e.step=u),steps:n.screen.blocks.length},null,8,["modelValue","steps"])):p("",!0)],4)}const Fe={components:{ScreenBlocks:M},props:{screen:{type:Object,required:!0}},setup(s){const t=f(0);return{cssVars:V(()=>({})),useSteps:o=>s.screen.steps?t.value==o:!0,step:t}},components:{ScreenBlocks:M,ActivityScreenSteps:Te}};var Ce=y(Fe,[["render",Le]]);const De={class:"Activity"};function je(s,t,n,e,o,l){const c=m("ActivityScreen");return a(),_(h,{name:"zoom"},{default:S(()=>[r("section",De,[(a(!0),d(v,null,k(e.Activity.screens,(i,u)=>L((a(),_(c,{screen:i,onScreenNext:e.changeScreen},null,8,["screen","onScreenNext"])),[[F,u==e.Status.screen]])),256))])]),_:1})}const Me={components:{ActivityScreen:Ce},props:{screenModel:{type:Number,default:0,required:!0}},setup(s,t){const n=g("activityFile"),e=g("statusFile");return{Activity:n,Status:e,changeScreen:l=>{e.value.screen=l}}}};var Oe=y(Me,[["render",je]]);const qe={key:2};function Ie(s,t,n,e,o,l){const c=m("Intro"),i=m("ActivitySidebar"),u=m("ActivityWindow");return e.activityFile?(a(),d(v,{key:0},[e.main.state=="@intro"?(a(),_(c,{key:0,onStart:t[0]||(t[0]=x=>e.changestate("@activity"))})):e.main.state=="@activity"?(a(),d(v,{key:1},[B(i),B(u,{screenModel:e.status.screen,"onUpdate:screenModel":t[1]||(t[1]=x=>e.status.screen=x)},null,8,["screenModel"])],64)):e.main.state=="@ended"?(a(),d("p",qe,"Ended")):p("",!0)],64)):p("",!0)}const Pe={components:{Intro:W,ActivitySidebar:ae,ActivityWindow:Oe},setup(){const s=f({state:"@activity"}),t=o=>{s.value.state=o},n=g("activityFile"),e=f({screen:0});return O("statusFile",f(e)),{main:s,changestate:t,activityFile:n,status}}};var ze=y(Pe,[["render",Ie]]);function He(s){var t=q.generate(s||"-");const n=t.toDataUrl();document.getElementById("app").style.backgroundImage=n}var Ue={buildBG:He},w=I(ze);function Ge(){Ee()}P({options:{enableMenu:!1}},Ge);w.use(z);async function Ee(){const s=window.location.search,n=new URLSearchParams(s).get("oda");if(n)try{const e=await C.get("./odas/"+n+"/oda.json");w.provide("activityFile",e.data),Ue.buildBG(e.data.id),w.mount("#app")}catch(e){alert("Ocurri\xF3 un error al cargar la ODA"),console.log(e)}else alert("ODA no definida")}async function We(){const s=window.location.search,n=new URLSearchParams(s).get("oda");if(n)try{const e=await C.get("./odas/"+n+"/oda.json");w.provide("activityFile",e.data)}catch(e){alert("Ocurri\xF3 un error al cargar la ODA"),console.log(e)}}(!1).on("vite:beforeUpdate",()=>{We()});
