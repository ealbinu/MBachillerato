import{o as a,c as i,r as de,n as F,a as m,b as X,d as K,u as _,F as $,e as L,i as g,f as ee,g as w,w as D,h as c,j as V,k as T,l as te,t as U,m as x,_ as ne,p as se,q as Ie,s as Ce,v as Ae,S as Te,x as W,y as Y,z as ce,A as Oe,B as Le,E as ze,H as Ee,C as Be,P as je,D as De,G as Me,I as Fe,J as Ne,V as Ve,K as Pe,L as ie,T as me,M as Re,N as ke,O as pe,Q as fe,R as _e,U as Ue,W as ue,X as Ge,Y as qe,Z as He,$ as Je,a0 as We,a1 as Z,a2 as Qe,a3 as re,a4 as Ke}from"./vendor.b17477c7.js";const Xe=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const d of s.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function l(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerpolicy&&(s.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?s.credentials="include":n.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(n){if(n.ep)return;n.ep=!0;const s=l(n);fetch(n.href,s)}};Xe();const H={props:{class:String},setup(e){return(t,l)=>(a(),i("i",{class:F(["material-icons theicon",e.class])},[de(t.$slots,"default")],2))}};var Q=(e,t)=>{const l=e.__vccOpts||e;for(const[o,n]of t)l[o]=n;return l};const Ye=["innerHTML"],Ze=["innerHTML"],et={props:{data:Object},setup(e){const t=e,l=m(!1),o=X(()=>({"--fontSize":t.data.size||"1rem","--fontSizeBlock":t.data.size||"1.5rem"})),n=s=>window.MathJax.tex2svg(s).getElementsByTagName("svg")[0].outerHTML;return setTimeout(()=>{l.value=!0},200),(s,d)=>l.value?(a(),i($,{key:0},[e.data.block?(a(),i("div",{key:0,class:F(["blockmathCont animate__animated animate__jello animate__delay-2s",[e.data.dark?"dark":"light"]]),style:K(_(o)),innerHTML:n(e.data.math)},null,14,Ye)):(a(),i("span",{key:1,class:F(["blockmathCont",[e.data.dark?"dark":"light"]]),style:K(_(o)),innerHTML:n(e.data.math)},null,14,Ze))],64)):L("",!0)}};const ve={props:{},setup(e,{emit:t}){const l=g("test"),o=()=>{t("solve")};return(n,s)=>_(l)?(a(),i("button",{key:0,class:"solveModule test",onClick:o},"Resolver")):L("",!0)}},ge={setup(e,{expose:t}){const l=m(!1);return t({replace:()=>{l.value=!0}}),(n,s)=>l.value?de(n.$slots,"second",{key:1}):de(n.$slots,"main",{key:0})}};const tt=["id"],at={key:0,class:"drops dropsLeft"},st=["data"],lt={class:"drags"},ot=["data","data-index"],nt=T("pan_tool"),ct={class:"feedback f0 animate__animated animate__flash"},it={class:"feedback f1 animate__animated animate__flash"},rt={key:1,class:"drops dropsRight"},dt=["data"],ut={props:{blockid:String,data:Object},setup(e){const t=e,l=g("Audios"),o=g("statusFile"),n=g("blocked"),s=te(),d=m(),u=m(),r=m();var p="#block-"+t.blockid,b=p+" .drag",v=p+" .drop",I=null,k;const C=()=>{if(I=document.querySelectorAll(p+" .drop"),n)return!1;k=Draggable.create(b,{type:"x,y",bounds:p,zIndexBoost:!1,onDrag:function(h){M(h,this)},onClick:function(h){N(h,this)},onDragEnd:function(h){O(h,this)}})},M=(h,y)=>{for(var S=0;S<I.length;S++){if(y.hitTest(I[S],"40%"))return y.target.classList.add("hover"),I[S].classList.add("hover"),!1;y.target.classList.remove("hover"),I[S].classList.remove("hover")}},N=(h,y)=>{if(u.value!=null)return!1;l.scancel.play();var S=document.querySelector(p+" .drags");y.target.parentElement!=S&&(S.append(y.target),TweenLite.to(y.target,.2,{x:0,y:0}),y.target.removeAttribute("data-feedback"),J())},O=(h,y)=>{for(var S=!1,R=0;R<I.length;R++)y.hitTest(I[R],"40%")&&(S=!0,I[R].append(y.target),TweenLite.to(y.target,.2,{x:0,y:0}),y.target.classList.remove("hover"),I[R].classList.remove("hover"),f(y.target),J());S?l.sBlockDrag.play():TweenLite.to(y.target,.2,{x:0,y:0})},A=h=>{var y=btoa(h);return y},J=()=>{for(var h=document.querySelectorAll(b),y=[],S=0;S<h.length;S++){var R=h[S].getAttribute("data-index"),ae=h[S].parentElement.getAttribute("data");y.push([R,ae])}o.value.answers[t.blockid]=y},E=setInterval(function(){Draggable},500);ee(()=>{C(),B()});const B=()=>{clearInterval(E),j()},j=()=>{if(o.value.answers||(o.value.answers={}),o.value.answers[t.blockid]){var h=o.value.answers[t.blockid];for(var y in h){var S=h[y];if(S[1]){var R=document.querySelector(b+'[data-index="'+S[0]+'"]'),ae=document.querySelector(v+"[data="+S[1]+"]");ae.append(R),f(R)}}}else o.value.answers[t.blockid]=null;o.value.finalize&&z()},G=()=>{for(var h=document.querySelectorAll(b),y=0;y<h.length;y++){var S=atob(h[y].getAttribute("data")),R=document.querySelector(v+"[data="+S+"]");R.append(h[y])}J()},f=h=>{var y=atob(h.getAttribute("data")),S=h.parentElement.getAttribute("data");y==S?h.setAttribute("data-feedback",0):h.setAttribute("data-feedback",1),t.data.replace!=null&&d.value.replace()},z=()=>{for(var h=document.querySelectorAll(b),y=0,S=0;S<h.length;S++){k[S].disable();var R=atob(h[S].getAttribute("data")),ae=h[S].parentElement.getAttribute("data");R==ae?h[S].classList.add("isok"):(h[S].classList.add("notok"),y++),f(h[S])}y==0?u.value=!0:u.value=!1,o.value.result[t.blockid]=u.value};return s.appContext.config.globalProperties.emitter.on("solve",h=>{G()}),s.appContext.config.globalProperties.emitter.on("finalize",h=>{z()}),(h,y)=>(a(),i($,null,[w(ge,{ref_key:"replacer",ref:d},{main:D(()=>[c("div",{class:"blockDragDrop",id:"block-"+e.blockid,ref_key:"block",ref:r},[e.data.dropsLeft?(a(),i("section",at,[(a(!0),i($,null,V(e.data.dropsLeft,(S,R)=>(a(),i("div",{class:"drop",data:S[1]},[w(P,{item:S[0],blockid:e.blockid+"-dropLeft-"+R},null,8,["item","blockid"])],8,st))),256))])):L("",!0),c("section",lt,[(a(!0),i($,null,V(e.data.drags,(S,R)=>(a(),i("div",{class:"drag",data:A(S[1]),"data-index":R},[w(H,null,{default:D(()=>[nt]),_:1}),w(P,{item:S[0],blockid:e.blockid+"-drag-"+R},null,8,["item","blockid"]),S[2]?(a(),i($,{key:0},[c("div",ct,[w(P,{item:S[2][0],blockid:e.blockid+"-dropRight-"+R+"-feedback"},null,8,["item","blockid"])]),c("div",it,[w(P,{item:S[2][1],blockid:e.blockid+"-dropRight-"+R+"-feedback"},null,8,["item","blockid"])])],64)):L("",!0)],8,ot))),256))]),e.data.dropsRight?(a(),i("section",rt,[(a(!0),i($,null,V(e.data.dropsRight,(S,R)=>(a(),i("div",{class:"drop",data:S[1]},[w(P,{item:S[0],blockid:e.blockid+"-dropRight-"+R},null,8,["item","blockid"])],8,dt))),256))])):L("",!0)],8,tt)]),second:D(()=>[w(P,{item:e.data.replace[0],blockid:e.blockid+"-selectitem-feedback-ok"},null,8,["item","blockid"])]),_:1},512),w(ve,{onSolve:G})],64))}};var vt=Q(ut,[["__scopeId","data-v-68fbf958"]]);const bt=["id"],_t=["onClick"],mt=T("touch_app"),kt={class:"option-letter"},pt={key:0,class:"feedback text-center animate__animated animate__pulse"},ft={props:{blockid:String,data:Object},setup(e){const t=e,l=m(void 0),o=g("statusFile"),n=g("blocked"),s=g("Audios"),d=m();m(!1);const u=te(),r=m(),p=m(!1),b=m(),v=m([]);var I=m(!0);const k=()=>{for(var B=t.data.options,j=[],G=0;G<B.length;G++)j.push(B[G][1]);ne.isEqual(j,v.value)?l.value=!0:l.value=!1,t.data.replace!=null&&d.value.replace()},C=B=>"abcdefghijk"[B],M=()=>{for(var B in t.data.options)t.data.options,v.value[B]=!1;N(),o.value.answers||(o.value.answers=[]),o.value.answers[t.blockid]?(v.value=o.value.answers[t.blockid][0],r.value=o.value.answers[t.blockid][1],k()):o.value.answers[t.blockid]=null},N=()=>{var B=0;t.data.options.forEach(j=>{j[1]&&(B+=1)}),B>1&&(I.value=!1)};ee(()=>{M()});const O=(B,j)=>{if(n||o.value.finalize)return!1;if(r.value=j,p.value=!0,s.sBlockSelect.play(),I.value){for(var G in v.value)v.value[G]=!1;v.value[B]=!0}else v.value[B]=!v.value[B];k(),o.value.answers[t.blockid]=[v.value,r.value],setTimeout(()=>{p.value=!1},50)},A=()=>{for(var B=t.data.options,j=0;j<B.length;j++)B[j][1]?v.value[j]=!0:v.value[j]=!1;o.value.answers[t.blockid]=[v.value,r.value]},J=()=>{k(),l.value?b.value.classList.add("isok"):b.value.classList.add("notok"),o.value.result[t.blockid]=l.value};u.appContext.config.globalProperties.emitter.on("solve",B=>{A()}),u.appContext.config.globalProperties.emitter.on("finalize",B=>{J()});const E=X(()=>({"--block-grid-template-columns":t.data.columns||"1fr 1fr 1fr 1fr","--block-grid-template-columns-responsive":t.data.columnsResponsive||"1fr","--block-grid-gap":t.data.gap||"10px"}));return(B,j)=>(a(),i($,null,[w(ge,{ref_key:"replacer",ref:d},{main:D(()=>[c("div",{class:"blockSelect",id:"block-"+e.blockid,ref_key:"block",ref:b,style:K(_(E))},[(a(!0),i($,null,V(e.data.options,(G,f)=>(a(),i("div",{onClick:z=>O(f,G),class:F([v.value[f]?"active "+e.data.optionClassActive:"",e.data.optionClass||"blockSelectOption"])},[e.data.optionClass?L("",!0):(a(),i($,{key:0},[w(H,null,{default:D(()=>[mt]),_:1}),c("div",kt,U(C(f)),1)],64)),w(P,{item:G[0],blockid:e.blockid+"-selectitem"},null,8,["item","blockid"])],10,_t))),256))],12,bt),p.value?L("",!0):(a(),i("div",pt,[e.data.feedback&&v.value.some(G=>G==!0)?(a(),x(P,{key:0,item:e.data.feedback[l.value?0:1],blockid:e.blockid+"-selectitem-feedback"},null,8,["item","blockid"])):L("",!0),r.value&&r.value[2]?(a(),x(P,{key:1,item:r.value[2],blockid:e.blockid+"-selectitem-feedback"},null,8,["item","blockid"])):L("",!0)]))]),second:D(()=>[l.value?(a(),x(P,{key:0,item:e.data.replace[0],blockid:e.blockid+"-selectitem-feedback-ok"},null,8,["item","blockid"])):(a(),x(P,{key:1,item:e.data.replace[1],blockid:e.blockid+"-selectitem-feedback-wrong"},null,8,["item","blockid"]))]),_:1},512),w(ve,{onSolve:A})],64))}};const gt=["src","id"],ht={props:{data:Object},setup(e){g("activityFile");const t=g("path");return(l,o)=>(a(),i("img",{class:F(["blockImg",e.data.class]),src:_(t)+e.data.img,id:e.data.id},null,10,gt))}};var yt=Q(ht,[["__scopeId","data-v-6dfc5355"]]);const xt={class:"relative mr-2"},$t=T("contact_support"),wt={class:"min-w-[10rem] text-xs"},St={props:{data:{type:Object}},setup(e){return m(!1),(t,l)=>{const o=se("Popper");return a(),x(o,{class:F(e.data.class),placement:e.data.placement,arrow:!0,id:e.data.id},{content:D(()=>[c("div",wt,[(a(!0),i($,null,V(e.data.content,(n,s)=>(a(),x(P,{key:s,item:n},null,8,["item"]))),128))])]),default:D(()=>[c("span",xt,[w(P,{item:e.data.term},null,8,["item"]),w(H,{class:"termIcon animate__animated animate__flash animate__infinite animate__slow absolute top-0 -right-3 text-xs"},{default:D(()=>[$t]),_:1})])]),_:1},8,["class","placement","id"])}}};var It=Q(St,[["__scopeId","data-v-0dd8957d"]]);const Ct={props:{data:Object,blockid:String},setup(e){const t=e;return X(()=>({"--fontSize":t.data.size||"1rem"})),(l,o)=>{const n=se("apexchart");return e.data.chart=="line"?(a(),i($,{key:0},[c("p",null,U(e.data),1),w(n,{type:e.data.chart,options:e.data.options,series:e.data.series},null,8,["type","options","series"])],64)):L("",!0)}}};var At=Ie({props:{data:Object,blockid:String},setup(e){const t=e;X(()=>({"--fontSize":t.data.size||"1rem"}));const l=m(),o=m(),n=m(),s=()=>{let d=l.value.getBoundingClientRect(),u=340,r=200,p=d.width/u;u*=p,r*=p,n.value=functionPlot({title:typeof t.data.plot=="string"?t.data.plot:"",target:o.value,width:u,height:r,yAxis:t.data.yAxis,xAxis:t.data.xAxis,grid:!1,data:t.data.data,annotations:t.data.annotations})};return setTimeout(()=>{s()},500),(d,u)=>(a(),i("div",{class:"blockPlot",ref_key:"blockParent",ref:l},[c("div",{ref_key:"block",ref:o},null,512)],512))}});const Tt=["id"],Ot={class:"blockGridItem"},Lt={props:{data:Object,blockid:String},setup(e){const t=e,l=X(()=>({"--block-grid-template-columns":t.data.columns||"auto auto auto auto","--block-grid-template-columns-responsive":t.data.columnsResponsive||"auto","--block-grid-gap":t.data.gap||"10px"}));return(o,n)=>(a(),i("div",{class:F(["blockGrid",e.data.class]),style:K([_(l),e.data.style]),id:e.data.id},[(a(!0),i($,null,V(e.data.content,(s,d)=>(a(),i("div",Ot,[w(P,{item:s,blockid:e.blockid+"-"+d},null,8,["item","blockid"])]))),256))],14,Tt))}},zt=["id","data","data-scroll"],Et={props:{data:Object,blockid:String},setup(e){const t=e,l=m(),o=X(()=>({}));return ee(()=>{if(t.data.scrollClass){const n=t.data.scrollClass.split(" ");l.value.setAttribute("data-scroll-classes",n),Ce({scrollingElement:".drawer-content",onShown(s){s.classList.remove(...s.getAttribute("data-scroll-classes").split(",")),s.offsetWidth,s.classList.add(...s.getAttribute("data-scroll-classes").split(","))},onChange:function(s,d,u){}})}}),(n,s)=>(a(),i("div",{class:F(["blockGroup",e.data.class]),id:e.data.id,data:e.data.data,style:K(_(o)),ref_key:"group",ref:l,"data-scroll":e.data.scrollClass?!0:void 0},[(a(!0),i($,null,V(e.data.content,(d,u)=>(a(),x(P,{item:d,blockid:e.blockid+"-"+u},null,8,["item","blockid"]))),256))],14,zt))}};const Bt=["id"],jt=["data"],Dt={class:"gestureIcon"},Mt=T("swipe_vertical"),Ft={props:{blockid:String,data:Object},setup(e){const t=e,l=m(),o=m(),n=g("statusFile"),s=g("blocked"),d=te(),u=m(ne.shuffle(t.data.items)),r=m(!1);(()=>{n.value.answers[t.blockid]?u.value=n.value.answers[t.blockid]:n.value.answers[t.blockid]=null})();const b=()=>{n.value.answers[t.blockid]=u.value,console.log("dragEnd"),r.value=!0,setTimeout(()=>{r.value=!1},100)},v=()=>{u.value=t.data.items,b()},I=()=>{ne.isEqual(u.value,t.data.items)?(l.value=!0,o.value.classList.add("isok")):(l.value=!1,o.value.classList.add("notok")),n.value.result[t.blockid]=l.value};return d.appContext.config.globalProperties.emitter.on("solve",k=>{v()}),d.appContext.config.globalProperties.emitter.on("finalize",k=>{I()}),(k,C)=>(a(),i($,null,[c("div",{class:F(["blockSortable",[e.data.class]]),id:"block-"+e.blockid,ref_key:"block",ref:o},[w(_(Ae),{modelValue:u.value,"onUpdate:modelValue":C[0]||(C[0]=M=>u.value=M),"item-key":"id",onEnd:b,sort:!(_(s)||_(n).finalize)},{item:D(({element:M,index:N})=>[c("div",{class:F(["sortable-item",[e.data.numbers?"shownumbers":"",e.data.classItem]]),data:N+1},[c("div",Dt,[w(H,null,{default:D(()=>[Mt]),_:1})]),(a(),x(P,{item:M,blockid:e.blockid+"-sortableitem-"+N,key:M},null,8,["item","blockid"]))],10,jt)]),_:1},8,["modelValue","sort"])],10,Bt),w(ve,{onSolve:v})],64))}};var Nt=Q(Ft,[["__scopeId","data-v-1275a968"]]);const Vt=["id","innerHTML"],Pt={props:{data:Object},setup(e){const t=e;m(!1);const l=m(t.data.text);t.data.text.match(/.{1,10}/g);const o=X(()=>({}));return(n,s)=>(a(),i("div",{class:F(["blockText animate__animated",[e.data.class]]),style:K(_(o)),id:e.data.id,innerHTML:l.value},null,14,Vt))}};var Rt=Q(Pt,[["__scopeId","data-v-e7e2a0e8"]]);const Ut={props:{data:Object},setup(e){const t=e,l=X(()=>({"--block-fontSize":t.data.size||"1rem","--block-block":t.data.block?"block":"inline-block"}));return(o,n)=>(a(),i("div",{class:F(["blockIcon",[e.data.class]]),style:K(_(l))},[w(H,null,{default:D(()=>[T(U(e.data.icon),1)]),_:1})],6))}};var Gt=Q(Ut,[["__scopeId","data-v-3173a235"]]);const qt={props:{data:Object,blockid:String},setup(e){const t=e,l=X(()=>({"--block-align":t.data.align||"left"}));return(o,n)=>(a(),i("div",{class:F(["blockInstruction animate__animated animate__bounce animate__delay-3s",[e.data.class]]),style:K([_(l),e.data.style])},[(a(!0),i($,null,V(e.data.content,(s,d)=>(a(),x(P,{item:s,blockid:e.blockid+"-instruction-"+d},null,8,["item","blockid"]))),256))],6))}};var Ht=Q(qt,[["__scopeId","data-v-2768cab3"]]);const Jt={props:{data:Object,blockid:String},setup(e){const t=e,l=X(()=>({"--block-align":t.data.align||"left"}));return(o,n)=>(a(),i("div",{class:F(["blockInstruction animate__animated animate__bounce animate__delay-3s",[e.data.class]]),style:K([_(l),e.data.style])},[w(H,{class:"animate__animated animate__flash animate__slower animate__infinite text-md"},{default:D(()=>[T(U(e.data.iconinst),1)]),_:1}),w(P,{item:e.data.inst,blockid:e.blockid+"-instruction"},null,8,["item","blockid"])],6))}};var Wt=Q(Jt,[["__scopeId","data-v-1da36357"]]);const Qt=["id","innerHTML"],Kt={props:{data:Object},setup(e){const t=e,l=m(),o=m(t.data.textAnimation);ee(()=>{Te({target:l.value,by:t.data.by||"words"})});const n=X(()=>({"--block-align":t.data.align||"left"}));return(s,d)=>(a(),i("div",{class:F(["blockTextAnimation",[e.data.class]]),"data-splitting":"",style:K(_(n)),id:e.data.id,innerHTML:o.value,ref_key:"textsplit",ref:l},null,14,Qt))}},Xt=["placeholder","id"],Yt={props:{blockid:String,data:Object},setup(e){const t=e,l=g("statusFile"),o=te(),n=m();g("blocked");const s=m(),d=m(),u=()=>{l.value.answers[t.blockid]=d.value};l.value.answers[t.blockid]?d.value=l.value.answers[t.blockid]:l.value.answers[t.blockid]=null;const r=()=>{n.value=!0,s.value.classList.add("isok"),l.value.result[t.blockid]=!0,console.log("finalizando variable input")};return o.appContext.config.globalProperties.emitter.on("solve",p=>{d.value="Nombre"}),o.appContext.config.globalProperties.emitter.on("finalize",p=>{r()}),(p,b)=>W((a(),i("input",{class:F(["input input-bordered input-lg w-full max-w-xs text-dark blockInput",e.data.class]),type:"text",placeholder:e.data.label,"onUpdate:modelValue":b[0]||(b[0]=v=>d.value=v),onChange:u,id:"block-"+e.blockid,ref_key:"block",ref:s},null,42,Xt)),[[Y,d.value]])}};const Zt={key:0,class:"colorize"},ea={props:{data:Object,blockid:String},setup(e){const t=e,l=g("Audios"),o=m(!0),n=X(()=>({"--colorize-bg":t.data.colorize||"#ffdd00"})),s=()=>{t.data.destroy&&(l.schange.play(),setTimeout(()=>{o.value=!1},1e3))};return s(),ce(()=>t.data.colorize,()=>{o.value=!0,s()}),(d,u)=>o.value?(a(),i("div",Zt,[c("div",{class:"coloring",style:K(_(n))},null,4)])):L("",!0)}};var ta=Q(ea,[["__scopeId","data-v-8870619a"]]);const aa={props:{data:Object},setup(e){return m(),(t,l)=>(a(),x(Oe("style"),null,{default:D(()=>[T(U(e.data.css),1)]),_:1}))}};var he="/assets/icons/chatbot-bot.svg",sa="/assets/icons/chatbot-user.svg",la="/assets/icons/chatbot-writing.gif";const oa={class:"w-full text-center"},na={class:"mockup-window border bg-slate-500"},ca={class:"flex justify-end flex-col px-4 bg-white text-dark h-[34rem]"},ia={class:"bubble bot flex justify-start items-center my-1 text-left animate__animated animate__fadeInUp animate__faster"},ra=c("img",{class:"w-12 mask mask-squircle",src:he},null,-1),da={key:0,class:"bubble user flex justify-end items-center my-1 text-left animate__animated animate__fadeInUp animate__faster"},ua=c("img",{class:"w-12 mask mask-squircle",src:sa},null,-1),va={key:1,class:"bg-red-400 rounded my-2 w-full p-2 userinputbubble"},ba={key:0,class:"userinput flex flex-wrap justify-end w-full gap-1"},_a=["onClick"],ma={key:0,class:"my-2 w-full px-2 py-4 userinputbubble"},ka={key:1,class:"bubble bot flex justify-start items-center my-1 text-left"},pa=c("img",{class:"w-12 mask mask-squircle",src:he},null,-1),fa=c("div",{class:"bg-gray-100 py-2 px-1 ml-1 rounded-xl max-w-md"},[c("img",{src:la})],-1),ga=[pa,fa],ha={props:{data:Object,blockid:String},setup(e){const t=e,l=g("Audios"),o=g("statusFile"),n=te(),s=g("blocked"),d=m(!1),u=m(0),r=m(),p=Le([]),b=m(!1),v=m(0),I=f=>{v.value=f,b.value=!0,setTimeout(()=>{b.value=!1,p.push({talk:f,answer:-1}),l.snotification.play(),N(f),j(),O(f),A()},Math.random()*1e3+400)},k=f=>t.data.content.find(y=>y.id==f),C=f=>k(f.talk).options[f.answer][0],M=(f,z,h)=>{const S=p.find(R=>R.talk==f);S.answer=z,h!=null&&(S.isright=h),h===!1&&(u.value+=1)},N=f=>{const z=k(f);z.auto&&I(z.auto)},O=f=>{k(f).end&&(d.value=!0)},A=()=>{r.value&&(setTimeout(()=>{try{r.value.$el.scrollTop=r.value.$el.scrollHeight}catch{console.log("couldnt scroll")}},1200),setTimeout(()=>{try{r.value.$el.scrollTop=r.value.$el.scrollHeight}catch{}},100))},J=(f,z,h)=>{if(s||o.value.finalize)return!1;M(f,z,h[2]),I(h[1]),l.ssend.play()},E=()=>{o.value.screen+=1};(()=>{if(o.value.answers[t.blockid]){Object.assign(p,o.value.answers[t.blockid][0]),v.value=o.value.answers[t.blockid][1],d.value=o.value.answers[t.blockid][2],u.value=o.value.answers[t.blockid][3];const f=p.pop();I(f.talk),A()}else o.value.answers[t.blockid]=null,I(0)})();const j=()=>{o.value.answers[t.blockid]=[p,v.value,d.value,u.value]},G=()=>{u.value==0?o.value.result[t.blockid]=d.value:o.value.result[t.blockid]=!1};return n.appContext.config.globalProperties.emitter.on("finalize",f=>{G()}),(f,z)=>{const h=se("perfect-scrollbar");return a(),i("div",oa,[c("div",na,[c("div",ca,[w(h,{class:"h-full w-full flex flex-col justify-between",ref_key:"scroll",ref:r},{default:D(()=>[(a(!0),i($,null,V(_(p),(y,S)=>(a(),i($,null,[c("div",ia,[ra,c("div",{class:F(["bg-gray-100 py-2 px-2 ml-1 rounded-xl max-w-lg",[k(y.talk).class]])},[w(P,{item:k(y.talk).talk,blockid:e.blockid+"-chatbot-bot-"+S},null,8,["item","blockid"])],2)]),y.answer>-1?(a(),i("div",da,[c("div",{class:F(["bg-primary text-white py-2 px-2 mr-1 rounded-xl max-w-lg text-center",[y.isright!=null&&_(o).finalize?y.isright?"isok":"notok":"notevaluated","min-w-[4rem]"]])},[w(P,{item:C(y),blockid:e.blockid+"-chatbot-user-"+S},null,8,["item","blockid"])],2),ua])):L("",!0),k(y.talk).options&&v.value==y.talk&&_(p).length-1==S?(a(),i("div",va,[k(y.talk).options&&y.talk==v.value?(a(),i("div",ba,[(a(!0),i($,null,V(k(y.talk).options,(R,ae)=>(a(),i("div",{class:"btn bg-primary btn-sm animate__animated animate__pulse animate__infinite animate__slow normal-case",onClick:Cn=>J(y.talk,ae,R)},[w(P,{item:R[0],blockid:e.blockid+"-chatbot-userinput-"+ae},null,8,["item","blockid"])],8,_a))),256))])):L("",!0)])):L("",!0)],64))),256)),d.value?(a(),i("div",ma,[c("div",{class:"btn btn-accent btn-wide animate__animated animate__pulse animate__infinite animate__slow my-2",onClick:E},"Siguiente")])):L("",!0),b.value?(a(),i("div",ka,ga)):L("",!0)]),_:1},512)])])])}}},ya=["id"],xa=T("touch_app"),ye={props:{data:Object,blockid:String},setup(e){return(t,l)=>(a(),i("div",{class:F(["card bg-base-100 shadow-xl",[e.data.class]]),id:e.data.id},[c("div",{class:F(["card-body text-gray-700",["min-h-[3rem]",e.data.classBody||"px-2 py-4"]])},[(a(!0),i($,null,V(e.data.content,(o,n)=>(a(),x(P,{item:o,blockid:e.blockid+"-card-"+n},null,8,["item","blockid"]))),256)),e.data.clickable?(a(),x(H,{key:0,class:"absolute top-0 left-1/2 transform -translate-x-1/2 text-xs text-gray-300"},{default:D(()=>[xa]),_:1})):L("",!0)],2)],10,ya))}},$a={class:"card-body p-3 flex justify-center items-center flex-col"},wa=T("pan_tool"),Sa={key:0,class:"feedbackDragItem"},Ia={props:{data:Object,blockid:String},emits:"completed",setup(e,{emit:t}){const l=e,o=g("Audios"),n=g("statusFile"),s=g("blocked"),d=m(),u=m(null),r=te(),p=m(),b=m(),v=m(null),I=()=>{if(n.value.finalize)return B(),!1;if(s)return!1;b.value=document.querySelectorAll(l.data.dropzone),p.value=d.value.parentElement,Draggable.create(d.value,{type:"x,y",zIndexBoost:2,bounds:l.data.bounds,onDrag:function(f){k(f,this)},onClick:function(f){C(f,this)},onDragEnd:function(f){O(f,this)}}),j()},k=(f,z)=>{p.value.isEqualNode(z.target.parentElement)||z.endDrag();for(var h=0;h<b.value.length;h++){var y=b.value[h];if(z.hitTest(y,"40%"))return l.data.hover&&y.classList.add(...l.data.hover.split(" ")),v.value=y,!1;l.data.hover&&y.classList.remove(...l.data.hover.split(" ")),v.value=null}},C=(f,z)=>{if(p.value.isEqualNode(z.target.parentElement))return!1;o.scancel.play(),E(z.target.parentElement),p.value.append(z.target),TweenLite.to(z.target,.2,{x:0,y:0}),M(),G()},M=()=>{u.value=!l.data.correctId};M();const N=()=>{u.value=d.value.parentElement.matches(l.data.correctId),t("completed",u.value)},O=(f,z)=>{for(var h=0;h<b.value.length;h++){if(v.value){if(TweenLite.to(z.target,0,{x:0,y:0}),l.data.hover&&v.value.classList.remove(...l.data.hover.split(" ")),!J(v.value))return!1;l.data.dropzoneClass&&v.value.classList.add(...l.data.dropzoneClass.split(" ")),v.value.append(z.target),A(v.value),N(),v.value=null,o.sBlockDrag.play()}TweenLite.to(z.target,.2,{x:0,y:0})}G()},A=f=>{if(!f.hasAttribute("data-dropzoneitems"))f.setAttribute("data-dropzoneitems",1);else{var z=parseInt(f.getAttribute("data-dropzoneitems"));f.setAttribute("data-dropzoneitems",z+1)}},J=f=>{var z=!0;if(f.hasAttribute("data-dropzoneitems")&&l.data.dropzoneItems){var h=parseInt(f.getAttribute("data-dropzoneitems"));console.log("hasAttr",l.data.dropzoneItems,h),l.data.dropzoneItems<=h&&(z=!1)}return z},E=f=>{var z=parseInt(f.getAttribute("data-dropzoneitems"));f.setAttribute("data-dropzoneitems",z-1),l.data.dropzoneClass&&f.classList.remove(...l.data.dropzoneClass.split(" "))};ee(()=>{I()});const B=()=>{d.value.classList.add(u.value?"isok":"notok"),n.value.result[l.blockid]=u.value},j=()=>{if(n.value.answers[l.blockid]){const f=n.value.answers[l.blockid];document.querySelector("#"+f).append(d.value),l.data.dropzoneClass&&(d.value.parentElement.classList.add(...l.data.dropzoneClass.split(" ")),conso),A(d.value.parentElement),N()}else n.value.answers[l.blockid]=null;n.value.finalize&&B()},G=()=>{n.value.answers[l.blockid]=d.value.parentElement.id};return r.appContext.config.globalProperties.emitter.on("solve",f=>{solve()}),r.appContext.config.globalProperties.emitter.on("finalize",f=>{B()}),(f,z)=>(a(),i($,null,[c("div",{class:F(["dragItem card bg-base-100 text-black rounded-md shadow-xl",[e.data.class]]),ref_key:"block",ref:d},[c("div",$a,[w(H,{class:"absolute top-0 left-1/2 transform -translate-x-1/2 text-xs text-gray-300"},{default:D(()=>[wa]),_:1}),(a(!0),i($,null,V(e.data.content,(h,y)=>(a(),x(P,{item:h,blockid:e.blockid+"-dragitem-"+y},null,8,["item","blockid"]))),256))])],2),u.value&&e.data.feedback?(a(),i("div",Sa,[u.value?(a(),x(P,{key:0,item:e.data.feedback[0],blockid:e.blockid+"-dragitem-feedback-ok"},null,8,["item","blockid"])):(a(),x(P,{key:1,item:e.data.feedback[1],blockid:e.blockid+"-dragitem-feedback-error"},null,8,["item","blockid"]))])):L("",!0)],64))}},xe={props:{data:Object},setup(e,{expose:t}){const l=e,o=g("statusFile");ce(()=>o.value,()=>{setTimeout(()=>{s()},250)},{deep:!0});const n=m([]),s=()=>{for(var b in n.value)n.value[b].position()};ee(()=>{LeaderLine.positionByWindowResize=!1,document.querySelector(".drawer-content").addEventListener("scroll",AnimEvent.add(function(){s()})),window.addEventListener("resize",AnimEvent.add(function(){s()})),r()});const d=b=>{var v=!1;if(typeof b=="string")v=document.querySelector(b);else{var I={x:b[1],y:b[2]};v=LeaderLine.pointAnchor(document.querySelector(b[0]),I)}return v},u=b=>{var v=!1;return typeof b=="string"?document.querySelector(b)&&(v=!0):document.querySelector(b[0])&&(v=!0),v},r=()=>{for(var b in l.data.connections){const k=l.data.connections[b];if(u(k[0])&&u(k[1])){var v=d(k[0]),I=d(k[1]);n.value[b]=new LeaderLine(v,I,l.data.options),setTimeout(()=>{s()},250)}}};return t({redrawit:()=>{for(var b in n.value)n.value[b].remove();n.value=[],setTimeout(()=>{r(),s()},100)}}),(b,v)=>null}},Ca={props:{data:Object,blockid:String},setup(e){const t=e,l=m([]);for(var o in t.data.items){const s=t.data.items[o];for(var n in t.data.properties)s[n]=t.data.properties[n];l.value.push(s)}return(s,d)=>l.value.length>0?(a(!0),i($,{key:0},V(l.value,(u,r)=>(a(),x(P,{item:u,blockid:e.blockid+"-"+r},null,8,["item","blockid"]))),256)):L("",!0)}},Aa={props:{data:Object,blockid:String},setup(e){const t=e,l=g("Audios"),o=k=>{let C=t.data.classItem;return t.data.expansion&&k.child&&(C+=" cursor-pointer animate__animated animate__pulse animate__infinite animate__slower "),C+=" "+(k.class||""),C},n=m(null),s=t.data.mode=="vertical"?"grid-rows-"+t.data.blocks.length:"grid-cols-"+t.data.blocks.length,d=t.data.mode=="vertical"?"":"flex-col",u=m({}),r=m([]);for(var p in t.data.blocks)for(var b in t.data.blocks[p]){let k=t.data.blocks[p][b];if(u.value[k.id]=u.value[k.id]!==!1,k.child)for(var v in k.child)r.value.push(["#"+k.id,"#"+k.child[v]]),u.value[k.child[v]]=!1}const I=k=>{if(k){for(var C in k)u.value[k[C]]=!u.value[k[C]],u.value[k[C]];n.value.redrawit(),l.sBlockSelect.play()}};return(k,C)=>(a(),i($,null,[c("div",{class:F(["grid gap-2",[_(s)]])},[(a(!0),i($,null,V(e.data.blocks,(M,N)=>(a(),i("div",{class:F(["flex gap-2 justify-evenly",[_(d)]])},[(a(!0),i($,null,V(M,(O,A)=>(a(),i($,null,[e.data.expansion&&u.value[O.id]||!e.data.expansion?(a(),x(ye,{key:0,id:O.id,data:{content:O.content,class:o(O),clickable:O.child},blockid:e.blockid+"-diagram-"+N+"-"+A,onClick:J=>I(O.child)},null,8,["id","data","blockid","onClick"])):L("",!0)],64))),256))],2))),256))],2),w(xe,{data:{line:1,connections:r.value,options:e.data.connectionsOptions},ref_key:"blocklines",ref:n},null,8,["data"])],64))}};const Ta=["id"],Oa={key:0,class:"blockEditorOptions grid gap-1 items-center grid-flow-col"},La=["onClick"],za={class:"card-body p-2"},Ea=["id"],Ba={props:{data:Object,blockid:String},setup(e){const t=e;g("Audios");const l=g("activityFile"),o=g("statusFile"),n=g("blocked"),s=m(null),d=m(),u=te(),r=m(),p=k=>{var C="ODAS/"+l.id+"/"+k;r.value.blocks.insert("image",{url:C})},b={messages:{ui:{inlineToolbar:{converter:{"Convert to":"Convertir en"}},toolbar:{toolbox:{Add:"A\xF1adir"}},blockTunes:{toggler:{"Click to tune":"Click para seleccionar","or drag to move":"o arrastrar para mover"}}},blockTunes:{delete:{Delete:"Eliminar"},moveUp:{"Move up":"Mover arriba"},moveDown:{"Move down":"Mover abajo"}},toolNames:{Text:"Texto",Heading:"Encabezado",List:"Lista",Warning:"Alerta",Quote:"Cita",Code:"C\xF3digo",Link:"V\xEDnculo",Bold:"Negrita",Italic:"It\xE1lica"},tools:{image:{"Enter a caption":"Pie de imagen"}}}};(()=>{var k=!1,C={};(o.value.finalize||n)&&(k=!0),o.value.answers[t.blockid]?o.value.answers[t.blockid].blocks.length&&(C=o.value.answers[t.blockid]):o.value.answers[t.blockid]=null,r.value=new ze({readOnly:k,data:C,placeholder:"Escribe aqu\xED tu texto",holder:t.blockid+"-editor",tools:{header:Ee,image:Be,paragraph:{class:je,inlineToolbar:!0}},i18n:b,onChange:()=>{r.value.save().then(M=>{o.value.answers[t.blockid]=M,M.blocks.length>1&&(s.value=M.blocks.length>0)})}})})(),m(!1);const I=()=>{d.value.classList.add(s.value?"isok":"notok"),o.value.result[t.blockid]=s.value,r.value.readOnly.toggle()};return u.appContext.config.globalProperties.emitter.on("finalize",k=>{I()}),(k,C)=>(a(),i("div",{class:F(["blockEditor card bg-white border-4 border-solid border-slate-500 animate__animated",[e.data.class]]),id:e.data.id,ref_key:"block",ref:d},[c("p",null,U(_(o).finalize),1),!_(n)&&!_(o).finalize?(a(),i("div",Oa,[(a(!0),i($,null,V(e.data.imgs,(M,N)=>(a(),i("div",{class:"card bg-white shadow-xl cursor-pointer",onClick:O=>p(M.img)},[c("div",za,[w(P,{item:M,blockid:e.blockid+"-editor-option-"+N},null,8,["item","blockid"])])],8,La))),256))])):L("",!0),c("div",{class:"card-body text-black",id:e.blockid+"-editor"},null,8,Ea)],10,Ta))}},ja=T("replay "),Da={props:{data:Object,blockid:String},emits:["completed"],setup(e,{expose:t,emit:l}){const o=e;g("activityFile");const n=g("path"),s=m(),d=m();De(s,([{isIntersecting:r}],p)=>{u()}),ee(()=>{d.value=Me.loadAnimation({container:s.value,loop:o.data.loop!=null?o.data.loop:!0,autoplay:!1,path:n+o.data.lottie}),d.value.addEventListener("config_ready",function(){o.data.speed&&d.value.setSpeed(o.data.speed),o.data.segment&&d.value.playSegments(o.data.segment,!0),o.data.autoplay&&d.value.play()}),d.value.addEventListener("complete",function(){l("completed")}),d.value.addEventListener("loopComplete",function(){l("completed")})});const u=()=>{d.value.stop(),d.value.play()};return t({replay:u}),(r,p)=>(a(),i("div",{class:"blockLottie relative",ref_key:"block",ref:s},[c("div",{class:"btn btn-circle btn-sm absolute bottom-1 right-1 z-10",onClick:u},[w(H,null,{default:D(()=>[ja]),_:1})])],512))}},Ma={props:{data:Object,blockid:String},setup(e){const t=e;g("activityFile");const o=g("path")+t.data.component,n={moduleCache:{vue:Ve},getFile(d){return fetch(d).then(u=>u.ok?u.text():Promise.reject(u))},addStyle(d){const u=document.createElement("style");u.textContent=d;const r=document.head.getElementsByTagName("style")[0]||null;document.head.insertBefore(u,r)},log(d,...u){console.log(d,...u)}},s=Fe(()=>Ne.exports.loadModule(o,n));return(d,u)=>(a(),x(_(s)))}},Fa=["id"],Na={props:{data:Object,blockid:String},setup(e){const t=e,l=m(),o=m();return ee(()=>{o.value=Pe.JSXGraph.initBoard(t.blockid,{boundingbox:t.data.boundingbox,axis:t.data.axis!=null?t.data.axis:!0,grid:t.data.grid!=null?t.data.grid:!0,showNavigation:t.data.showNavigation!=null?t.data.showNavigation:!0,showCopyright:!1})}),(n,s)=>(a(),i("div",{class:"blockGraph w-full min-h-[32rem]",ref_key:"block",ref:l,id:e.blockid},"Graph",8,Fa))}},Va={props:{data:Object},setup(e){const t=e,l=document.querySelector(t.data.selector);return console.log(t.data),t.data.removeClass&&l.classList.remove(...t.data.removeClass.split(" ")),t.data.addClass&&l.classList.add(...t.data.addClass.split(" ")),(o,n)=>null}},Pa=["innerHTML"],Ra=["innerHTML"],Ua=["innerHTML"],Ga={key:4,class:"my-2"},qa=["innerHTML"],Ha=["innerHTML","id"],P={props:{item:[Object,String],blockid:String},emits:["completed"],setup(e,{emit:t}){const l=e,o=g("activityFile"),n=g("statusFile"),s=m(l.item);if(s.value.symbol){let u=s.value.symbol,r=o.symbols[u];for(var d in r)s.value[d]=r[d]}return s.value.shuffle&&(s.value[s.value.shuffle]=ne.shuffle(s.value[s.value.shuffle])),(u,r)=>typeof s.value=="string"?(a(),i("span",{key:0,innerHTML:s.value},null,8,Pa)):s.value.variable?(a(),i("span",{key:1,innerHTML:_(n).answers[s.value.variable]},null,8,Ra)):s.value.variableR?(a(),i("span",{key:2,innerHTML:_(n).result[s.value.variableR]},null,8,Ua)):s.value.br?(a(!0),i($,{key:3},V(s.value.br,(p,b)=>(a(),i("br"))),256)):s.value.hr?(a(),i("hr",Ga)):s.value.span?(a(),i("span",{key:5,innerHTML:s.value.span,class:F([s.value.class])},null,10,qa)):s.value.html?(a(),i("div",{key:6,innerHTML:s.value.html,class:F(s.value.class),id:s.value.id},null,10,Ha)):s.value.icon?(a(),x(Gt,{key:7,data:s.value},null,8,["data"])):s.value.text?(a(),x(Rt,{data:s.value,key:e.blockid},null,8,["data"])):s.value.textAnimation?(a(),x(Kt,{data:s.value,key:e.blockid},null,8,["data"])):s.value.instruction?(a(),x(Ht,{data:s.value,key:e.blockid},null,8,["data"])):s.value.inst?(a(),x(Wt,{data:s.value,key:e.blockid},null,8,["data"])):s.value.term?(a(),x(It,{key:12,data:s.value},null,8,["data"])):s.value.img?(a(),x(yt,{key:13,data:s.value},null,8,["data"])):s.value.math?(a(),x(et,{key:14,data:s.value},null,8,["data"])):s.value.dragdrop?(a(),x(vt,{key:15,data:s.value,blockid:e.blockid},null,8,["data","blockid"])):s.value.sortable?(a(),x(Nt,{key:16,data:s.value,blockid:e.blockid},null,8,["data","blockid"])):s.value.select?(a(),x(ft,{key:17,data:s.value,blockid:e.blockid},null,8,["data","blockid"])):s.value.chart?(a(),x(Ct,{key:18,data:s.value,blockid:e.blockid},null,8,["data","blockid"])):s.value.dialog?(a(),x($e,{key:19,data:s.value,blockid:e.blockid},null,8,["data","blockid"])):s.value.plot?(a(),x(At,{key:20,data:s.value,blockid:e.blockid},null,8,["data","blockid"])):s.value.grid?(a(),x(Lt,{key:21,data:s.value,blockid:e.blockid},null,8,["data","blockid"])):s.value.group?(a(),x(Et,{key:22,data:s.value,blockid:e.blockid},null,8,["data","blockid"])):s.value.input?(a(),x(Yt,{key:23,data:s.value,blockid:e.blockid},null,8,["data","blockid"])):s.value.colorize?(a(),x(ta,{key:24,data:s.value,blockid:e.blockid},null,8,["data","blockid"])):s.value.css?(a(),x(aa,{key:25,data:s.value,blockid:e.blockid},null,8,["data","blockid"])):s.value.chatbot?(a(),x(ha,{key:26,data:s.value,blockid:e.blockid},null,8,["data","blockid"])):s.value.card?(a(),x(ye,{key:27,data:s.value,blockid:e.blockid},null,8,["data","blockid"])):s.value.drag?(a(),x(Ia,{key:28,data:s.value,blockid:e.blockid},null,8,["data","blockid"])):s.value.line?(a(),x(xe,{key:29,data:s.value},null,8,["data"])):s.value.repeater?(a(),x(Ca,{key:30,data:s.value,blockid:e.blockid},null,8,["data","blockid"])):s.value.diagram?(a(),x(Aa,{key:31,data:s.value,blockid:e.blockid},null,8,["data","blockid"])):s.value.editor?(a(),x(Ba,{key:32,data:s.value,blockid:e.blockid},null,8,["data","blockid"])):s.value.component?(a(),x(Ma,{key:33,data:s.value,blockid:e.blockid},null,8,["data","blockid"])):s.value.lottie?(a(),x(Da,{key:34,data:s.value,blockid:e.blockid,onCompleted:r[0]||(r[0]=p=>t("completed"))},null,8,["data","blockid"])):s.value.graph?(a(),x(Na,{key:35,data:s.value,blockid:e.blockid},null,8,["data","blockid"])):s.value.classlist?(a(),x(Va,{key:36,data:s.value,blockid:e.blockid},null,8,["data","blockid"])):L("",!0)}},Ja={props:{states:Array,data:Object,blockid:String},setup(e,{expose:t}){const l=e,o=m({});for(var n of l.states)o.value[n]=!1;return t({state:d=>{o.value[d]=!0,console.log(d,"true")}}),(d,u)=>{const r=se("BlocksRenderer");return a(!0),i($,null,V(o.value,(p,b)=>(a(),i($,null,[p&&e.data[b]?(a(),x(r,{key:0,item:e.data[b],blockid:e.blockid+"-"+b},null,8,["item","blockid"])):L("",!0)],64))),256)}}};const Wa=["id"],Qa=["id"],Ka={class:"modal"},Xa={class:"modal-box bg-white text-primary"},Ya=T("close"),Za={class:"ma-1 pt-5"},es={props:{data:Object,blockid:String,hidesmenu:Boolean},setup(e){const t=e,l=g("Audios"),o=g("hidemenu"),n=m(!1),s=m(),d=()=>{s.value&&s.value.state("opened");let r=0;t.data.timeout&&(r=t.data.timeout),l.sopen.play(),setTimeout(()=>{n.value=!0,t.hidesmenu&&(o.value=!0)},r)},u=()=>{s.value&&s.value.state("closed"),n.value=!1,l.sclose.play(),t.hidesmenu&&(o.value=!1)};return(r,p)=>{const b=se("perfect-scrollbar");return a(),i($,null,[c("div",{class:"blockDialog",style:K([e.data.style]),id:e.data.id},[c("button",{class:F(["animate__animated animate__pulse animate__infinite animate__slower",e.data.buttonClass]),onClick:d},[(a(!0),i($,null,V(e.data.button,(v,I)=>(a(),x(P,{item:v,blockid:e.blockid+"-button-"+I},null,8,["item","blockid"]))),256))],2),W(c("input",{class:"modal-toggle",type:"checkbox",id:e.blockid,"onUpdate:modelValue":p[0]||(p[0]=v=>n.value=v)},null,8,Qa),[[ie,n.value]]),c("div",Ka,[c("div",Xa,[c("label",{class:"btn btn-sm btn-circle absolute right-2 top-2",onClick:u},[w(H,null,{default:D(()=>[Ya]),_:1})]),c("div",Za,[w(b,null,{default:D(()=>[(a(!0),i($,null,V(e.data.content,(v,I)=>(a(),x(P,{item:v,blockid:e.blockid+"-content-"+I},null,8,["item","blockid"]))),256))]),_:1})])])])],12,Wa),e.data.states?(a(),x(Ja,{key:"state",states:["opened","closed"],data:e.data.states,ref_key:"states",ref:s,blockid:e.blockid+"-state"},null,8,["data","blockid"])):L("",!0)],64)}}};var $e=Q(es,[["__scopeId","data-v-0d5bb55a"]]);const ts={class:"FichaTecnica"},as={props:{},setup(e){const t=g("activityFile"),l='<div class="tooltip" data-tip="Ficha t\xE9cnica"> <img src="assets/icons/'+t.programa+'/ico-ficha-tecnica.png" class="w-12"> </div>',o=m([]);var n='<table class="table bg-white table-fixed table-zebra">',s=[],d="</table>";for(var u in t.ficha)s.push(' <tr> <td class="bg-white text-bold text-xl max-w-sm break-normal whitespace-normal">'+t.ficha[u][0]+'</td><td class="text-lg font-light max-w-sm break-normal whitespace-normal bg-white">'+t.ficha[u][1]+"</td></tr>");o.value.push({html:n+s.join("")+d});const r={button:{html:l},buttonClass:"",content:[{text:"Ficha t\xE9cnica",class:"text-4xl text-center",align:"center"},{group:1,content:o.value}]};return(p,b)=>(a(),i("div",ts,[w($e,{data:r,hidesmenu:!0})]))}};var ss=Q(as,[["__scopeId","data-v-15be3474"]]);const ls={class:"activitybgcontainer"},os={key:0,class:"ActBG"},ns={props:{speed:Number},setup(e){const t=e,l=g("activityFile"),o=t.speed?t.speed:6e3,n=m(1);return setInterval(()=>{n.value<l.bgimgs?n.value++:n.value=1},o),(s,d)=>(a(),i("div",ls,[(a(!0),i($,null,V(_(l).bgimgs,(u,r)=>(a(),x(me,{name:"fadebg",mode:"out-in"},{default:D(()=>[n.value==r+1?(a(),i("div",os,[c("div",{class:"ActivityBG",style:K("background-image:url(ODAS/"+_(l).id+"/bg/bg"+(r+1)+".jpg)")},null,4)])):L("",!0)]),_:2},1024))),256))]))}};var we=Q(ns,[["__scopeId","data-v-318b91e0"]]),cs="/assets/icons/Montenegro-icon.svg",is="/assets/icons/Montenegro.svg";const rs={key:0,src:cs},ds={key:1,src:is},us={props:{logo:{type:Boolean,default:!1}},setup(e){const t=m(!0);return(()=>{t.value=!1,setTimeout(()=>{t.value=!0},2e3)})(),(o,n)=>(a(),i("div",{class:F(["montenegroIcon",e.logo?"logo":"icon"]),duration:{enter:1e3,leave:3e3},appear:""},[e.logo?(a(),i("img",ds)):(a(),i("img",rs))],2))}};var Se=Q(us,[["__scopeId","data-v-19718a97"]]);const vs={class:"modal"},bs={class:"modal-box relative w-11/12 max-w-5xl"},_s={class:"hero relative"},ms={class:"hero-content text-center relative z-10"},ks={class:"max-w-md text-center"},ps={class:"text-center"},fs=["src"],gs={class:"text-xl"},hs={class:"text-4xl font-bold mt-2"},ys={class:"text-lg"},xs={class:"mt-10"},$s={emits:["start"],setup(e,{emit:t}){ee(()=>{Re.exports.themeChange(!1)});const l=g("activityFile");g("statusFile"),m();const o=m(!0),n=()=>{o.value=!1,t("start")};return(s,d)=>(a(),i($,null,[W(c("input",{class:"modal-toggle",type:"checkbox",id:"my-modal","onUpdate:modelValue":d[0]||(d[0]=u=>o.value=u)},null,512),[[ie,o.value]]),c("div",vs,[c("div",bs,[c("div",_s,[c("div",ms,[c("div",ks,[c("div",ps,[c("img",{class:"w-28 mx-auto",src:"assets/icons/"+_(l).programa+"/"+_(l).materia+".png"},null,8,fs)]),c("h2",gs,U(_(l).conf.materia),1),c("h1",hs,U(_(l).title),1),c("h3",ys,U(_(l).programa=="DGETI"?"Bachillerato Tecnol\xF3gico":"Bachillerato General"),1),c("div",{class:"mt-10"},[c("button",{class:"btn",onClick:n},"Comenzar")]),c("div",xs,[w(Se,{logo:!0})])])]),w(we,{speed:3e3})])])])],64))}};var ws=Q($s,[["__scopeId","data-v-01430f37"]]);const Ss={class:"area"},Is={class:"p mb-1"},Cs=T("donut_large"),As={class:"progreso"},Ts={props:{},setup(e){const t=g("statusFile"),l=X(()=>{var o=t.value.answers,n={total:0,unanswered:0};return o&&(n.total=Object.keys(o).length,Object.keys(o).forEach(function(s){o[s],o[s]==null&&n.unanswered++})),n});return(o,n)=>(a(),i("div",Ss,[c("div",Is,[w(H,{class:"text-sm"},{default:D(()=>[Cs]),_:1}),T("\xA0Progreso "+U(_(l).total-_(l).unanswered)+" /"+U(_(l).total),1)]),c("div",As,[c("div",{class:"bar",style:K("width:"+Math.round((_(l).total-_(l).unanswered)/_(l).total*100)+"%")},null,4)])]))}};var Os=Q(Ts,[["__scopeId","data-v-2082bade"]]);const Ls={key:0,class:"area"},zs=T("auto_awesome"),Es={class:"label"},Bs={props:{},setup(e){const t=g("statusFile"),l=g("resultsFile"),o=()=>{const n=l.value.oksPercentage;var s="ok1";switch(!0){case(n<=100&&n>75):s="ok4";break;case(n<=75&&n>50):s="ok3";break;case(n<=50&&n>25):s="ok2";break}return s};return(n,s)=>_(t).finalize?(a(),i("div",Ls,[c("h2",{class:F(["puntaje",o()])},[w(H,null,{default:D(()=>[zs]),_:1}),c("span",Es,"\xA0Puntaje: "+U(_(l).oksPercentage)+"%",1)],2)])):L("",!0)}};var js=Q(Bs,[["__scopeId","data-v-7ac64b3a"]]);const Ds={key:0,class:"text-center my-16"},Ms={props:{block:Object,blockid:String,islast:Boolean,steps:Boolean},setup(e){const t=e,l=m([]),o=m(!1),n=g("statusFile"),s=g("view"),d=X(()=>({"--block-width":t.block.width||"100%"})),u=t.blockid.split("-"),r=()=>{for(var b in Object.keys(n.value.answers)){var v=Object.keys(n.value.answers)[b];const I=v.split("-");I[0]==u[0]&&I[1]==u[1]&&l.value.push(Object.keys(n.value.answers)[b])}};setTimeout(()=>{r()},1e3),ce(n.value.answers,b=>{p()},{deep:!0});const p=()=>{let b=!0;for(var v in l.value)n.value.answers[l.value[v]]==null&&(b=!1);o.value=b};return setTimeout(function(){p()},1e3),(b,v)=>e.block.content.length?(a(),i("div",{key:0,class:F(["block rounded",[e.block.class]]),style:K(_(d))},[(a(!0),i($,null,V(e.block.content,(I,k)=>(a(),x(P,{item:I,blockid:e.blockid+"-"+k,key:k},null,8,["item","blockid"]))),128)),_(s)?L("",!0):(a(),i("div",Ds,[e.steps?(a(),i($,{key:0},[l.value.length>0&&o.value?(a(),i($,{key:0},[e.islast?(a(),i("button",{key:1,class:"btn btn-accent btn-wide",onClick:v[1]||(v[1]=I=>b.$emit("screenNext",1))},"Continuar")):(a(),i("button",{key:0,class:"btn btn-ghost text-white animate__animated animate__tada",onClick:v[0]||(v[0]=I=>b.$emit("stepNext"))},"Siguiente"))],64)):L("",!0)],64)):L("",!0),e.block.buttonNextStep?(a(),i("button",{key:1,class:"btn btn-ghost text-white",onClick:v[2]||(v[2]=I=>b.$emit("stepNext"))},U(e.block.buttonNextStep),1)):L("",!0),e.block.buttonNextScreen?(a(),i("button",{key:2,class:"btn btn-accent btn-wide",onClick:v[3]||(v[3]=I=>b.$emit("screenNext",1))},U(e.block.buttonNextScreen),1)):L("",!0)]))],6)):L("",!0)}};const Fs={key:0,class:"arrowtransition"},Ns={props:{},setup(e){const t=m(!0);return g("Audios").schange.play(),setTimeout(()=>{t.value=!1},1e3),(o,n)=>t.value?(a(),i("div",Fs)):L("",!0)}};var Vs=Q(Ns,[["__scopeId","data-v-23ed7a59"]]);const le=e=>(ke("data-v-f5045a24"),e=e(),pe(),e),Ps={class:"block ScreenBlockEnd"},Rs={class:"text-center"},Us={class:"my-6 text-2xl"},Gs=T("De un total de "),qs=T(" tienes "),Hs={class:"high"},Js=T("."),Ws=["onClick"],Qs={key:1,class:"my-3"},Ks=le(()=>c("span",null,[T("Has contestado todas las preguntas. Verifica tus respuestas y da clic en "),c("strong",null,'"finalizar"'),T(".")],-1)),Xs=[Ks],Ys={key:2,class:"my-3"},Zs=le(()=>c("span",null,"Muy bien. Has llegado al final de la actividad.",-1)),el=[Zs],tl=le(()=>c("div",{class:"my-6 text-xl"},"\xBFDeseas finalizar?",-1)),al=le(()=>c("div",{class:"my-3"},[c("strong",null,"Actividad finalizada.")],-1)),sl={class:"my-3"},ll=T("De un total de "),ol=T(" obtuviste un "),nl={class:"high"},cl=T("."),il=le(()=>c("div",{class:"my-3"},"A continuaci\xF3n podr\xE1s ver un res\xFAmen de tus resultados:",-1)),rl={class:"row wrap"},dl=["onClick"],ul=le(()=>c("div",{class:"my-3"},"Puedes ver tus resultados individuales o repasar los contenidos navegando con el men\xFA de la izquierda.",-1)),vl=le(()=>c("div",{class:"my-3"},"Tambi\xE9n puedes reiniciar la actividad:",-1)),bl={props:{},setup(e){const t=g("Audios"),l=g("activityFile"),o=g("statusFile"),n=g("resultsFile"),s=te(),d=g("blocked"),u=m(!1),r=k=>{var C=k.split("-"),M=C[0],N=C[1],O=l.screens[M].title;return O+" > Bloque "+N},p=k=>{var C=k.split("-"),M=C[0],N=C[1];o.value.screen=M*1,o.value.step=N*1},b=X(()=>{var k=o.value.answers,C={tot:"",total:0,unanswered:{},unansweredLength:0};if(k){C.total=Object.keys(k).length;var M={};Object.keys(k).forEach(function(N){var O=k[N];k[N]==null&&(M[N]=O,C.unansweredLength++)}),ne(M).keys().sort().each(function(N){C.unanswered[N]=M[N]})}return C}),v=()=>{o.value.finalize=!0,s.appContext.config.globalProperties.emitter.emit("finalize");for(var k in o.value.result)n.value.total++,o.value.result[k]?n.value.oks++:n.value.errors++;n.value.total&&(n.value.oksPercentage=Math.round(n.value.oks*100/n.value.total),n.value.errorsPercentage=100-n.value.oksPercentage),t.sfinalize.play()};o.value.finalize&&setTimeout(function(){v()},1e3);const I=()=>{u.value=!0;var k=JSON.stringify({reset:!0});window.top.postMessage(k,"*"),setTimeout(()=>{fe(l.id+"_").removeStorageSync("status"),location.reload()},1e3)};return(k,C)=>(a(),i("div",Ps,[c("div",Rs,[_(o).finalize?(a(),i($,{key:1},[al,_(n).total>0?(a(),i($,{key:0},[c("div",sl,[ll,c("strong",null,U(_(n).total)+" preguntas",1),ol,c("strong",nl,U(_(n).oksPercentage)+"% de aciertos",1),cl]),_(n).errors>0?(a(),i($,{key:0},[il,c("div",rl,[(a(!0),i($,null,V(_(o).result,(M,N)=>(a(),i("div",{class:F(["px-3 ma-1 floatcard my-1",M?"isok":"notok"])},[c("button",{class:"btn btn-sm m-1 ma-1",onClick:O=>p(N)},U(r(N)),9,dl)],2))),256))])],64)):L("",!0)],64)):(a(),i($,{key:1},[],64)),ul,!_(d)&&!u.value?(a(),i($,{key:2},[vl,c("button",{class:"btn btn-accent",onClick:I},"Reiniciar")],64)):L("",!0)],64)):(a(),i($,{key:0},[_(b).unansweredLength?(a(),i($,{key:0},[c("div",Us,[c("span",null,[Gs,c("strong",null,U(_(b).total)+" preguntas",1),qs,c("strong",Hs,U(_(b).unansweredLength)+" sin contestar",1),Js])]),(a(!0),i($,null,V(_(b).unanswered,(M,N)=>(a(),i("button",{class:"btn high btn-sm m-1",onClick:O=>p(N)},U(r(N)),9,Ws))),256))],64)):_(b).total>0?(a(),i("div",Qs,Xs)):(a(),i("div",Ys,el)),_(d)?L("",!0):(a(),i($,{key:3},[tl,c("div",{class:"my-4"},[c("button",{class:"btn-accent btn-wide important btn-lg",onClick:v},"Finalizar")])],64))],64)),u.value?(a(),x(Vs,{key:2})):L("",!0)])]))}};var _l=Q(bl,[["__scopeId","data-v-f5045a24"]]);const be=e=>(ke("data-v-68aae306"),e=e(),pe(),e),ml={class:"theform"},kl={class:"row"},pl={class:"field"},fl=T("ID:"),gl={class:"field"},hl=T("Programa:"),yl=be(()=>c("span",null,"DGETI",-1)),xl=be(()=>c("span",null,"DGB ",-1)),$l={class:"row"},wl={class:"field"},Sl=T("Asignatura:"),Il={class:"field"},Cl=T("Titulo:"),Al={class:"field"},Tl=T("Aprendizajes:"),Ol={class:"field"},Ll=T("Contenido_central:"),zl={key:0},El={class:"field in"},Bl=T("library_add"),jl={class:"inner"},Dl=["onClick"],Ml=T("backspace"),Fl={class:"field"},Nl=T("T\xEDtulo: "),Vl=["onUpdate:modelValue"],Pl={class:"field"},Rl=T("Icono: "),Ul=["onUpdate:modelValue"],Gl={class:"field"},ql=T("Steps: "),Hl=["onUpdate:modelValue"],Jl={class:"field"},Wl=T("End: "),Ql=["onUpdate:modelValue"],Kl={key:0},Xl={class:"field in"},Yl=["onClick"],Zl=T("library_add"),eo={class:"inner"},to=["onClick"],ao=T("backspace"),so={class:"field"},lo=T("Width: "),oo=["onUpdate:modelValue"],no=be(()=>c("div",null,null,-1)),co={class:"field in"},io=["onClick"],ro=["onClick"],uo=["onClick"],vo=["onClick"],bo=["onClick"],_o=["onClick"],mo=["onClick"],ko=["onClick"],po={class:"inner"},fo=["onClick"],go=T("backspace"),ho={key:0,class:"field multi"},yo=T("Simple: "),xo=["onUpdate:modelValue"],$o={class:"field multi"},wo=["onUpdate:modelValue"],So={class:"field"},Io={class:"thedata"},Co={class:"BuilderBar"},Ao=T("code"),To=T("ondemand_video"),Oo=T("sync_problem"),Lo={props:{},setup(e){const t=m(null),l=m("json"),o={text:"",class:""},n={math:"",size:"2rem"},s={simple:"",text:o,math:n,term:{term:1,t:"",d:""},img:{img:""},dragdrop:{dragdrop:!0,drags:[[n,"val"]],dropsLeft:[["Titulo","val"]],dropsRight:["Titulo","val"]},select:{select:!0,options:[[n,!1],[n,!0]]},br:{br:1},br:{br:1}},d={width:"100%",content:[]},u={title:"",icon:"",steps:!0,end:!1,blocks:[d]},r=m({id:"",programa:"DGETI",materia:"",asignatura:"",title:"",aprendizajes:"",contenidocentral:"",screens:[JSON.parse(JSON.stringify(u)),{title:"Finalizar",icon:"flag",end:!0,content:[]}]}),p=()=>{const O=JSON.parse(JSON.stringify(u));r.value.screens.push(O)},b=O=>{const A=JSON.parse(JSON.stringify(d));r.value.screens[O].blocks.push(A)},v=(O,A,J)=>{const E=JSON.parse(JSON.stringify(s[J]));r.value.screens[O].blocks[A].content.push(E)},I=O=>{r.value.screens.splice(O,1)},k=(O,A)=>{r.value.screens[O].blocks.splice(A,1)},C=(O,A,J)=>{r.value.screens[O].blocks[A].content.splice(J,1)},M=()=>{const O=JSON.parse(t.value);t.value="",r.value=O},N=()=>{navigator.clipboard.writeText(JSON.stringify(r.value,null,"	"))};return(O,A)=>{const J=se("perfect-scrollbar");return a(),i($,null,[w(J,null,{default:D(()=>[c("div",ml,[c("div",kl,[c("div",pl,[fl,W(c("input",{"onUpdate:modelValue":A[0]||(A[0]=E=>r.value.id=E)},null,512),[[Y,r.value.id]])]),c("div",gl,[hl,c("label",null,[W(c("input",{"onUpdate:modelValue":A[1]||(A[1]=E=>r.value.programa=E),placeholder:"programa",type:"radio",value:"DGETI"},null,512),[[_e,r.value.programa]]),yl]),c("label",null,[W(c("input",{"onUpdate:modelValue":A[2]||(A[2]=E=>r.value.programa=E),placeholder:"programa",type:"radio",value:"DGB"},null,512),[[_e,r.value.programa]]),xl])])]),c("div",$l,[c("div",wl,[Sl,W(c("input",{"onUpdate:modelValue":A[3]||(A[3]=E=>r.value.asignatura=E)},null,512),[[Y,r.value.asignatura]])])]),c("div",Il,[Cl,W(c("input",{"onUpdate:modelValue":A[4]||(A[4]=E=>r.value.title=E)},null,512),[[Y,r.value.title]])]),c("div",Al,[Tl,W(c("input",{"onUpdate:modelValue":A[5]||(A[5]=E=>r.value.aprendizajes=E)},null,512),[[Y,r.value.aprendizajes]])]),c("div",Ol,[Ll,W(c("input",{"onUpdate:modelValue":A[6]||(A[6]=E=>r.value.contenidocentral=E)},null,512),[[Y,r.value.contenidocentral]])]),r.value.screens?(a(),i("div",zl,[c("div",El,[T("Screens ("+U(r.value.screens.length)+"):",1),c("button",{class:"add",onClick:p},[w(H,null,{default:D(()=>[Bl]),_:1})])]),(a(!0),i($,null,V(r.value.screens,(E,B)=>(a(),i("div",jl,[c("button",{class:"rm",onClick:j=>I(B)},[w(H,null,{default:D(()=>[Ml]),_:1})],8,Dl),c("div",Fl,[Nl,W(c("input",{"onUpdate:modelValue":j=>E.title=j},null,8,Vl),[[Y,E.title]])]),c("div",Pl,[Rl,W(c("input",{"onUpdate:modelValue":j=>E.icon=j},null,8,Ul),[[Y,E.icon]])]),c("div",Gl,[ql,W(c("input",{"onUpdate:modelValue":j=>E.steps=j,type:"checkbox"},null,8,Hl),[[ie,E.steps]])]),c("div",Jl,[Wl,W(c("input",{"onUpdate:modelValue":j=>E.end=j,type:"checkbox"},null,8,Ql),[[ie,E.end]])]),E.blocks?(a(),i("div",Kl,[c("div",Xl,[T("Blocks ("+U(E.blocks.length)+"):",1),(a(),i("button",{class:"add",onClick:j=>b(B),key:"addblock"+B},[w(H,null,{default:D(()=>[Zl]),_:1})],8,Yl))]),(a(!0),i($,null,V(E.blocks,(j,G)=>(a(),i("div",eo,[c("button",{class:"rm",onClick:f=>k(B,G)},[w(H,null,{default:D(()=>[ao]),_:1})],8,to),c("div",so,[lo,W(c("input",{"onUpdate:modelValue":f=>j.width=f},null,8,oo),[[Y,j.width]])]),no,c("div",co,[T("Content ("+U(j.content.length)+"):",1),c("button",{class:"add",onClick:f=>v(B,G,"simple")},"Simple",8,io),c("button",{class:"add",onClick:f=>v(B,G,"text")},"Text",8,ro),c("button",{class:"add",onClick:f=>v(B,G,"math")},"Math",8,uo),c("button",{class:"add",onClick:f=>v(B,G,"term")},"Term",8,vo),c("button",{class:"add",onClick:f=>v(B,G,"img")},"Img",8,bo),c("button",{class:"add",onClick:f=>v(B,G,"br")},"br",8,_o),c("button",{class:"add",onClick:f=>v(B,G,"dragdrop")},"dragdrop",8,mo),c("button",{class:"add",onClick:f=>v(B,G,"select")},"select",8,ko)]),(a(!0),i($,null,V(j.content,(f,z)=>(a(),i("div",po,[c("button",{class:"rm",onClick:h=>C(B,G,z)},[w(H,null,{default:D(()=>[go]),_:1})],8,fo),typeof j.content[z]=="string"?(a(),i("div",ho,[yo,W(c("input",{"onUpdate:modelValue":h=>j.content[z]=h},null,8,xo),[[Y,j.content[z]]])])):(a(!0),i($,{key:1},V(f,(h,y)=>(a(),i("div",$o,[T(U(y),1),typeof j.content[z][y]=="string"?W((a(),i("input",{key:0,"onUpdate:modelValue":S=>j.content[z][y]=S},null,8,wo)),[[Y,j.content[z][y]]]):(a(!0),i($,{key:1},V(j.content[z][y],(S,R)=>(a(),i("div",So,U(R),1))),256))]))),256))]))),256))]))),256))])):L("",!0)]))),256))])):L("",!0)])]),_:1}),w(J,null,{default:D(()=>[c("div",Io,[c("div",Co,[c("button",{onClick:A[7]||(A[7]=E=>l.value="json")},[w(H,null,{default:D(()=>[Ao]),_:1})]),c("button",{onClick:A[8]||(A[8]=E=>l.value="play")},[w(H,null,{default:D(()=>[To]),_:1})]),c("button",{onClick:A[9]||(A[9]=E=>l.value="import")},[w(H,null,{default:D(()=>[Oo]),_:1})])]),l.value=="json"&&r.value?(a(),x(_(Ue),{key:0,data:r.value,"show-length":!0,"show-line":!0,"show-select-controller":!0,onClick:N},null,8,["data"])):l.value=="play"?(a(),i($,{key:1},[],64)):l.value=="import"?W((a(),i("textarea",{key:2,"onUpdate:modelValue":A[10]||(A[10]=E=>t.value=E),onChange:M,placeholder:"Import json"},null,544)),[[Y,t.value]]):L("",!0)])]),_:1})],64)}}};var zo=Q(Lo,[["__scopeId","data-v-68aae306"]]);const Eo={class:"menu justify-between rounded w-56 overflow-y-auto p-2 bg-white m-1"},Bo={class:"text-center"},jo=["src"],Do={class:"text-center"},Mo={class:"text-dark text-lg font-bold mt-2 leading-5"},Fo={class:"text-center"},No={class:"text-sm"},Vo={class:"flex justify-center my-2"},Po=c("hr",{class:"mb-1"},null,-1),Ro={class:"menu bg-transparent menu-vertical w-full"},Uo=["onClick"],Go={class:"ml-1"},qo=c("hr",{class:"mt-auto"},null,-1),Ho=c("hr",{class:"my-2"},null,-1),Jo={props:{},setup(e){g("blocked");const t=g("activityFile"),l=g("statusFile"),o=n=>{l.value.step=0,l.value.screen=n};return(n,s)=>{const d=se("perfect-scrollbar");return a(),i("div",Eo,[c("div",Bo,[c("img",{class:"w-12 mx-auto",src:"assets/icons/"+_(t).programa+"/"+_(t).materia+".png"},null,8,jo)]),c("div",Do,[c("h1",Mo,U(_(t).title),1)]),c("div",Fo,[c("div",No,U(_(t).conf.materia),1)]),c("div",Vo,[w(ss)]),Po,w(d,{class:"w-full"},{default:D(()=>[c("ul",Ro,[(a(!0),i($,null,V(_(t).screens,(u,r)=>(a(),i("li",{class:"mt-1",onClick:p=>o(r)},[c("div",{class:F(["gap-px p-2 leading-5",r==_(l).screen?"active":""])},[w(H,{class:F(["text-sm",r==_(l).screen?"text-white":"text-primary"])},{default:D(()=>[T(U(u.icon),1)]),_:2},1032,["class"]),c("span",Go,U(u.title),1)],2)],8,Uo))),256))])]),_:1}),qo,w(Os),w(js),Ho,w(Se,{class:"mx-auto my-2"})])}}},Wo={class:"fixed p-1 bg-white rounded bottom-1 left-4 lg:left-60 right-7"},Qo={class:"btn-group justify-center"},Ko=T("navigate_before"),Xo=c("span",null,"Anterior",-1),Yo=["onClick"],Zo=T("Siguiente"),en=T("navigate_next"),tn={props:{steps:{type:Number,required:!0}},setup(e,{emit:t}){const l=e,o=g("statusFile"),n=g("Audios");m(0);const s=u=>{o.value.step=u,t("stepChanged")},d=u=>{n.sclick.play(),(u==-1&&o.value.step>0||u==1&&o.value.step<l.steps-1)&&(o.value.step+=u,t("stepChanged"))};return(u,r)=>(a(),i("div",Wo,[c("div",Qo,[c("button",{class:F(["btn btn-xs",_(o).step==0?"btn-disabled":""]),onClick:r[0]||(r[0]=p=>d(-1))},[w(H,null,{default:D(()=>[Ko]),_:1}),Xo],2),(a(!0),i($,null,V(e.steps,(p,b)=>(a(),i("button",{class:F(["btn btn-xs",[_(o).step==b?"btn-active":"non-active"]]),onClick:v=>s(b)},U(b+1),11,Yo))),256)),c("button",{class:F(["btn btn-xs",_(o).step==e.steps-1?"btn-disabled":""]),onClick:r[1]||(r[1]=p=>d(1))},[Zo,w(H,null,{default:D(()=>[en]),_:1})],2)])]))}},an=["id"],sn={props:{screenindex:{type:Number},screen:{type:Object,required:!0}},setup(e){const t=e,l=g("activityFile"),o=g("statusFile"),n=g("view");m();const s=X(()=>({"--activity-bg":l.conf.color||"#ffffff"})),d=()=>{o.value.step++},u=r=>n.value?!0:t.screen.steps?o.value.step==r:!0;return ce(()=>o.value.step,(r,p)=>{var b=document.querySelector(".drawer-content");b.scrollTop>0&&(b.scrollTop=0)}),(r,p)=>(a(),i("section",{class:F(["screens m-h-screen relative px-2 pb-2",[_(n)?"desplegado":"","pt-12 lg:pt-4",e.screen.class]]),id:"screen-"+e.screenindex,style:K(_(s))},[e.screen.end?W((a(),x(_l,{key:1},null,512)),[[ue,e.screen.end]]):(a(!0),i($,{key:0},V(e.screen.blocks,(b,v)=>(a(),i($,null,[w(me,{name:"screenfade",mode:"out-in",appear:""}),W(w(Ms,{steps:e.screen.steps,id:"block-"+e.screenindex+"-"+v,islast:e.screen.blocks.length-1==v,block:b,onStepNext:d,onScreenNext:p[0]||(p[0]=I=>r.$emit("screenNext",I)),blockid:e.screenindex+"-"+v},null,8,["steps","id","islast","block","blockid"]),[[ue,u(v)]])],64))),256)),e.screen.steps&&!_(n)?(a(),x(tn,{key:2,steps:e.screen.blocks.length},null,8,["steps"])):L("",!0)],14,an))}},ln={class:"relative w-full h-full"},on={props:{},setup(e){const t=g("activityFile"),l=g("statusFile"),o=g("view"),n=d=>{l.value.step=0,l.value.screen+=d},s=d=>o.value?!0:d==l.value.screen;return(d,u)=>(a(),i("section",ln,[w(we),(a(!0),i($,null,V(_(t).screens,(r,p)=>W((a(),x(sn,{key:p,screen:r,onScreenNext:n,screenindex:p},null,8,["screen","screenindex"])),[[ue,s(p)]])),128))]))}},nn={class:"drawer drawer-mobile"},cn=c("input",{class:"drawer-toggle",id:"sidebar",type:"checkbox"},null,-1),rn={class:"drawer-content"},dn={class:"z-10 btn btn-sm btn-outline gap-2 drawer-button fixed top-2 left-2 text-xs lg:hidden text-white",for:"sidebar"},un=T("menu_open"),vn=T("Abrir"),bn={class:"drawer-side"},_n={key:0,class:"drawer-overlay",for:"sidebar"},mn={props:{},setup(e){g("activityFile");const t=g("hidemenu");return(l,o)=>(a(),i("div",nn,[cn,c("div",rn,[c("label",dn,[w(H,null,{default:D(()=>[un]),_:1}),vn]),w(on)]),c("div",bn,[_(t)?L("",!0):(a(),i("label",_n)),w(Jo)])]))}};const kn={setup(e){const t=g("activityFile"),l=g("statusFile"),o=g("builderFile"),n=s=>{l.value.state=s};return(s,d)=>(a(),i($,null,[_(o)?(a(),x(zo,{key:0})):L("",!0),_(t)&&_(l)?(a(),i($,{key:1},[_(l).state=="@intro"?(a(),x(ws,{key:0,onStart:d[0]||(d[0]=u=>n("@activity"))})):_(l).state=="@activity"?(a(),x(mn,{key:1})):L("",!0)],64)):L("",!0)],64))}};var pn={install:(e,t)=>{e.component("BlocksRenderer",P)}};function fn(e){return!1}var gn={buildBG:fn},hn={ALGEBRAI:{materia:"A\u0301lgebra",color:"215 52% 42%"},LECTURAEOEI:{materia:"Lectura, Expresio\u0301n Oral y Escrita I",color:"215 52% 42%"},LOGICA:{materia:"Lo\u0301gica",color:"215 52% 42%"},QUIMICAI:{materia:"Qui\u0301mica I",color:"215 52% 42%"},TECNOLOGIASIC:{materia:"Tecnologi\u0301as de la Informacio\u0301n y la Comunicacio\u0301n",color:"215 52% 42%"},BIOLOGIA:{materia:"Biologi\u0301a",color:"359 53% 44%"},ETICA:{materia:"E\u0301tica",color:"359 53% 44%"},GEOMETRIAA:{materia:"Geometri\u0301a Anali\u0301tica",color:"359 53% 44%"},CALCULOI:{materia:"Ca\u0301lculo Integral",color:"130 27% 35%"},CIENCIATSV:{materia:"Ciencia, Tecnologi\u0301a, Sociedad y Valores",color:"130 27% 35%"},FISICAII:{materia:"Fi\u0301sica II",color:"130 27% 35%"}},yn={BIOLOGIAI:{materia:"Biolog\xEDa  I",color:""},ESTRUCTURASM:{materia:"Estructura Socioecono\u0301mica de Me\u0301xico",color:""},ETICAI:{materia:"E\u0301tica I",color:""},FISICAI:{materia:"Fi\u0301sica  I",color:""},GEOGRAFIA:{materia:"Geografi\u0301a",color:""},HISTORIAMI:{materia:"Historia de Me\u0301xico  I",color:""},INFORMATIVAI:{materia:"Informa\u0301tica  I",color:""},LITERATURA:{materia:"Literatura",color:"332 74% 58%"},MATEMATICASI:{materia:"Matema\u0301ticas  I",color:"40 95% 44%"},MATEMATICASIII:{materia:"Matema\u0301ticas  III",color:""},METODOLOGIASII:{materia:"Metodologi\u0301a de la Investigacio\u0301n",color:"248 42% 51%"},QUIMICAI:{materia:"Qui\u0301mica  I",color:""},TALLERLRI:{materia:"Taller de Lectura y Redaccio\u0301n  I",color:""}},xn={DGETI:hn,DGB:yn};const oe=["color: #446699","background: #ddff99","font-size: 9px","padding: 2px 5px","border-radius: 4px"].join(";"),$n=Ke();te();var q=Ge(kn);q.config.globalProperties.emitter=$n;q.use(qe);q.use(He);q.use(Je);q.component("Popper",We);gsap.registerPlugin(Draggable);q.provide("view",m(!1));q.provide("hidemenu",m(!1));q.use(pn);q.provide("Audios",{sclick:new Z({source:"assets/sounds/click.mp3"}),scancel:new Z({source:"assets/sounds/cancel.mp3"}),sopen:new Z({source:"assets/sounds/open.mp3"}),sclose:new Z({source:"assets/sounds/close.mp3"}),schange:new Z({source:"assets/sounds/change.mp3"}),sBlockSelect:new Z({source:"assets/sounds/blockSelect.mp3"}),sBlockDrag:new Z({source:"assets/sounds/blockDrag.mp3"}),sfinalize:new Z({source:"assets/sounds/end.mp3"}),snotification:new Z({source:"assets/sounds/notification.mp3"}),ssend:new Z({source:"assets/sounds/send.mp3"})});Sn();function wn(e){try{JSON.parse(e)}catch{return!1}return!0}async function Sn(){const e=window.location.search,t=new URLSearchParams(e),l=t.get("test"),o=t.get("blocked"),n=t.get("oda"),s=t.get("status"),d=t.get("builder");l!=null?(console.log("%c%s",oe,"::TestMode"),q.provide("test",!0)):q.provide("test",!1),o!=null?(console.log("%c%s",oe,"::BLOCKED"),q.provide("blocked",!0)):q.provide("blocked",!1);const r=m({state:"@intro",screen:0,step:0,answers:{},result:{},finalize:!1}),p=m({total:0,oks:0,errors:0,oksPercentage:0,errorsPercentage:0});if(q.provide("resultsFile",p),n)try{const I=fe(n+"_"),C=(await Qe.get("../ODAS/"+n+"/oda.json")).data;C.conf=xn[C.programa][C.materia];const M=C.conf.color;var b=document.querySelector("html");if(b&&b.style.setProperty("--p",M),q.provide("activityFile",C),gn.buildBG(C.conf.color),q.provide("statusFile",r),q.provide("builderFile",!1),q.provide("path","./ODAS/"+C.id+"/"),q.mount("#app"),l!=null){const O=I.getStorageSync("status");if(O){const A=re.atob(O);if(!A)return!1;const J=JSON.parse(A);if(!J)return!1;r.value=J,console.log("%c%s",oe,"::LoadedData")}}if(s!=null&&s.length>4){const O=re.atob(s);if(!O)return!1;if(wn(O)){const A=JSON.parse(O);if(!A)return!1;r.value=A,console.log("%c%s",oe,"::UrlData")}else console.log("%c%s",oe,"::WRONG UrlData")}const N=ne.throttle(function(O,A){const J=re.btoa(JSON.stringify(O.value));I.setStorageSync("status",J),I.setStorageSync("test",O.value);const E={status:J,results:r.value.finalize?p.value:null};var B=JSON.stringify(E);window.top.postMessage(B,"*")},2e3);ce(()=>r,(O,A)=>{if(o!=null)return!1;N(O,A)},{deep:!0}),document.title=C.id+" | "+C.title,l!=null&&(document.title="::TEST:: "+C.id+" | "+C.title)}catch(I){console.log("%c%s",oe,"::Error: "+I);var v=document.getElementById("app");v.innerHTML='<div class="erroroda">ERROR DE CARGA</div>'}else if(d!=null)q.provide("statusFile",!1),q.provide("activityFile",!1),q.provide("builderFile",!0),q.mount("#app");else{var v=document.getElementById("app");v.innerHTML='<div class="erroroda">ODA NO ENCONTRADA</div>'}}const In=e=>{var t=e.data;typeof t=="string"&&JSON.parse(t)};window.addEventListener("message",In,!1);window.addEventListener("resize",function(){window.innerWidth<=600&&q.config.globalProperties.emitter.emit("sidebarmini")});
