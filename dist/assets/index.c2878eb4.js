import{i as $,r as D,l as oe,o as e,c as L,w as A,T as E,a as o,b as t,t as S,u,F as p,d as y,e as Y,f as T,g as b,h as P,j as O,n as j,k as J,m as V,p as R,q as le,_ as Z,s as U,v as W,G as re,x as ce,V as ie,y as ue,z as ee,A as de,B as ve}from"./vendor.04d1d2a0.js";const _e=function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))c(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const n of i.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&c(n)}).observe(document,{childList:!0,subtree:!0});function s(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerpolicy&&(i.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?i.credentials="include":r.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function c(r){if(r.ep)return;r.ep=!0;const i=s(r);fetch(r.href,i)}};_e();const pe={class:"container text-center"},ge={class:"description my-2"},he={class:"my-2"},fe=t("hr",null,null,-1),ye=t("h4",{class:"my-1"},"Aprendizajes esperados",-1),me={class:"mb-2"},ke=t("h4",{class:"my-1"},"Contenido central",-1),be={class:"mb-2"},$e=["data-animation-path","data-name"],Se={emits:["start"],setup(l,{emit:a}){const s=$("activityFile");$("statusFile");const c=D(),r=D(!0),i=()=>{r.value=!1},n=()=>{a("start")};return oe.searchAnimations(),(d,x)=>(e(),L(E,{name:"zoom",onAfterLeave:n},{default:A(()=>[r.value?(e(),o("div",{key:0,class:"dialog intro",ref_key:"introContainer",ref:c},[t("div",pe,[t("div",ge,[t("h1",he,S(u(s).title),1),t("p",null,S(u(s).asignatura),1),fe,ye,t("p",me,S(u(s).aprendizajes),1),u(s).contenidocentral?(e(),o(p,{key:0},[ke,t("p",be,S(u(s).contenidocentral),1)],64)):y("",!0)]),t("button",{class:"important",onClick:i},"Comenzar")]),t("div",{class:"lottie","data-animation-path":"odas/animations/intro_"+u(s).materia+".json","data-anim-loop":"true","data-name":"intro_"+u(s).materia},null,8,$e)],512)):y("",!0)]),_:1}))}},xe={class:"material-icons-two-tone"},N={props:{},setup(l){return(a,s)=>(e(),o("div",xe,[Y(a.$slots,"default")]))}};var G=(l,a)=>{const s=l.__vccOpts||l;for(const[c,r]of a)s[c]=r;return s};const we=["innerHTML"],Le={key:0,class:"dialog"},Ce=b("close"),Te={class:"ma-1"},Ae={props:{label:String},setup(l){const a=D(!1),s=()=>{a.value=!0},c=()=>{a.value=!1};return(r,i)=>(e(),o(p,null,[t("button",{onClick:s,innerHTML:l.label},null,8,we),T(E,{name:"zoom"},{default:A(()=>[a.value?(e(),o("div",Le,[t("button",{class:"close",onClick:c},[T(N,null,{default:A(()=>[Ce]),_:1})]),t("div",Te,[Y(r.$slots,"default",{},void 0,!0)])])):y("",!0)]),_:3})],64))}};var te=G(Ae,[["__scopeId","data-v-64d50e3e"]]);const ze=t("hr",null,null,-1),Me={class:"area row"},De=b("Mostrar pantallas"),Fe=b("Cerrar pantallas"),Oe={props:{},setup(l){const a=P(),s=()=>{a.appContext.config.globalProperties.emitter.emit("solve")},c=$("test"),r=$("view"),i=()=>{r.value=!r.value,console.log(r.value)};return(n,d)=>u(c)?(e(),o(p,{key:0},[ze,t("div",{class:"area row"},[t("button",{class:"test",onClick:s},"Resolver todo")]),t("div",Me,[t("button",{class:"test",onClick:i},[u(r)?(e(),o(p,{key:1},[Fe],64)):(e(),o(p,{key:0},[De],64))])])],64)):y("",!0)}};const Ne=b("navigate_before"),Ie=b("navigate_next"),He={class:"container"},je={class:"area"},Pe=t("hr",null,null,-1),Be={class:"area row vertical extrainfo"},qe={class:"text-center"},Ee=t("h1",{class:"main mb-1"},"Aprendizajes esperados",-1),Ve={class:"main"},Re={class:"text-center"},Ge=t("h1",{class:"main mb-1"},"Contenido central",-1),Je={class:"main"},Ue=t("hr",null,null,-1),We={class:"area pantallas"},Ke=["onClick"],Qe={class:"label"},Xe=t("hr",null,null,-1),Ye={class:"area"},Ze=b("donut_large"),et=t("span",{class:"label"},"\xA0Progreso",-1),tt=t("div",{class:"progreso"},[t("div",{class:"bar",style:"width:"+70+"%"})],-1),st=t("hr",null,null,-1),at={class:"area"},nt=b("auto_awesome"),ot=t("span",{class:"label"},"\xA0Puntaje",-1),lt=t("div",{class:"puntaje"},[b("10 "),t("span",{class:"label"},"/100")],-1),rt=t("hr",null,null,-1),ct={setup(l){const a=$("activityFile"),s=$("statusFile"),c=D(!0),r=P(),i=d=>{s.value.step=0,s.value.screen=d},n=()=>{console.log(a.id),J(a.id+"_").removeStorageSync("status"),location.reload()};return r.appContext.config.globalProperties.emitter.on("sidebarmini",d=>{c.value=!1}),(d,x)=>(e(),L(E,{name:"zoom"},{default:A(()=>[t("aside",{class:j(["ActivitySidebar",[c.value?"":"mini"]])},[t("div",{class:"openclosebtn",onClick:x[0]||(x[0]=k=>c.value=!c.value)},[c.value?(e(),L(N,{key:0},{default:A(()=>[Ne]),_:1})):(e(),L(N,{key:1},{default:A(()=>[Ie]),_:1}))]),t("div",He,[t("div",je,[t("h1",null,S(u(a).title),1)]),Pe,t("div",Be,[T(te,{label:"Aprendizajes esperados"},{default:A(()=>[t("div",qe,[Ee,t("div",Ve,S(u(a).aprendizajes),1)])]),_:1}),u(a).contenidocentral?(e(),L(te,{key:0,label:"Contenido central"},{default:A(()=>[t("div",Re,[Ge,t("div",Je,S(u(a).contenidocentral),1)])]),_:1})):y("",!0)]),Ue,t("div",We,[t("ul",null,[(e(!0),o(p,null,O(u(a).screens,(k,f)=>(e(),o("li",{class:j(["screenItem",f==u(s).screen?"active":""]),onClick:C=>i(f)},[T(N,{class:j(f==u(s).screen?"active":"")},{default:A(()=>[b(S(k.icon),1)]),_:2},1032,["class"]),t("span",Qe,"\xA0"+S(k.title),1)],10,Ke))),256))])]),Xe,t("div",Ye,[t("h2",null,[T(N,null,{default:A(()=>[Ze]),_:1}),et]),tt,st]),t("div",at,[t("h2",null,[T(N,null,{default:A(()=>[nt]),_:1}),ot]),lt]),T(Oe),rt,t("div",{class:"area row"},[t("button",{onClick:n},"Reiniciar")])])],2)]),_:1}))}};const it=["innerHTML"],ut=["innerHTML"],B={props:{data:Object},setup(l){const a=l,s=V(()=>({"--fontSize":a.data.size||"1rem"})),c=r=>window.MathJax.tex2svg(r).getElementsByTagName("svg")[0].outerHTML;return(r,i)=>l.data.block?(e(),o("div",{key:0,class:"blockmathCont",style:R(u(s)),innerHTML:c(l.data.math)},null,12,it)):(e(),o("span",{key:1,class:"blockmathCont",style:R(u(s)),innerHTML:c(l.data.math)},null,12,ut))}};const se={props:{},setup(l,{emit:a}){const s=$("test"),c=()=>{a("solve")};return(r,i)=>u(s)?(e(),o("button",{key:0,class:"solveModule test",onClick:c},"Resolver")):y("",!0)}};const dt=["id"],vt={key:0,class:"drops dropsLeft"},_t=["data"],pt=["innerHTML"],gt={class:"drags"},ht=["data","data-index"],ft=b("pan_tool"),yt=["innerHTML"],mt={key:1,class:"drops dropsRight"},kt=["data"],bt=["innerHTML"],$t={props:{blockid:String,data:Object},setup(l){const a=l,s=$("statusFile"),c=P(),r=D(),i=D();var n="#block-"+a.blockid,d=n+" .drag",x=n+" .drop",k=null,f;const C=()=>{k=document.querySelectorAll(n+" .drop"),f=Draggable.create(d,{type:"x,y",bounds:n,zIndexBoost:!1,onDrag:function(g){z(g,this)},onClick:function(g){w(g,this)},onDragEnd:function(g){m(g,this)}})},z=(g,h)=>{for(var v=0;v<k.length;v++){if(h.hitTest(k[v],"40%"))return h.target.classList.add("hover"),k[v].classList.add("hover"),!1;h.target.classList.remove("hover"),k[v].classList.remove("hover")}},w=(g,h)=>{if(r.value!=null)return!1;var v=document.querySelector(n+" .drags");h.target.parentElement!=v&&(v.append(h.target),TweenLite.to(h.target,.2,{x:0,y:0}),F())},m=(g,h)=>{for(var v=!1,_=0;_<k.length;_++)h.hitTest(k[_],"40%")&&(v=!0,k[_].append(h.target),TweenLite.to(h.target,.2,{x:0,y:0}),h.target.classList.remove("hover"),k[_].classList.remove("hover"),F());v||TweenLite.to(h.target,.2,{x:0,y:0})},M=g=>{var h=btoa(g);return h},F=()=>{for(var g=document.querySelectorAll(d),h=[],v=0;v<g.length;v++){var _=g[v].getAttribute("data-index"),H=g[v].parentElement.getAttribute("data");h.push([_,H])}s.value.answers[a.blockid]=h},q=setInterval(function(){Draggable&&(C(),K())},500),K=()=>{clearInterval(q),ne()},ne=()=>{if(s.value.answers||(s.value.answers={}),s.value.answers[a.blockid]){var g=s.value.answers[a.blockid];for(var h in g){var v=g[h];if(v[1]){var _=document.querySelector(d+'[data-index="'+v[0]+'"]'),H=document.querySelector(x+"[data="+v[1]+"]");H.append(_)}}}else s.value.answers[a.blockid]=null;s.value.finalize&&X()},Q=()=>{for(var g=document.querySelectorAll(d),h=0;h<g.length;h++){var v=atob(g[h].getAttribute("data")),_=document.querySelector(x+"[data="+v+"]");_.append(g[h])}F()},X=()=>{for(var g=document.querySelectorAll(d),h=0,v=0;v<g.length;v++){f[v].disable();var _=atob(g[v].getAttribute("data")),H=g[v].parentElement.getAttribute("data");_==H?g[v].classList.add("isok"):(g[v].classList.add("notok"),h++)}h==0?r.value=!0:r.value=!1,s.value.result[a.blockid]=r.value};return c.appContext.config.globalProperties.emitter.on("solve",g=>{Q()}),c.appContext.config.globalProperties.emitter.on("finalize",g=>{X()}),(g,h)=>{const v=le("icon");return e(),o(p,null,[t("div",{class:"blockDragDrop",id:"block-"+l.blockid,ref_key:"block",ref:i},[l.data.dropsLeft?(e(),o("section",vt,[(e(!0),o(p,null,O(l.data.dropsLeft,(_,H)=>(e(),o("div",{class:"drop",data:_[1]},[typeof _[0]=="string"?(e(),o("div",{key:0,class:"content",innerHTML:_[0]},null,8,pt)):_[0].math?(e(),L(B,{key:1,data:_[0]},null,8,["data"])):y("",!0)],8,_t))),256))])):y("",!0),t("section",gt,[(e(!0),o(p,null,O(l.data.drags,(_,H)=>(e(),o("div",{class:"drag",data:M(_[1]),"data-index":H},[T(v,null,{default:A(()=>[ft]),_:1}),typeof _[0]=="string"?(e(),o("div",{key:0,class:"content",innerHTML:_[0]},null,8,yt)):_[0].math?(e(),L(B,{key:1,data:_[0]},null,8,["data"])):y("",!0)],8,ht))),256))]),l.data.dropsRight?(e(),o("section",mt,[(e(!0),o(p,null,O(l.data.dropsRight,(_,H)=>(e(),o("div",{class:"drop",data:_[1]},[typeof _[0]=="string"?(e(),o("div",{key:0,class:"content",innerHTML:_[0]},null,8,bt)):_[0].math?(e(),L(B,{key:1,data:_[0]},null,8,["data"])):y("",!0)],8,kt))),256))])):y("",!0)],8,dt),T(se,{onSolve:Q})],64)}}};var St=G($t,[["__scopeId","data-v-7573909c"]]);const xt=["id"],wt=["onClick"],Lt=b("touch_app"),Ct={class:"option-letter"},Tt=["innerHTML"],At={props:{blockid:String,data:Object},setup(l){const a=l,s=D(),c=$("statusFile"),r=P(),i=D(),n=D([]);var d=D(!0);const x=m=>"abcdefghijk"[m],k=()=>{for(var m in a.data.options)a.data.options,n.value[m]=!1;f(),c.value.answers||(c.value.answers={}),c.value.answers[a.blockid]?n.value=c.value.answers[a.blockid]:c.value.answers[a.blockid]=null},f=()=>{var m=0;a.data.options.forEach(M=>{M[1]&&(m+=1)}),m>1&&(d.value=!1)};k();const C=m=>{if(d.value){for(var M in n.value)n.value[M]=!1;n.value[m]=!0}else n.value[m]=!n.value[m];c.value.answers[a.blockid]=n.value},z=()=>{for(var m=a.data.options,M=0;M<m.length;M++)m[M][1]?n.value[M]=!0:n.value[M]=!1;c.value.answers[a.blockid]=n.value},w=()=>{for(var m=a.data.options,M=[],F=0;F<m.length;F++)M.push(m[F][1]);Z.isEqual(M,n.value)?(s.value=!0,i.value.classList.add("isok")):(s.value=!1,i.value.classList.add("notok")),c.value.result[a.blockid]=s.value};return r.appContext.config.globalProperties.emitter.on("solve",m=>{z()}),r.appContext.config.globalProperties.emitter.on("finalize",m=>{w()}),(m,M)=>(e(),o(p,null,[t("div",{class:"blockSelect",id:"block-"+l.blockid,ref_key:"block",ref:i},[(e(!0),o(p,null,O(l.data.options,(F,q)=>(e(),o("div",{class:j(["blockSelectOption",n.value[q]?"active":""]),onClick:K=>C(q)},[T(N,null,{default:A(()=>[Lt]),_:1}),t("div",Ct,S(x(q)),1),typeof F[0]=="string"?(e(),o("div",{key:0,class:"content",innerHTML:F[0]},null,8,Tt)):F[0].math?(e(),L(B,{key:1,data:F[0]},null,8,["data"])):y("",!0)],10,wt))),256))],8,xt),T(se,{onSolve:z})],64))}};const zt=["src"],Mt={props:{data:{type:Object}},setup(l){const a=$("activityFile");return(s,c)=>(e(),o("img",{class:"blockImg",src:"odas/"+u(a).id+"/"+l.data.img},null,8,zt))}};var ae=G(Mt,[["__scopeId","data-v-1def06aa"]]);const Dt=["title"],Ft=["innerHTML"],Ot=b("contact_support"),Nt={key:2,class:"termDefinition"},It={key:0},Ht={key:0},jt={props:{data:{type:Object}},setup(l){const a=D(!1),s=()=>{a.value=!a.value};return(c,r)=>(e(),o("div",{class:"blockTerm",title:l.data.d,onClick:s},[l.data.t?(e(),o("span",{key:0,innerHTML:l.data.t},null,8,Ft)):y("",!0),l.data.i?(e(),L(ae,{key:1,data:{img:l.data.i}},null,8,["data"])):y("",!0),T(N,null,{default:A(()=>[Ot]),_:1}),a.value?(e(),o("div",Nt,[typeof l.data.d=="string"?(e(),o("p",It,S(l.data.d),1)):(e(!0),o(p,{key:1},O(l.data.d,(i,n)=>(e(),o(p,null,[typeof i=="string"?(e(),o("p",Ht,S(i),1)):i.math?(e(),L(B,{key:1,data:i},null,8,["data"])):y("",!0)],64))),256))])):y("",!0)],8,Dt))}};var Pt=G(jt,[["__scopeId","data-v-b9a26dae"]]);const Bt={class:"blockContainer"},qt=["innerHTML"],Et={key:1},Vt=["innerHTML"],Rt={key:0,class:"text-center my-1"},Gt={key:1,class:"text-center my-2"},Jt={props:{block:Object,blockid:String},setup(l){const a=l,s=$("view"),c=V(()=>({"--block-width":a.block.width||"100%"}));return(r,i)=>l.block.content.length?(e(),o("div",{key:0,class:"block",style:R(u(c))},[t("div",Bt,[(e(!0),o(p,null,O(l.block.content,(n,d)=>(e(),o(p,null,[typeof n=="string"?(e(),o("span",{key:0,innerHTML:n},null,8,qt)):n.br?(e(),o("br",Et)):n.text?(e(),o("div",{key:2,innerHTML:n.text,class:j(n.class||"my-2")},null,10,Vt)):n.term?(e(),L(Pt,{key:3,data:n},null,8,["data"])):n.img?(e(),L(ae,{key:4,data:n},null,8,["data"])):n.math?(e(),L(B,{key:5,data:n},null,8,["data"])):y("",!0),n.dragdrop?(e(),L(St,{key:6,data:n,blockid:l.blockid+"-"+d},null,8,["data","blockid"])):y("",!0),n.select?(e(),L(At,{key:7,data:n,blockid:l.blockid+"-"+d},null,8,["data","blockid"])):y("",!0)],64))),256))]),u(s)?y("",!0):(e(),o(p,{key:0},[l.block.buttonNextStep?(e(),o("div",Rt,[t("button",{onClick:i[0]||(i[0]=n=>r.$emit("stepNext"))},S(l.block.buttonNextStep),1)])):y("",!0),l.block.buttonNextScreen?(e(),o("div",Gt,[t("button",{class:"important",onClick:i[1]||(i[1]=n=>r.$emit("screenNext",1))},S(l.block.buttonNextScreen),1)])):y("",!0)],64))],4)):y("",!0)}},Ut={class:"block ScreenBlockEnd"},Wt={class:"text-center"},Kt={class:"my-3"},Qt=b("De un total de "),Xt=b(" tienes "),Yt={class:"high"},Zt=b("."),es=["onClick"],ts=t("div",{class:"my-3"},"\xBFDeseas finalizar?",-1),ss={key:1,class:"my-3"},as=t("span",null,[b("Has contestado todas las preguntas. Verifica tus respuestas y da clic en "),t("strong",null,'"finalizar"'),b(".")],-1),ns=[as],os={key:2,class:"my-3"},ls=t("span",null,"Muy bien. Has llegado al final de la actividad.",-1),rs=[ls],cs=t("hr",null,null,-1),is=t("div",{class:"my-3"},[t("strong",null,"Actividad finalizada.")],-1),us={class:"my-3"},ds=b("De un total de "),vs=b(" obtuviste un "),_s={class:"high"},ps=b("."),gs=t("div",{class:"my-3"},"A continuaci\xF3n podr\xE1s ver un res\xFAmen de tus resultados:",-1),hs={class:"row wrap"},fs=["onClick"],ys=t("div",{class:"my-3"},"Puedes ver tus resultados individuales o repasar los contenidos navegando con el men\xFA de la izquierda.",-1),ms=t("div",{class:"my-3"},"Tambi\xE9n puedes reiniciar la actividad:",-1),ks={props:{},setup(l){const a=$("activityFile"),s=$("statusFile"),c=P(),r=f=>{console.log(f);var C=f.split("-"),z=C[0],w=C[1],m=a.screens[z].title;return m+" > Bloque "+w},i=f=>{var C=f.split("-"),z=C[0],w=C[1];s.value.screen=z*1,s.value.step=w*1},n=V(()=>{var f=s.value.answers,C={tot:"",total:0,unanswered:{},unansweredLength:0};if(f){C.total=Object.keys(f).length;var z={};Object.keys(f).forEach(function(w){var m=f[w];f[w]==null&&(z[w]=m,C.unansweredLength++)}),Z(z).keys().sort().each(function(w){C.unanswered[w]=z[w]})}return C}),d=D({total:0,oks:0,errors:0,oksPercentage:0,errorsPercentage:0}),x=()=>{s.value.finalize=!0,c.appContext.config.globalProperties.emitter.emit("finalize");for(var f in s.value.result)d.value.total++,s.value.result[f]?d.value.oks++:d.value.errors++;d.value.total&&(d.value.oksPercentage=Math.round(d.value.oks*100/d.value.total),d.value.errorsPercentage=100-d.value.oksPercentage)};s.value.finalize&&setTimeout(function(){x()},1e3);const k=()=>{console.log(a.id),J(a.id+"_").removeStorageSync("status"),location.reload()};return(f,C)=>(e(),o("div",Ut,[t("div",Wt,[u(s).finalize?(e(),o(p,{key:1},[is,d.value.total>0?(e(),o(p,{key:0},[t("div",us,[ds,t("strong",null,S(d.value.total)+" preguntas",1),vs,t("strong",_s,S(d.value.oksPercentage)+"% de aciertos",1),ps]),d.value.errors>0?(e(),o(p,{key:0},[gs,t("div",hs,[(e(!0),o(p,null,O(u(s).result,(z,w)=>(e(),o("div",{class:j(["px-3 bg-light ma-1 floatcard",z?"isok":"notok"])},[t("button",{class:"bg-clear ma-1",onClick:m=>i(w)},S(r(w)),9,fs)],2))),256))])],64)):y("",!0)],64)):(e(),o(p,{key:1},[],64)),ys,ms,t("button",{class:"important",onClick:k},"Reiniciar")],64)):(e(),o(p,{key:0},[u(n).unansweredLength?(e(),o(p,{key:0},[t("div",Kt,[t("span",null,[Qt,t("strong",null,S(u(n).total)+" preguntas",1),Xt,t("strong",Yt,S(u(n).unansweredLength)+" sin contestar",1),Zt])]),(e(!0),o(p,null,O(u(n).unanswered,(z,w)=>(e(),o("button",{class:"high ma-1",onClick:m=>i(w)},S(r(w)),9,es))),256)),ts],64)):u(n).total>0?(e(),o("div",ss,ns)):(e(),o("div",os,rs)),cs,t("div",{class:"my-4"},[t("button",{class:"important",onClick:x},"Finalizar")])],64))])]))}};const bs={class:"stepsNavigation"},$s=["disabled"],Ss=b("navigate_before"),xs=["disabled"],ws=b("navigate_next"),Ls={props:{steps:{type:Number,required:!0}},setup(l){const a=l,s=$("statusFile");D(0);const c=r=>{(r==-1&&s.value.step>0||r==1&&s.value.step<a.steps-1)&&(s.value.step+=r)};return(r,i)=>(e(),o("div",bs,[t("button",{onClick:i[0]||(i[0]=n=>c(-1)),disabled:u(s).step==0},[T(N,null,{default:A(()=>[Ss]),_:1})],8,$s),(e(!0),o(p,null,O(l.steps,(n,d)=>(e(),o("div",{class:j(["step",[u(s).step==d?"active":"non-active"]])},null,2))),256)),t("button",{onClick:i[1]||(i[1]=n=>c(1)),disabled:u(s).step==l.steps-1},[T(N,null,{default:A(()=>[ws]),_:1})],8,xs)]))}};const Cs={key:0,class:"activityScreenTitle"},Ts={props:{screenindex:{type:Number},screen:{type:Object,required:!0}},setup(l){const a=l,s=$("view"),c=$("statusFile"),r=V(()=>({})),i=()=>{c.value.step++},n=d=>s.value?!0:a.screen.steps?c.value.step==d:!0;return(d,x)=>(e(),o("div",{class:j(["activityScreen",u(s)?"desplegado":""]),style:R(u(r))},[u(s)?(e(),o("div",Cs,S(l.screen.title),1)):y("",!0),(e(!0),o(p,null,O(l.screen.blocks,(k,f)=>(e(),o(p,null,[T(E,{name:"slide"},{default:A(()=>[U(T(Jt,{block:k,onStepNext:i,onScreenNext:x[0]||(x[0]=C=>d.$emit("screenNext",C)),blockid:l.screenindex+"-"+f},null,8,["block","blockid"]),[[W,n(f)]])]),_:2},1024),U(T(ks,null,null,512),[[W,l.screen.end]])],64))),256)),l.screen.steps&&!u(s)?(e(),L(Ls,{key:1,steps:l.screen.blocks.length},null,8,["steps"])):y("",!0)],6))}};const As={setup(l){const a=$("view"),s=$("activityFile"),c=$("statusFile"),r=n=>{c.value.step=0,c.value.screen+=n},i=n=>a.value?!0:n==c.value.screen;return(n,d)=>(e(),L(E,{name:"zoom"},{default:A(()=>[t("section",{class:j(["Activity",u(a)?"desplegado":""])},[(e(!0),o(p,null,O(u(s).screens,(x,k)=>U((e(),L(Ts,{screen:x,onScreenNext:r,screenindex:k},null,8,["screen","screenindex"])),[[W,i(k)]])),256))],2)]),_:1}))}};const zs={setup(l){const a=$("activityFile"),s=$("statusFile"),c=r=>{s.value.state=r};return(r,i)=>u(a)&&u(s)?(e(),o(p,{key:0},[u(s).state=="@intro"?(e(),L(Se,{key:0,onStart:i[0]||(i[0]=n=>c("@activity"))})):u(s).state=="@activity"?(e(),o(p,{key:1},[T(ct),T(As)],64)):y("",!0)],64)):y("",!0)}};function Ms(l){var a=re.generate(l||"-");const s=a.toDataUrl();var c=document.createElement("style");c.type="text/css",c.innerHTML="#app {background-image: "+s+";}",document.getElementsByTagName("head")[0].appendChild(c)}var Ds={buildBG:Ms};const Fs=ve();P();var I=ce(zs);I.config.globalProperties.emitter=Fs;I.use(ie);gsap.registerPlugin(Draggable);I.provide("view",D(!1));Os();async function Os(){const l=window.location.search,a=new URLSearchParams(l),s=a.get("test");s!=null?(console.log("%c Test Mode! ","background: #222; color: #bada55"),I.provide("test",!0)):I.provide("test",!1);const c=a.get("oda");if(c)try{const r=J(c+"_"),i=await ue.get("./odas/"+c+"/oda.json"),n=i.data;I.provide("activityFile",n),Ds.buildBG(i.data.id);const x=D({state:"@intro",screen:0,step:0,answers:{},result:{}});I.provide("statusFile",x),I.mount("#app");const k=r.getStorageSync("status");k&&(x.value=JSON.parse(ee.atob(k)),console.log("Saved data loaded")),de(()=>x,(f,C)=>{const z=ee.btoa(JSON.stringify(f.value));r.setStorageSync("status",z)},{deep:!0}),document.title=n.id+" | "+n.title,s&&(document.title="::TEST:: "+n.id+" | "+n.title)}catch(r){alert("Ocurri\xF3 un error al cargar la ODA"),console.log(r)}else alert("ODA no definida")}window.addEventListener("resize",function(){window.innerWidth<=600&&(console.log("ressszzz"),console.log(I.config),I.config.globalProperties.emitter.emit("sidebarmini"))});
