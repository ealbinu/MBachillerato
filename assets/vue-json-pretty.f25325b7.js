import{c as z,a as R}from"./@editorjs.ba2deff0.js";import{r as X}from"./vue.e216283a.js";var Y={exports:{}};(function($,Z){(function(D,V){$.exports=V(X)})(z,function(D){return function(){var V={452:function(r){r.exports=D}},x={};function C(r){var g=x[r];if(g!==void 0)return g.exports;var k=x[r]={exports:{}};return V[r](k,k.exports,C),k.exports}C.d=function(r,g){for(var k in g)C.o(g,k)&&!C.o(r,k)&&Object.defineProperty(r,k,{enumerable:!0,get:g[k]})},C.o=function(r,g){return Object.prototype.hasOwnProperty.call(r,g)},C.r=function(r){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})};var T={};return function(){C.r(T),C.d(T,{default:function(){return U}});var r=C(452);function g(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function k(e,t){if(e){if(typeof e=="string")return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}function B(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,o){var l=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(l!=null){var d,s,f=[],p=!0,a=!1;try{for(l=l.call(n);!(p=(d=l.next()).done)&&(f.push(d.value),!o||f.length!==o);p=!0);}catch(c){a=!0,s=c}finally{try{p||l.return==null||l.return()}finally{if(a)throw s}}return f}}(e,t)||k(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function F(e){return function(t){if(Array.isArray(t))return g(t)}(e)||function(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(e)||k(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var J=(0,r.defineComponent)({props:{data:{required:!0,type:String},onClick:Function},render:function(){var e=this.data,t=this.onClick;return(0,r.createVNode)("span",{class:"vjs-tree__brackets",onClick:t},[e])}}),Q=(0,r.defineComponent)({emits:["change","update:modelValue"],props:{checked:{type:Boolean,default:!1},isMultiple:Boolean,onChange:Function},setup:function(e,t){var n=t.emit;return{uiType:(0,r.computed)(function(){return e.isMultiple?"checkbox":"radio"}),model:(0,r.computed)({get:function(){return e.checked},set:function(o){return n("update:modelValue",o)}})}},render:function(){var e=this.uiType,t=this.model,n=this.$emit;return(0,r.createVNode)("label",{class:["vjs-check-controller",t?"is-checked":""],onClick:function(o){return o.stopPropagation()}},[(0,r.createVNode)("span",{class:"vjs-check-controller__inner is-".concat(e)},null),(0,r.createVNode)("input",{checked:t,class:"vjs-check-controller__original is-".concat(e),type:e,onChange:function(){return n("change",t)}},null)])}});function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,o)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?E(Object(n),!0).forEach(function(o){P(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function _(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function w(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"root",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,o=arguments.length>3?arguments[3]:void 0,l=o||{},d=l.key,s=l.index,f=l.type,p=f===void 0?"content":f,a=l.showComma,c=a!==void 0&&a,i=l.length,m=i===void 0?1:i,u=_(e);if(u==="array"){var v=e.map(function(h,b,j){return w(h,"".concat(t,"[").concat(b,"]"),n+1,{index:b,showComma:b!==j.length-1,length:m,type:p})}).reduce(function(h,b){return h.concat(b)},[]);return[w("[",t,n,{showComma:!1,key:d,length:e.length,type:"arrayStart"})[0]].concat(v,w("]",t,n,{showComma:c,length:e.length,type:"arrayEnd"})[0])}if(u==="object"){var y=Object.keys(e),S=y.map(function(h,b,j){return w(e[h],h.includes(".")?"".concat(t,'["').concat(h,'"]'):"".concat(t,".").concat(h),n+1,{key:h,showComma:b!==j.length-1,length:m,type:p})}).reduce(function(h,b){return h.concat(b)},[]);return[w("{",t,n,{showComma:!1,key:d,index:s,length:y.length,type:"objectStart"})[0]].concat(S,w("}",t,n,{showComma:c,length:y.length,type:"objectEnd"})[0])}var N=Object.entries({content:e,level:n,key:d,index:s,path:t,showComma:c,length:m,type:p}).reduce(function(h,b){var j=B(b,2),W=j[0],q=j[1];return q!==void 0?A(A({},h),{},P({},W,q)):h},{});return[N]}function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,o)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?L(Object(n),!0).forEach(function(o){P(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}var H={showLength:{type:Boolean,default:!1},showDoubleQuotes:{type:Boolean,default:!0},customValueFormatter:Function,selectableType:String,showSelectController:{type:Boolean,default:!1},showLine:{type:Boolean,default:!0},selectOnClickNode:{type:Boolean,default:!0},collapsedOnClickBrackets:{type:Boolean,default:!0},pathSelectable:{type:Function,default:function(){return!0}},highlightSelectedNode:{type:Boolean,default:!0}},K=(0,r.defineComponent)({name:"TreeNode",props:M(M({},H),{},{node:{type:Object,required:!0},collapsed:Boolean,checked:Boolean,onTreeNodeClick:{type:Function},onBracketsClick:{type:Function},onSelectedChange:{type:Function}}),setup:function(e,t){var n=t.emit,o=(0,r.computed)(function(){return _(e.node.content)}),l=(0,r.computed)(function(){return"vjs-value vjs-value__".concat(o.value)}),d=(0,r.computed)(function(){return e.showDoubleQuotes?'"'.concat(e.node.key,'"'):e.node.key}),s=(0,r.computed)(function(){return e.selectableType==="multiple"}),f=(0,r.computed)(function(){return e.selectableType==="single"}),p=(0,r.computed)(function(){return e.pathSelectable(e.node.path,e.node.content)&&(s.value||f.value)}),a=function(c){var i=c+"";return o.value==="string"&&(i='"'.concat(i,'"')),i};return{state:(0,r.reactive)({valueClass:l,prettyKey:d,isMultiple:s,selectable:p}),defaultFormatter:a,customFormatter:function(c){return e.customValueFormatter?e.customValueFormatter(c,e.node.key,e.node.path,a(c)):a(c)},onBracketsClickHandler:function(){e.collapsedOnClickBrackets&&n("brackets-click",!e.collapsed,e.node.path)},onCheckedChange:function(){n("selected-change",e.node)},onNodeClick:function(){n("tree-node-click",e.node),p.value&&e.selectOnClickNode&&n("selected-change",e.node)}}},render:function(){var e=this.state,t=this.node,n=this.showSelectController,o=this.highlightSelectedNode,l=this.checked,d=this.showLength,s=this.collapsed,f=this.showLine,p=this.customValueFormatter,a=this.defaultFormatter,c=this.customFormatter,i=this.onNodeClick,m=this.onCheckedChange,u=this.onBracketsClickHandler;return(0,r.createVNode)("div",{class:{"vjs-tree__node":!0,"has-selector":n,"is-highlight":o&&l},onClick:i},[n&&e.selectable&&t.type!=="objectEnd"&&t.type!=="arrayEnd"&&(0,r.createVNode)(Q,{isMultiple:e.isMultiple,checked:l,onChange:m},null),Array.from(Array(t.level)).map(function(v,y){return(0,r.createVNode)("div",{key:y,class:{"vjs-tree__indent":!0,"has-line":f}},null)}),t.key&&(0,r.createVNode)("span",{class:"vjs-key"},["".concat(e.prettyKey,": ")]),(0,r.createVNode)("span",null,[t.type!=="content"?(0,r.createVNode)(J,{data:t.content,onClick:u},null):p?(0,r.createVNode)("span",{class:e.valueClass,innerHTML:c(t.content)},null):(0,r.createVNode)("span",{class:e.valueClass},[a(t.content)]),t.showComma&&(0,r.createVNode)("span",null,[","]),d&&s&&(0,r.createVNode)("span",{class:"vjs-comment"},[(0,r.createTextVNode)(" // "),t.length,(0,r.createTextVNode)(" items ")])])])}});function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,o)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?I(Object(n),!0).forEach(function(o){P(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}var G=(0,r.defineComponent)({name:"Tree",props:O(O({},H),{},{data:{type:Object,default:null},deep:{type:Number,default:1/0},deepCollapseChildren:{type:Boolean,default:!1},path:{type:String,default:"root"},virtual:{type:Boolean,default:!1},virtualLines:{type:Number,default:10},itemHeight:{type:Number,default:20},modelValue:{type:[String,Array],default:function(){return""}}}),emits:["click","change","update:modelValue"],setup:function(e,t){var n=t.emit,o=(0,r.ref)(),l=(0,r.reactive)({translateY:0,visibleData:null,hiddenPaths:w(e.data,e.path).reduce(function(a,c){var i=e.deepCollapseChildren?c.level>=e.deep:c.level===e.deep;return c.type!=="objectStart"&&c.type!=="arrayStart"||!i?a:O(O({},a),{},P({},c.path,1))},{})}),d=(0,r.computed)(function(){var a=null;return w(e.data,e.path).reduce(function(c,i,m){var u=O(O({},i),{},{id:m}),v=l.hiddenPaths[u.path];if(a&&a.path===u.path){var y=a.type==="objectStart",S=O(O(O({},a),u),{},{content:y?"{...}":"[...]",type:y?"objectCollapsed":"arrayCollapsed"});return a=null,c.concat(S)}return v&&!a?(a=u,c):a?c:c.concat(u)},[])}),s=(0,r.computed)(function(){var a=e.modelValue;return a&&e.selectableType==="multiple"&&Array.isArray(a)?a:[a]}),f=(0,r.computed)(function(){return!e.selectableType||e.selectOnClickNode||e.showSelectController?"":"When selectableType is not null, selectOnClickNode and showSelectController cannot be false at the same time, because this will cause the selection to fail."}),p=function(a){if(e.virtual){var c=o.value,i=e.virtualLines,m=c&&c.scrollTop||0,u=Math.floor(m/e.itemHeight),v=u<0?0:u+i>a.length?a.length-i:u;v<0&&(v=0);var y=v+i;l.translateY=v*e.itemHeight,l.visibleData=a.filter(function(S,N){return N>=v&&N<y})}else l.visibleData=a};return(0,r.watchEffect)(function(){f.value&&function(a){throw new Error("[VueJSONPretty] ".concat(a))}(f.value)}),(0,r.watchEffect)(function(){d.value&&p(d.value)}),{tree:o,state:l,flatData:d,selectedPaths:s,onTreeScroll:function(){p(d.value)},onSelectedChange:function(a){var c=a.path,i=e.selectableType;if(i==="multiple"){var m=s.value.findIndex(function(S){return S===c}),u=F(s.value);m!==-1?u.splice(m,1):u.push(c),n("update:modelValue",u),n("change",u,F(s.value))}else if(i==="single"&&s.value[0]!==c){var v=B(s.value,1)[0],y=c;n("update:modelValue",y),n("change",y,v)}},onTreeNodeClick:function(a){var c=a.content,i=a.path;n("click",i,c)},onBracketsClick:function(a,c){if(a)l.hiddenPaths=O(O({},l.hiddenPaths),{},P({},c,1));else{var i=O({},l.hiddenPaths);delete i[c],l.hiddenPaths=i}}}},render:function(){var e=this.virtual,t=this.itemHeight,n=this.customValueFormatter,o=this.showDoubleQuotes,l=this.showLength,d=this.showLine,s=this.showSelectController,f=this.selectOnClickNode,p=this.pathSelectable,a=this.highlightSelectedNode,c=this.collapsedOnClickBrackets,i=this.state,m=this.flatData,u=this.selectedPaths,v=this.selectableType,y=this.onTreeNodeClick,S=this.onBracketsClick,N=this.onSelectedChange,h=this.onTreeScroll,b=i.visibleData&&i.visibleData.map(function(j){return(0,r.createVNode)(K,{key:j.id,node:j,collapsed:!!i.hiddenPaths[j.path],"custom-value-formatter":n,"show-double-quotes":o,"show-length":l,"collapsed-on-click-brackets":c,checked:u.includes(j.path),"selectable-type":v,"show-line":d,"show-select-controller":s,"select-on-click-node":f,"path-selectable":p,"highlight-selected-node":a,onTreeNodeClick:y,onBracketsClick:S,onSelectedChange:N},null)});return(0,r.createVNode)("div",{ref:"tree",class:{"vjs-tree":!0,"is-virtual":e},onScroll:h},[e?(0,r.createVNode)("div",{style:{height:"".concat(m.length*t,"px")}},[(0,r.createVNode)("div",{style:{transform:"translateY(".concat(i.translateY,"px)")}},[b])]):b])}}),U=(0,r.defineComponent)(G)}(),T}()})})(Y);var ne=R(Y.exports);export{ne as V};
