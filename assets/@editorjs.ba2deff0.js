var wt=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function Je(me){return me&&me.__esModule&&Object.prototype.hasOwnProperty.call(me,"default")?me.default:me}function St(me){if(me.__esModule)return me;var Ne=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(me).forEach(function(l){var h=Object.getOwnPropertyDescriptor(me,l);Object.defineProperty(Ne,l,h.get?h:{enumerable:!0,get:function(){return me[l]}})}),Ne}var pt={exports:{}};/*! For license information please see editor.js.LICENSE.txt */(function(me,Ne){(function(l,h){me.exports=h()})(window,function(){return function(l){var h={};function e(t){if(h[t])return h[t].exports;var o=h[t]={i:t,l:!1,exports:{}};return l[t].call(o.exports,o,o.exports,e),o.l=!0,o.exports}return e.m=l,e.c=h,e.d=function(t,o,i){e.o(t,o)||Object.defineProperty(t,o,{enumerable:!0,get:i})},e.r=function(t){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,o){if(1&o&&(t=e(t)),8&o||4&o&&typeof t=="object"&&t&&t.__esModule)return t;var i=Object.create(null);if(e.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&o&&typeof t!="string")for(var n in t)e.d(i,n,function(r){return t[r]}.bind(null,n));return i},e.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(o,"a",o),o},e.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)},e.p="",e(e.s=186)}([function(l,h,e){var t=e(10),o=e(17),i=e(27),n=e(21),r=e(31),s=function(c,a,f){var d,p,v,u,g=c&s.F,x=c&s.G,E=c&s.S,S=c&s.P,w=c&s.B,B=x?t:E?t[a]||(t[a]={}):(t[a]||{}).prototype,_=x?o:o[a]||(o[a]={}),O=_.prototype||(_.prototype={});for(d in x&&(f=a),f)v=((p=!g&&B&&B[d]!==void 0)?B:f)[d],u=w&&p?r(v,t):S&&typeof v=="function"?r(Function.call,v):v,B&&n(B,d,v,c&s.U),_[d]!=v&&i(_,d,u),S&&O[d]!=v&&(O[d]=v)};t.core=o,s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,l.exports=s},function(l,h){l.exports=function(e){return e&&e.__esModule?e:{default:e}}},function(l,h){l.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(l,h){function e(t,o){for(var i=0;i<o.length;i++){var n=o[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}l.exports=function(t,o,i){return o&&e(t.prototype,o),i&&e(t,i),t}},function(l,h){function e(t){return l.exports=e=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},e(t)}l.exports=e},function(l,h,e){var t=e(110);l.exports=function(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(i&&i.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),i&&t(o,i)}},function(l,h,e){var t=e(80),o=e(151);l.exports=function(i,n){return!n||t(n)!=="object"&&typeof n!="function"?o(i):n}},function(l,h,e){var t,o,i;o=[h,e(23),e(370),e(24),e(400),e(15)],(i=typeof(t=function(n,r,s,c,a,f){var d,p=e(1);function v(b,T){var m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"log",y=arguments.length>3?arguments[3]:void 0,I=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"color: inherit";if("console"in window&&window.console[m]){var R=["info","log","warn","error"].includes(m),M=[];switch(v.logLevel){case d.ERROR:if(m!=="error")return;break;case d.WARN:if(!["error","warn"].includes(m))return;break;case d.INFO:if(!R||b)return}y&&M.push(y);var C="Editor.js ".concat("2.23.2"),k=`line-height: 1em;
            color: #006FEA;
            display: inline-block;
            font-size: 11px;
            line-height: 1em;
            background-color: #fff;
            padding: 4px 9px;
            border-radius: 30px;
            border: 1px solid rgba(56, 138, 229, 0.16);
            margin: 4px 5px 4px 0;`;b&&(R?(M.unshift(k,I),T="%c".concat(C,"%c ").concat(T)):T="( ".concat(C," )").concat(T));try{if(R)if(y){var A;(A=console)[m].apply(A,["".concat(T," %o")].concat(M))}else{var N;(N=console)[m].apply(N,[T].concat(M))}else console[m](T)}catch{}}}Object.defineProperty(n,"__esModule",{value:!0}),n.setLogLevel=function(b){v.logLevel=b},n.typeOf=x,n.isFunction=E,n.isObject=S,n.isString=function(b){return x(b)==="string"},n.isBoolean=function(b){return x(b)==="boolean"},n.isNumber=function(b){return x(b)==="number"},n.isUndefined=w,n.isClass=function(b){return E(b)&&/^\s*class\s+/.test(b.toString())},n.isEmpty=function(b){return!b||Object.keys(b).length===0&&b.constructor===Object},n.isPromise=function(b){return Promise.resolve(b)===b},n.isPrintableKey=function(b){return b>47&&b<58||b===32||b===13||b===229||b>64&&b<91||b>95&&b<112||b>185&&b<193||b>218&&b<223},n.sequence=function(b){return B.apply(this,arguments)},n.array=function(b){return Array.prototype.slice.call(b)},n.delay=function(b,T){return function(){var m=this,y=arguments;window.setTimeout(function(){return b.apply(m,y)},T)}},n.getFileExtension=function(b){return b.name.split(".").pop()},n.isValidMimeType=function(b){return/^[-\w]+\/([-+\w]+|\*)$/.test(b)},n.debounce=function(b,T,m){var y,I=this;return function(){for(var R=arguments.length,M=new Array(R),C=0;C<R;C++)M[C]=arguments[C];var k=I,A=function(){y=null,m||b.apply(k,M)},N=m&&!y;window.clearTimeout(y),y=window.setTimeout(A,T),N&&b.apply(k,M)}},n.throttle=function(b,T){var m,y,I,R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,M=null,C=0;R||(R={});var k=function(){C=R.leading===!1?0:Date.now(),M=null,I=b.apply(m,y),M||(m=y=null)};return function(){var A=Date.now();C||R.leading!==!1||(C=A);var N=T-(A-C);return m=this,y=arguments,N<=0||N>T?(M&&(clearTimeout(M),M=null),C=A,I=b.apply(m,y),M||(m=y=null)):M||R.trailing===!1||(M=setTimeout(k,N)),I}},n.copyTextToClipboard=function(b){var T=f.default.make("div","codex-editor-clipboard",{innerHTML:b});document.body.appendChild(T);var m=window.getSelection(),y=document.createRange();y.selectNode(T),window.getSelection().removeAllRanges(),m.addRange(y),document.execCommand("copy"),document.body.removeChild(T)},n.getUserOS=_,n.capitalize=function(b){return b[0].toUpperCase()+b.slice(1)},n.deepMerge=function b(T){for(var m=arguments.length,y=new Array(m>1?m-1:0),I=1;I<m;I++)y[I-1]=arguments[I];if(!y.length)return T;var R=y.shift();if(S(T)&&S(R))for(var M in R)S(R[M])?(T[M]||Object.assign(T,(0,s.default)({},M,{})),b(T[M],R[M])):Object.assign(T,(0,s.default)({},M,R[M]));return b.apply(void 0,[T].concat(y))},n.beautifyShortcut=function(b){var T=_();return b=b.replace(/shift/gi,"\u21E7").replace(/backspace/gi,"\u232B").replace(/enter/gi,"\u23CE").replace(/up/gi,"\u2191").replace(/left/gi,"\u2192").replace(/down/gi,"\u2193").replace(/right/gi,"\u2190").replace(/escape/gi,"\u238B").replace(/insert/gi,"Ins").replace(/delete/gi,"\u2421").replace(/\+/gi," + "),b=T.mac?b.replace(/ctrl|cmd/gi,"\u2318").replace(/alt/gi,"\u2325"):b.replace(/cmd/gi,"Ctrl").replace(/windows/gi,"WIN")},n.getValidUrl=function(b){try{return new URL(b).href}catch{}return b.substring(0,2)==="//"?window.location.protocol+b:window.location.origin+b},n.generateBlockId=function(){return(0,a.nanoid)(10)},n.openTab=function(b){window.open(b,"_blank")},n.generateId=function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return"".concat(b).concat(Math.floor(1e8*Math.random()).toString(16))},n.deprecationAssert=function(b,T,m){var y="\xAB".concat(T,"\xBB is deprecated and will be removed in the next major release. Please use the \xAB").concat(m,"\xBB instead.");b&&g(y,"warn")},n.cacheable=function(b,T,m){var y=m.value?"value":"get",I=m[y],R="#".concat(T,"Cache");if(m[y]=function(){if(this[R]===void 0){for(var C=arguments.length,k=new Array(C),A=0;A<C;A++)k[A]=arguments[A];this[R]=I.apply.apply(I,[this].concat(k))}return this[R]},y==="get"&&m.set){var M=m.set;m.set=function(C){delete b[R],M.apply(this,C)}}return m},n.isTouchSupported=n.logLabeled=n.log=n.mouseButtons=n.keyCodes=n.LogLevels=void 0,r=p(r),s=p(s),c=p(c),f=p(f),n.LogLevels=d,function(b){b.VERBOSE="VERBOSE",b.INFO="INFO",b.WARN="WARN",b.ERROR="ERROR"}(d||(n.LogLevels=d={})),n.keyCodes={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,LEFT:37,UP:38,DOWN:40,RIGHT:39,DELETE:46,META:91},n.mouseButtons={LEFT:0,WHEEL:1,RIGHT:2,BACKWARD:3,FORWARD:4},v.logLevel=d.VERBOSE;var u=v.bind(window,!1);n.log=u;var g=v.bind(window,!0);function x(b){return Object.prototype.toString.call(b).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function E(b){return x(b)==="function"||x(b)==="asyncfunction"}function S(b){return x(b)==="object"}function w(b){return x(b)==="undefined"}function B(){return(B=(0,c.default)(r.default.mark(function b(T){var m,y,I,R,M=arguments;return r.default.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return R=function(){return(R=(0,c.default)(r.default.mark(function k(A,N,D){return r.default.wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return L.prev=0,L.next=3,A.function(A.data);case 3:return L.next=5,N(w(A.data)?{}:A.data);case 5:L.next=10;break;case 7:L.prev=7,L.t0=L.catch(0),D(w(A.data)?{}:A.data);case 10:case"end":return L.stop()}},k,null,[[0,7]])}))).apply(this,arguments)},I=function(k,A,N){return R.apply(this,arguments)},m=M.length>1&&M[1]!==void 0?M[1]:function(){},y=M.length>2&&M[2]!==void 0?M[2]:function(){},C.abrupt("return",T.reduce(function(){var k=(0,c.default)(r.default.mark(function A(N,D){return r.default.wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return L.next=2,N;case 2:return L.abrupt("return",I(D,m,y));case 3:case"end":return L.stop()}},A)}));return function(A,N){return k.apply(this,arguments)}}(),Promise.resolve()));case 5:case"end":return C.stop()}},b)}))).apply(this,arguments)}function _(){var b={win:!1,mac:!1,x11:!1,linux:!1},T=Object.keys(b).find(function(m){return navigator.appVersion.toLowerCase().indexOf(m)!==-1});return T&&(b[T]=!0),b}n.logLabeled=g;var O="ontouchstart"in document.documentElement;n.isTouchSupported=O})=="function"?t.apply(h,o):t)===void 0||(l.exports=i)},function(l,h,e){var t=e(80);function o(){if(typeof WeakMap!="function")return null;var i=new WeakMap;return o=function(){return i},i}l.exports=function(i){if(i&&i.__esModule)return i;if(i===null||t(i)!=="object"&&typeof i!="function")return{default:i};var n=o();if(n&&n.has(i))return n.get(i);var r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in i)if(Object.prototype.hasOwnProperty.call(i,c)){var a=s?Object.getOwnPropertyDescriptor(i,c):null;a&&(a.get||a.set)?Object.defineProperty(r,c,a):r[c]=i[c]}return r.default=i,n&&n.set(i,r),r}},function(l,h,e){var t,o,i;o=[h,e(2),e(3),e(375)],(i=typeof(t=function(n,r,s,c){var a=e(1);function f(v){if(typeof Symbol=="undefined"||v[Symbol.iterator]==null){if(Array.isArray(v)||(v=function(B,_){if(B){if(typeof B=="string")return d(B,_);var O=Object.prototype.toString.call(B).slice(8,-1);return O==="Object"&&B.constructor&&(O=B.constructor.name),O==="Map"||O==="Set"?Array.from(O):O==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(O)?d(B,_):void 0}}(v))){var u=0,g=function(){};return{s:g,n:function(){return u>=v.length?{done:!0}:{done:!1,value:v[u++]}},e:function(B){throw B},f:g}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var x,E,S=!0,w=!1;return{s:function(){x=v[Symbol.iterator]()},n:function(){var B=x.next();return S=B.done,B},e:function(B){w=!0,E=B},f:function(){try{S||x.return==null||x.return()}finally{if(w)throw E}}}}function d(v,u){(u==null||u>v.length)&&(u=v.length);for(var g=0,x=new Array(u);g<u;g++)x[g]=v[g];return x}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=a(r),s=a(s),c=a(c);var p=function(){function v(u){var g=this,x=u.config,E=u.eventsDispatcher;if((0,r.default)(this,v),this.nodes={},this.listeners=new c.default,this.readOnlyMutableListeners={on:function(S,w,B){var _=arguments.length>3&&arguments[3]!==void 0&&arguments[3];g.mutableListenerIds.push(g.listeners.on(S,w,B,_))},clearAll:function(){var S,w=f(g.mutableListenerIds);try{for(w.s();!(S=w.n()).done;){var B=S.value;g.listeners.offById(B)}}catch(_){w.e(_)}finally{w.f()}g.mutableListenerIds=[]}},this.mutableListenerIds=[],(this instanceof v?this.constructor:void 0)===v)throw new TypeError("Constructors for abstract class Module are not allowed.");this.config=x,this.eventsDispatcher=E}return(0,s.default)(v,[{key:"removeAllNodes",value:function(){for(var u in this.nodes){var g=this.nodes[u];g instanceof HTMLElement&&g.remove()}}},{key:"state",set:function(u){this.Editor=u}},{key:"isRtl",get:function(){return this.config.i18n.direction==="rtl"}}]),v}();n.default=p,p.displayName="Module",l.exports=h.default})=="function"?t.apply(h,o):t)===void 0||(l.exports=i)},function(l,h){var e=l.exports=typeof window!="undefined"&&window.Math==Math?window:typeof self!="undefined"&&self.Math==Math?self:Function("return this")();typeof __g=="number"&&(__g=e)},function(l,h){l.exports=function(e){try{return!!e()}catch{return!0}}},function(l,h,e){var t=e(13);l.exports=function(o){if(!t(o))throw TypeError(o+" is not an object!");return o}},function(l,h){l.exports=function(e){return typeof e=="object"?e!==null:typeof e=="function"}},function(l,h,e){var t=e(68)("wks"),o=e(44),i=e(10).Symbol,n=typeof i=="function";(l.exports=function(r){return t[r]||(t[r]=n&&i[r]||(n?i:o)("Symbol."+r))}).store=t},function(l,h,e){var t,o,i;o=[h,e(42),e(2),e(3),e(7)],(i=typeof(t=function(n,r,s,c,a){var f=e(8),d=e(1);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=d(r),s=d(s),c=d(c),a=f(a);var p=function(){function v(){(0,s.default)(this,v)}return(0,c.default)(v,null,[{key:"isSingleTag",value:function(u){return u.tagName&&["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"].includes(u.tagName)}},{key:"isLineBreakTag",value:function(u){return u&&u.tagName&&["BR","WBR"].includes(u.tagName)}},{key:"make",value:function(u){var g,x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},S=document.createElement(u);for(var w in Array.isArray(x)?(g=S.classList).add.apply(g,(0,r.default)(x)):x&&S.classList.add(x),E)Object.prototype.hasOwnProperty.call(E,w)&&(S[w]=E[w]);return S}},{key:"text",value:function(u){return document.createTextNode(u)}},{key:"svg",value:function(u){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:14,x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:14,E=document.createElementNS("http://www.w3.org/2000/svg","svg");return E.classList.add("icon","icon--"+u),E.setAttribute("width",g+"px"),E.setAttribute("height",x+"px"),E.innerHTML='<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#'.concat(u,'"></use>'),E}},{key:"append",value:function(u,g){Array.isArray(g)?g.forEach(function(x){return u.appendChild(x)}):u.appendChild(g)}},{key:"prepend",value:function(u,g){Array.isArray(g)?(g=g.reverse()).forEach(function(x){return u.prepend(x)}):u.prepend(g)}},{key:"swap",value:function(u,g){var x=document.createElement("div"),E=u.parentNode;E.insertBefore(x,u),E.insertBefore(u,g),E.insertBefore(g,x),E.removeChild(x)}},{key:"find",value:function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document,g=arguments.length>1?arguments[1]:void 0;return u.querySelector(g)}},{key:"get",value:function(u){return document.getElementById(u)}},{key:"findAll",value:function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document,g=arguments.length>1?arguments[1]:void 0;return u.querySelectorAll(g)}},{key:"findAllInputs",value:function(u){return a.array(u.querySelectorAll(v.allInputsSelector)).reduce(function(g,x){return v.isNativeInput(x)||v.containsOnlyInlineElements(x)?[].concat((0,r.default)(g),[x]):[].concat((0,r.default)(g),(0,r.default)(v.getDeepestBlockElements(x)))},[])}},{key:"getDeepestNode",value:function(u){var g=arguments.length>1&&arguments[1]!==void 0&&arguments[1],x=g?"lastChild":"firstChild",E=g?"previousSibling":"nextSibling";if(u&&u.nodeType===Node.ELEMENT_NODE&&u[x]){var S=u[x];if(v.isSingleTag(S)&&!v.isNativeInput(S)&&!v.isLineBreakTag(S))if(S[E])S=S[E];else{if(!S.parentNode[E])return S.parentNode;S=S.parentNode[E]}return this.getDeepestNode(S,g)}return u}},{key:"isElement",value:function(u){return!a.isNumber(u)&&u&&u.nodeType&&u.nodeType===Node.ELEMENT_NODE}},{key:"isFragment",value:function(u){return!a.isNumber(u)&&u&&u.nodeType&&u.nodeType===Node.DOCUMENT_FRAGMENT_NODE}},{key:"isContentEditable",value:function(u){return u.contentEditable==="true"}},{key:"isNativeInput",value:function(u){return!(!u||!u.tagName)&&["INPUT","TEXTAREA"].includes(u.tagName)}},{key:"canSetCaret",value:function(u){var g=!0;if(v.isNativeInput(u))switch(u.type){case"file":case"checkbox":case"radio":case"hidden":case"submit":case"button":case"image":case"reset":g=!1}else g=v.isContentEditable(u);return g}},{key:"isNodeEmpty",value:function(u){return!(this.isSingleTag(u)&&!this.isLineBreakTag(u))&&(this.isElement(u)&&this.isNativeInput(u)?u.value:u.textContent.replace("\u200B","")).trim().length===0}},{key:"isLeaf",value:function(u){return!!u&&u.childNodes.length===0}},{key:"isEmpty",value:function(u){u.normalize();for(var g=[u];g.length>0;)if(u=g.shift()){if(this.isLeaf(u)&&!this.isNodeEmpty(u))return!1;u.childNodes&&g.push.apply(g,(0,r.default)(Array.from(u.childNodes)))}return!0}},{key:"isHTMLString",value:function(u){var g=v.make("div");return g.innerHTML=u,g.childElementCount>0}},{key:"getContentLength",value:function(u){return v.isNativeInput(u)?u.value.length:u.nodeType===Node.TEXT_NODE?u.length:u.textContent.length}},{key:"containsOnlyInlineElements",value:function(u){var g;return a.isString(u)?(g=document.createElement("div")).innerHTML=u:g=u,Array.from(g.children).every(function x(E){return!v.blockElements.includes(E.tagName.toLowerCase())&&Array.from(E.children).every(x)})}},{key:"getDeepestBlockElements",value:function(u){return v.containsOnlyInlineElements(u)?[u]:Array.from(u.children).reduce(function(g,x){return[].concat((0,r.default)(g),(0,r.default)(v.getDeepestBlockElements(x)))},[])}},{key:"getHolder",value:function(u){return a.isString(u)?document.getElementById(u):u}},{key:"isExtensionNode",value:function(u){return u&&["GRAMMARLY-EXTENSION"].includes(u.nodeName)}},{key:"isAnchor",value:function(u){return u.tagName.toLowerCase()==="a"}},{key:"offset",value:function(u){var g=u.getBoundingClientRect(),x=window.pageXOffset||document.documentElement.scrollLeft,E=window.pageYOffset||document.documentElement.scrollTop,S=g.top+E,w=g.left+x;return{top:S,left:w,bottom:S+g.height,right:w+g.width}}},{key:"allInputsSelector",get:function(){return"[contenteditable=true], textarea, input:not([type]), "+["text","password","email","number","search","tel","url"].map(function(u){return'input[type="'.concat(u,'"]')}).join(", ")}},{key:"blockElements",get:function(){return["address","article","aside","blockquote","canvas","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","ruby","section","table","tr","tfoot","ul","video"]}}]),v}();n.default=p,p.displayName="Dom",l.exports=h.default})=="function"?t.apply(h,o):t)===void 0||(l.exports=i)},function(l,h,e){var t=e(33),o=Math.min;l.exports=function(i){return i>0?o(t(i),9007199254740991):0}},function(l,h){var e=l.exports={version:"2.6.11"};typeof __e=="number"&&(__e=e)},function(l,h,e){l.exports=!e(11)(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})},function(l,h,e){var t=e(12),o=e(115),i=e(40),n=Object.defineProperty;h.f=e(18)?Object.defineProperty:function(r,s,c){if(t(r),s=i(s,!0),t(c),o)try{return n(r,s,c)}catch{}if("get"in c||"set"in c)throw TypeError("Accessors not supported!");return"value"in c&&(r[s]=c.value),r}},function(l,h,e){var t=e(38);l.exports=function(o){return Object(t(o))}},function(l,h,e){var t=e(10),o=e(27),i=e(26),n=e(44)("src"),r=e(191),s=(""+r).split("toString");e(17).inspectSource=function(c){return r.call(c)},(l.exports=function(c,a,f,d){var p=typeof f=="function";p&&(i(f,"name")||o(f,"name",a)),c[a]!==f&&(p&&(i(f,n)||o(f,n,c[a]?""+c[a]:s.join(String(a)))),c===t?c[a]=f:d?c[a]?c[a]=f:o(c,a,f):(delete c[a],o(c,a,f)))})(Function.prototype,"toString",function(){return typeof this=="function"&&this[n]||r.call(this)})},function(l,h,e){var t=e(0),o=e(11),i=e(38),n=/"/g,r=function(s,c,a,f){var d=String(i(s)),p="<"+c;return a!==""&&(p+=" "+a+'="'+String(f).replace(n,"&quot;")+'"'),p+">"+d+"</"+c+">"};l.exports=function(s,c){var a={};a[s]=c(r),t(t.P+t.F*o(function(){var f=""[s]('"');return f!==f.toLowerCase()||f.split('"').length>3}),"String",a)}},function(l,h,e){l.exports=e(146)},function(l,h){function e(t,o,i,n,r,s,c){try{var a=t[s](c),f=a.value}catch(d){return void i(d)}a.done?o(f):Promise.resolve(f).then(n,r)}l.exports=function(t){return function(){var o=this,i=arguments;return new Promise(function(n,r){var s=t.apply(o,i);function c(f){e(s,n,r,c,a,"next",f)}function a(f){e(s,n,r,c,a,"throw",f)}c(void 0)})}}},function(l,h,e){var t,o,i;o=[h,e(2),e(3),e(7),e(15)],(i=typeof(t=function(n,r,s,c,a){var f=e(8),d=e(1);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=d(r),s=d(s),c=f(c),a=d(a);var p=function(){function v(){(0,r.default)(this,v),this.instance=null,this.selection=null,this.savedSelectionRange=null,this.isFakeBackgroundEnabled=!1,this.commandBackground="backColor",this.commandRemoveFormat="removeFormat"}return(0,s.default)(v,[{key:"removeFakeBackground",value:function(){this.isFakeBackgroundEnabled&&(this.isFakeBackgroundEnabled=!1,document.execCommand(this.commandRemoveFormat))}},{key:"setFakeBackground",value:function(){document.execCommand(this.commandBackground,!1,"#a8d6ff"),this.isFakeBackgroundEnabled=!0}},{key:"save",value:function(){this.savedSelectionRange=v.range}},{key:"restore",value:function(){if(this.savedSelectionRange){var u=window.getSelection();u.removeAllRanges(),u.addRange(this.savedSelectionRange)}}},{key:"clearSaved",value:function(){this.savedSelectionRange=null}},{key:"collapseToEnd",value:function(){var u=window.getSelection(),g=document.createRange();g.selectNodeContents(u.focusNode),g.collapse(!1),u.removeAllRanges(),u.addRange(g)}},{key:"findParentTag",value:function(u,g){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,E=window.getSelection(),S=null;if(!E||!E.anchorNode||!E.focusNode)return null;var w=[E.anchorNode,E.focusNode];return w.forEach(function(B){for(var _=x;_>0&&B.parentNode&&(B.tagName!==u||(S=B,g&&B.classList&&!B.classList.contains(g)&&(S=null),!S));)B=B.parentNode,_--}),S}},{key:"expandToTag",value:function(u){var g=window.getSelection();g.removeAllRanges();var x=document.createRange();x.selectNodeContents(u),g.addRange(x)}}],[{key:"isSelectionAtEditor",value:function(u){if(!u)return!1;var g=u.anchorNode||u.focusNode;g&&g.nodeType===Node.TEXT_NODE&&(g=g.parentNode);var x=null;return g&&g instanceof Element&&(x=g.closest(".".concat(v.CSS.editorZone))),!!x&&x.nodeType===Node.ELEMENT_NODE}},{key:"isRangeAtEditor",value:function(u){if(u){var g=u.startContainer;g&&g.nodeType===Node.TEXT_NODE&&(g=g.parentNode);var x=null;return g&&g instanceof Element&&(x=g.closest(".".concat(v.CSS.editorZone))),!!x&&x.nodeType===Node.ELEMENT_NODE}}},{key:"getRangeFromSelection",value:function(u){return u&&u.rangeCount?u.getRangeAt(0):null}},{key:"get",value:function(){return window.getSelection()}},{key:"setCursor",value:function(u){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,x=document.createRange(),E=window.getSelection();return a.default.isNativeInput(u)?a.default.canSetCaret(u)?(u.focus(),u.selectionStart=u.selectionEnd=g,u.getBoundingClientRect()):void 0:(x.setStart(u,g),x.setEnd(u,g),E.removeAllRanges(),E.addRange(x),x.getBoundingClientRect())}},{key:"addFakeCursor",value:function(u){var g=v.range,x=a.default.make("span","codex-editor__fake-cursor");x.dataset.mutationFree="true",!g||u&&!u.contains(g.startContainer)||(g.collapse(),g.insertNode(x))}},{key:"removeFakeCursor",value:function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document.body,g=a.default.find(u,".codex-editor__fake-cursor");g&&g.remove()}},{key:"CSS",get:function(){return{editorWrapper:"codex-editor",editorZone:"codex-editor__redactor"}}},{key:"anchorNode",get:function(){var u=window.getSelection();return u?u.anchorNode:null}},{key:"anchorElement",get:function(){var u=window.getSelection();if(!u)return null;var g=u.anchorNode;return g?a.default.isElement(g)?g:g.parentElement:null}},{key:"anchorOffset",get:function(){var u=window.getSelection();return u?u.anchorOffset:null}},{key:"isCollapsed",get:function(){var u=window.getSelection();return u?u.isCollapsed:null}},{key:"isAtEditor",get:function(){return this.isSelectionAtEditor(v.get())}},{key:"isSelectionExists",get:function(){return!!v.get().anchorNode}},{key:"range",get:function(){return this.getRangeFromSelection(this.get())}},{key:"rect",get:function(){var u,g=document.selection,x={x:0,y:0,width:0,height:0};if(g&&g.type!=="Control")return u=(g=g).createRange(),x.x=u.boundingLeft,x.y=u.boundingTop,x.width=u.boundingWidth,x.height=u.boundingHeight,x;if(!window.getSelection)return c.log("Method window.getSelection is not supported","warn"),x;if((g=window.getSelection()).rangeCount===null||isNaN(g.rangeCount))return c.log("Method SelectionUtils.rangeCount is not supported","warn"),x;if(g.rangeCount===0)return x;if((u=g.getRangeAt(0).cloneRange()).getBoundingClientRect&&(x=u.getBoundingClientRect()),x.x===0&&x.y===0){var E=document.createElement("span");if(E.getBoundingClientRect){E.appendChild(document.createTextNode("\u200B")),u.insertNode(E),x=E.getBoundingClientRect();var S=E.parentNode;S.removeChild(E),S.normalize()}}return x}},{key:"text",get:function(){return window.getSelection?window.getSelection().toString():""}}]),v}();n.default=p,p.displayName="SelectionUtils",l.exports=h.default})=="function"?t.apply(h,o):t)===void 0||(l.exports=i)},function(l,h){var e={}.hasOwnProperty;l.exports=function(t,o){return e.call(t,o)}},function(l,h,e){var t=e(19),o=e(43);l.exports=e(18)?function(i,n,r){return t.f(i,n,o(1,r))}:function(i,n,r){return i[n]=r,i}},function(l,h,e){var t=e(61),o=e(38);l.exports=function(i){return t(o(i))}},function(l,h,e){var t=e(11);l.exports=function(o,i){return!!o&&t(function(){i?o.call(null,function(){},1):o.call(null)})}},function(l,h,e){var t=e(360),o=e(361),i=e(147),n=e(362);l.exports=function(r,s){return t(r)||o(r,s)||i(r,s)||n()}},function(l,h,e){var t=e(32);l.exports=function(o,i,n){if(t(o),i===void 0)return o;switch(n){case 1:return function(r){return o.call(i,r)};case 2:return function(r,s){return o.call(i,r,s)};case 3:return function(r,s,c){return o.call(i,r,s,c)}}return function(){return o.apply(i,arguments)}}},function(l,h){l.exports=function(e){if(typeof e!="function")throw TypeError(e+" is not a function!");return e}},function(l,h){var e=Math.ceil,t=Math.floor;l.exports=function(o){return isNaN(o=+o)?0:(o>0?t:e)(o)}},function(l,h,e){var t=e(62),o=e(43),i=e(28),n=e(40),r=e(26),s=e(115),c=Object.getOwnPropertyDescriptor;h.f=e(18)?c:function(a,f){if(a=i(a),f=n(f,!0),s)try{return c(a,f)}catch{}if(r(a,f))return o(!t.f.call(a,f),a[f])}},function(l,h,e){var t=e(0),o=e(17),i=e(11);l.exports=function(n,r){var s=(o.Object||{})[n]||Object[n],c={};c[n]=r(s),t(t.S+t.F*i(function(){s(1)}),"Object",c)}},function(l,h,e){var t=e(31),o=e(61),i=e(20),n=e(16),r=e(131);l.exports=function(s,c){var a=s==1,f=s==2,d=s==3,p=s==4,v=s==6,u=s==5||v,g=c||r;return function(x,E,S){for(var w,B,_=i(x),O=o(_),b=t(E,S,3),T=n(O.length),m=0,y=a?g(x,T):f?g(x,0):void 0;T>m;m++)if((u||m in O)&&(B=b(w=O[m],m,_),s)){if(a)y[m]=B;else if(B)switch(s){case 3:return!0;case 5:return w;case 6:return m;case 2:y.push(w)}else if(p)return!1}return v?-1:d||p?p:y}}},function(l,h){var e={}.toString;l.exports=function(t){return e.call(t).slice(8,-1)}},function(l,h){l.exports=function(e){if(e==null)throw TypeError("Can't call method on  "+e);return e}},function(l,h,e){if(e(18)){var t=e(45),o=e(10),i=e(11),n=e(0),r=e(79),s=e(109),c=e(31),a=e(57),f=e(43),d=e(27),p=e(58),v=e(33),u=e(16),g=e(142),x=e(47),E=e(40),S=e(26),w=e(63),B=e(13),_=e(20),O=e(101),b=e(48),T=e(50),m=e(49).f,y=e(103),I=e(44),R=e(14),M=e(36),C=e(69),k=e(64),A=e(105),N=e(55),D=e(72),L=e(56),F=e(104),U=e(133),P=e(19),j=e(34),H=P.f,z=j.f,W=o.RangeError,K=o.TypeError,Y=o.Uint8Array,$=Array.prototype,ee=s.ArrayBuffer,te=s.DataView,V=M(0),q=M(2),ae=M(3),Q=M(4),re=M(5),de=M(6),pe=C(!0),ue=C(!1),ve=A.values,ge=A.keys,ce=A.entries,X=$.lastIndexOf,J=$.reduce,ie=$.reduceRight,ye=$.join,ke=$.sort,Be=$.slice,Te=$.toString,Xe=$.toLocaleString,Ge=R("iterator"),Pe=R("toStringTag"),Qe=I("typed_constructor"),De=I("def_constructor"),et=r.CONSTR,Ae=r.TYPED,gt=r.VIEW,yt=M(1,function(G,Z){return Fe(k(G,G[De]),Z)}),tt=i(function(){return new Y(new Uint16Array([1]).buffer)[0]===1}),mt=!!Y&&!!Y.prototype.set&&i(function(){new Y(1).set({})}),je=function(G,Z){var ne=v(G);if(ne<0||ne%Z)throw W("Wrong offset!");return ne},le=function(G){if(B(G)&&Ae in G)return G;throw K(G+" is not a typed array!")},Fe=function(G,Z){if(!B(G)||!(Qe in G))throw K("It is not a typed array constructor!");return new G(Z)},nt=function(G,Z){return Ke(k(G,G[De]),Z)},Ke=function(G,Z){for(var ne=0,he=Z.length,se=Fe(G,he);he>ne;)se[ne]=Z[ne++];return se},He=function(G,Z,ne){H(G,Z,{get:function(){return this._d[ne]}})},qe=function(G){var Z,ne,he,se,Ie,ze,oe=_(G),we=arguments.length,Re=we>1?arguments[1]:void 0,We=Re!==void 0,Le=y(oe);if(Le!=null&&!O(Le)){for(ze=Le.call(oe),he=[],Z=0;!(Ie=ze.next()).done;Z++)he.push(Ie.value);oe=he}for(We&&we>2&&(Re=c(Re,arguments[2],2)),Z=0,ne=u(oe.length),se=Fe(this,ne);ne>Z;Z++)se[Z]=We?Re(oe[Z],Z):oe[Z];return se},bt=function(){for(var G=0,Z=arguments.length,ne=Fe(this,Z);Z>G;)ne[G]=arguments[G++];return ne},kt=!!Y&&i(function(){Xe.call(new Y(1))}),ot=function(){return Xe.apply(kt?Be.call(le(this)):le(this),arguments)},rt={copyWithin:function(G,Z){return U.call(le(this),G,Z,arguments.length>2?arguments[2]:void 0)},every:function(G){return Q(le(this),G,arguments.length>1?arguments[1]:void 0)},fill:function(G){return F.apply(le(this),arguments)},filter:function(G){return nt(this,q(le(this),G,arguments.length>1?arguments[1]:void 0))},find:function(G){return re(le(this),G,arguments.length>1?arguments[1]:void 0)},findIndex:function(G){return de(le(this),G,arguments.length>1?arguments[1]:void 0)},forEach:function(G){V(le(this),G,arguments.length>1?arguments[1]:void 0)},indexOf:function(G){return ue(le(this),G,arguments.length>1?arguments[1]:void 0)},includes:function(G){return pe(le(this),G,arguments.length>1?arguments[1]:void 0)},join:function(G){return ye.apply(le(this),arguments)},lastIndexOf:function(G){return X.apply(le(this),arguments)},map:function(G){return yt(le(this),G,arguments.length>1?arguments[1]:void 0)},reduce:function(G){return J.apply(le(this),arguments)},reduceRight:function(G){return ie.apply(le(this),arguments)},reverse:function(){for(var G,Z=le(this).length,ne=Math.floor(Z/2),he=0;he<ne;)G=this[he],this[he++]=this[--Z],this[Z]=G;return this},some:function(G){return ae(le(this),G,arguments.length>1?arguments[1]:void 0)},sort:function(G){return ke.call(le(this),G)},subarray:function(G,Z){var ne=le(this),he=ne.length,se=x(G,he);return new(k(ne,ne[De]))(ne.buffer,ne.byteOffset+se*ne.BYTES_PER_ELEMENT,u((Z===void 0?he:x(Z,he))-se))}},it=function(G,Z){return nt(this,Be.call(le(this),G,Z))},at=function(G){le(this);var Z=je(arguments[1],1),ne=this.length,he=_(G),se=u(he.length),Ie=0;if(se+Z>ne)throw W("Wrong length!");for(;Ie<se;)this[Z+Ie]=he[Ie++]},Ue={entries:function(){return ce.call(le(this))},keys:function(){return ge.call(le(this))},values:function(){return ve.call(le(this))}},st=function(G,Z){return B(G)&&G[Ae]&&typeof Z!="symbol"&&Z in G&&String(+Z)==String(Z)},ct=function(G,Z){return st(G,Z=E(Z,!0))?f(2,G[Z]):z(G,Z)},lt=function(G,Z,ne){return!(st(G,Z=E(Z,!0))&&B(ne)&&S(ne,"value"))||S(ne,"get")||S(ne,"set")||ne.configurable||S(ne,"writable")&&!ne.writable||S(ne,"enumerable")&&!ne.enumerable?H(G,Z,ne):(G[Z]=ne.value,G)};et||(j.f=ct,P.f=lt),n(n.S+n.F*!et,"Object",{getOwnPropertyDescriptor:ct,defineProperty:lt}),i(function(){Te.call({})})&&(Te=Xe=function(){return ye.call(this)});var Ce=p({},rt);p(Ce,Ue),d(Ce,Ge,Ue.values),p(Ce,{slice:it,set:at,constructor:function(){},toString:Te,toLocaleString:ot}),He(Ce,"buffer","b"),He(Ce,"byteOffset","o"),He(Ce,"byteLength","l"),He(Ce,"length","e"),H(Ce,Pe,{get:function(){return this[Ae]}}),l.exports=function(G,Z,ne,he){var se=G+((he=!!he)?"Clamped":"")+"Array",Ie="get"+G,ze="set"+G,oe=o[se],we=oe||{},Re=oe&&T(oe),We=!oe||!r.ABV,Le={},be=oe&&oe.prototype,xt=function(xe,fe){H(xe,fe,{get:function(){return function(_e,Oe){var Se=_e._d;return Se.v[Ie](Oe*Z+Se.o,tt)}(this,fe)},set:function(_e){return function(Oe,Se,Ee){var Me=Oe._d;he&&(Ee=(Ee=Math.round(Ee))<0?0:Ee>255?255:255&Ee),Me.v[ze](Se*Z+Me.o,Ee,tt)}(this,fe,_e)},enumerable:!0})};We?(oe=ne(function(xe,fe,_e,Oe){a(xe,oe,se,"_d");var Se,Ee,Me,ft,dt=0,Ye=0;if(B(fe)){if(!(fe instanceof ee||(ft=w(fe))=="ArrayBuffer"||ft=="SharedArrayBuffer"))return Ae in fe?Ke(oe,fe):qe.call(oe,fe);Se=fe,Ye=je(_e,Z);var $e=fe.byteLength;if(Oe===void 0){if($e%Z||(Ee=$e-Ye)<0)throw W("Wrong length!")}else if((Ee=u(Oe)*Z)+Ye>$e)throw W("Wrong length!");Me=Ee/Z}else Me=g(fe),Se=new ee(Ee=Me*Z);for(d(xe,"_d",{b:Se,o:Ye,l:Ee,e:Me,v:new te(Se)});dt<Me;)xt(xe,dt++)}),be=oe.prototype=b(Ce),d(be,"constructor",oe)):i(function(){oe(1)})&&i(function(){new oe(-1)})&&D(function(xe){new oe,new oe(null),new oe(1.5),new oe(xe)},!0)||(oe=ne(function(xe,fe,_e,Oe){var Se;return a(xe,oe,se),B(fe)?fe instanceof ee||(Se=w(fe))=="ArrayBuffer"||Se=="SharedArrayBuffer"?Oe!==void 0?new we(fe,je(_e,Z),Oe):_e!==void 0?new we(fe,je(_e,Z)):new we(fe):Ae in fe?Ke(oe,fe):qe.call(oe,fe):new we(g(fe))}),V(Re!==Function.prototype?m(we).concat(m(Re)):m(we),function(xe){xe in oe||d(oe,xe,we[xe])}),oe.prototype=be,t||(be.constructor=oe));var Ve=be[Ge],Ze=!!Ve&&(Ve.name=="values"||Ve.name==null),ut=Ue.values;d(oe,Qe,!0),d(be,Ae,se),d(be,gt,!0),d(be,De,oe),(he?new oe(1)[Pe]==se:Pe in be)||H(be,Pe,{get:function(){return se}}),Le[se]=oe,n(n.G+n.W+n.F*(oe!=we),Le),n(n.S,se,{BYTES_PER_ELEMENT:Z}),n(n.S+n.F*i(function(){we.of.call(oe,1)}),se,{from:qe,of:bt}),"BYTES_PER_ELEMENT"in be||d(be,"BYTES_PER_ELEMENT",Z),n(n.P,se,rt),L(se),n(n.P+n.F*mt,se,{set:at}),n(n.P+n.F*!Ze,se,Ue),t||be.toString==Te||(be.toString=Te),n(n.P+n.F*i(function(){new oe(1).slice()}),se,{slice:it}),n(n.P+n.F*(i(function(){return[1,2].toLocaleString()!=new oe([1,2]).toLocaleString()})||!i(function(){be.toLocaleString.call([1,2])})),se,{toLocaleString:ot}),N[se]=Ze?Ve:ut,t||Ze||d(be,Ge,ut)}}else l.exports=function(){}},function(l,h,e){var t=e(13);l.exports=function(o,i){if(!t(o))return o;var n,r;if(i&&typeof(n=o.toString)=="function"&&!t(r=n.call(o))||typeof(n=o.valueOf)=="function"&&!t(r=n.call(o))||!i&&typeof(n=o.toString)=="function"&&!t(r=n.call(o)))return r;throw TypeError("Can't convert object to primitive value")}},function(l,h,e){var t=e(44)("meta"),o=e(13),i=e(26),n=e(19).f,r=0,s=Object.isExtensible||function(){return!0},c=!e(11)(function(){return s(Object.preventExtensions({}))}),a=function(d){n(d,t,{value:{i:"O"+ ++r,w:{}}})},f=l.exports={KEY:t,NEED:!1,fastKey:function(d,p){if(!o(d))return typeof d=="symbol"?d:(typeof d=="string"?"S":"P")+d;if(!i(d,t)){if(!s(d))return"F";if(!p)return"E";a(d)}return d[t].i},getWeak:function(d,p){if(!i(d,t)){if(!s(d))return!0;if(!p)return!1;a(d)}return d[t].w},onFreeze:function(d){return c&&f.NEED&&s(d)&&!i(d,t)&&a(d),d}}},function(l,h,e){var t=e(367),o=e(368),i=e(147),n=e(369);l.exports=function(r){return t(r)||o(r)||i(r)||n()}},function(l,h){l.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(l,h){var e=0,t=Math.random();l.exports=function(o){return"Symbol(".concat(o===void 0?"":o,")_",(++e+t).toString(36))}},function(l,h){l.exports=!1},function(l,h,e){var t=e(117),o=e(88);l.exports=Object.keys||function(i){return t(i,o)}},function(l,h,e){var t=e(33),o=Math.max,i=Math.min;l.exports=function(n,r){return(n=t(n))<0?o(n+r,0):i(n,r)}},function(l,h,e){var t=e(12),o=e(118),i=e(88),n=e(87)("IE_PROTO"),r=function(){},s=function(){var c,a=e(85)("iframe"),f=i.length;for(a.style.display="none",e(89).appendChild(a),a.src="javascript:",(c=a.contentWindow.document).open(),c.write("<script>document.F=Object<\/script>"),c.close(),s=c.F;f--;)delete s.prototype[i[f]];return s()};l.exports=Object.create||function(c,a){var f;return c!==null?(r.prototype=t(c),f=new r,r.prototype=null,f[n]=c):f=s(),a===void 0?f:o(f,a)}},function(l,h,e){var t=e(117),o=e(88).concat("length","prototype");h.f=Object.getOwnPropertyNames||function(i){return t(i,o)}},function(l,h,e){var t=e(26),o=e(20),i=e(87)("IE_PROTO"),n=Object.prototype;l.exports=Object.getPrototypeOf||function(r){return r=o(r),t(r,i)?r[i]:typeof r.constructor=="function"&&r instanceof r.constructor?r.constructor.prototype:r instanceof Object?n:null}},function(l,h,e){var t=e(14)("unscopables"),o=Array.prototype;o[t]==null&&e(27)(o,t,{}),l.exports=function(i){o[t][i]=!0}},function(l,h,e){var t=e(13);l.exports=function(o,i){if(!t(o)||o._t!==i)throw TypeError("Incompatible receiver, "+i+" required!");return o}},function(l,h,e){var t=e(19).f,o=e(26),i=e(14)("toStringTag");l.exports=function(n,r,s){n&&!o(n=s?n:n.prototype,i)&&t(n,i,{configurable:!0,value:r})}},function(l,h,e){var t=e(0),o=e(38),i=e(11),n=e(91),r="["+n+"]",s=RegExp("^"+r+r+"*"),c=RegExp(r+r+"*$"),a=function(d,p,v){var u={},g=i(function(){return!!n[d]()||"\u200B\x85"[d]()!="\u200B\x85"}),x=u[d]=g?p(f):n[d];v&&(u[v]=x),t(t.P+t.F*g,"String",u)},f=a.trim=function(d,p){return d=String(o(d)),1&p&&(d=d.replace(s,"")),2&p&&(d=d.replace(c,"")),d};l.exports=a},function(l,h){l.exports={}},function(l,h,e){var t=e(10),o=e(19),i=e(18),n=e(14)("species");l.exports=function(r){var s=t[r];i&&s&&!s[n]&&o.f(s,n,{configurable:!0,get:function(){return this}})}},function(l,h){l.exports=function(e,t,o,i){if(!(e instanceof t)||i!==void 0&&i in e)throw TypeError(o+": incorrect invocation!");return e}},function(l,h,e){var t=e(21);l.exports=function(o,i,n){for(var r in i)t(o,r,i[r],n);return o}},function(l,h,e){var t,o,i;o=[h,e(2),e(3),e(149)],(i=typeof(t=function(n,r,s,c){var a=e(1);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=a(r),s=a(s),c=a(c);var f=function(){function d(){(0,r.default)(this,d)}return(0,s.default)(d,null,[{key:"ui",value:function(p,v){return d._t(p,v)}},{key:"t",value:function(p,v){return d._t(p,v)}},{key:"setDictionary",value:function(p){d.currentDictionary=p}},{key:"_t",value:function(p,v){var u=d.getNamespace(p);return u&&u[v]?u[v]:v}},{key:"getNamespace",value:function(p){return p.split(".").reduce(function(v,u){return v&&Object.keys(v).length?v[u]:{}},d.currentDictionary)}}]),d}();n.default=f,f.displayName="I18n",f.currentDictionary=c.default,l.exports=h.default})=="function"?t.apply(h,o):t)===void 0||(l.exports=i)},function(l,h,e){var t,o,i;o=[h,e(2),e(3),e(380),e(7)],(i=typeof(t=function(n,r,s,c,a){var f=e(8),d=e(1);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=d(r),s=d(s),c=d(c),a=f(a);var p=function(){function v(u){var g=this;(0,r.default)(this,v),this.iterator=null,this.activated=!1,this.allowArrows=!0,this.onKeyDown=function(x){if(g.isEventReadyForHandling(x))switch(v.usedKeys.includes(x.keyCode)&&x.preventDefault(),x.keyCode){case a.keyCodes.TAB:g.handleTabPress(x);break;case a.keyCodes.LEFT:case a.keyCodes.UP:g.flipLeft();break;case a.keyCodes.RIGHT:case a.keyCodes.DOWN:g.flipRight();break;case a.keyCodes.ENTER:g.handleEnterPress(x)}},this.allowArrows=!a.isBoolean(u.allowArrows)||u.allowArrows,this.iterator=new c.default(u.items,u.focusedItemClass),this.activateCallback=u.activateCallback}return(0,s.default)(v,[{key:"activate",value:function(u){this.activated=!0,u&&this.iterator.setItems(u),document.addEventListener("keydown",this.onKeyDown)}},{key:"deactivate",value:function(){this.activated=!1,this.dropCursor(),document.removeEventListener("keydown",this.onKeyDown)}},{key:"focusFirst",value:function(){this.dropCursor(),this.flipRight()}},{key:"flipLeft",value:function(){this.iterator.previous()}},{key:"flipRight",value:function(){this.iterator.next()}},{key:"dropCursor",value:function(){this.iterator.dropCursor()}},{key:"isEventReadyForHandling",value:function(u){var g=[a.keyCodes.TAB,a.keyCodes.ENTER],x=this.iterator.currentItem==document.activeElement;return this.allowArrows&&!x&&g.push(a.keyCodes.LEFT,a.keyCodes.RIGHT,a.keyCodes.UP,a.keyCodes.DOWN),this.activated&&g.indexOf(u.keyCode)!==-1}},{key:"handleTabPress",value:function(u){switch(u.shiftKey?c.default.directions.LEFT:c.default.directions.RIGHT){case c.default.directions.RIGHT:this.flipRight();break;case c.default.directions.LEFT:this.flipLeft()}}},{key:"handleEnterPress",value:function(u){this.activated&&(this.iterator.currentItem&&this.iterator.currentItem.click(),a.isFunction(this.activateCallback)&&this.activateCallback(this.iterator.currentItem),u.preventDefault(),u.stopPropagation())}},{key:"currentItem",get:function(){return this.iterator.currentItem}}],[{key:"usedKeys",get:function(){return[a.keyCodes.TAB,a.keyCodes.LEFT,a.keyCodes.RIGHT,a.keyCodes.ENTER,a.keyCodes.UP,a.keyCodes.DOWN]}}]),v}();n.default=p,p.displayName="Flipper",l.exports=h.default})=="function"?t.apply(h,o):t)===void 0||(l.exports=i)},function(l,h,e){var t=e(37);l.exports=Object("z").propertyIsEnumerable(0)?Object:function(o){return t(o)=="String"?o.split(""):Object(o)}},function(l,h){h.f={}.propertyIsEnumerable},function(l,h,e){var t=e(37),o=e(14)("toStringTag"),i=t(function(){return arguments}())=="Arguments";l.exports=function(n){var r,s,c;return n===void 0?"Undefined":n===null?"Null":typeof(s=function(a,f){try{return a[f]}catch{}}(r=Object(n),o))=="string"?s:i?t(r):(c=t(r))=="Object"&&typeof r.callee=="function"?"Arguments":c}},function(l,h,e){var t=e(12),o=e(32),i=e(14)("species");l.exports=function(n,r){var s,c=t(n).constructor;return c===void 0||(s=t(c)[i])==null?r:o(s)}},function(l,h,e){var t,o,i;o=[h,e(7),e(378)],(i=typeof(t=function(n,r,s){var c=e(1),a=e(8);function f(p){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u={tags:v},g=new s.default(u);return g.clean(p)}function d(p,v){return Array.isArray(p)?(x=v,p.map(function(E){return d(E,x)})):r.isObject(p)?function(E,S){var w,B={};for(var _ in E)if(Object.prototype.hasOwnProperty.call(E,_)){var O=E[_],b=(w=S[_],r.isObject(w)||r.isBoolean(w)||r.isFunction(w)?S[_]:S);B[_]=d(O,b)}return B}(p,v):r.isString(p)?(u=p,g=v,r.isObject(g)?f(u,g):g===!1?f(u,{}):u):p;var u,g,x}Object.defineProperty(n,"__esModule",{value:!0}),n.sanitizeBlocks=function(p,v){return p.map(function(u){var g=r.isFunction(v)?v(u.tool):v;return r.isEmpty(g)||(u.data=d(u.data,g)),u})},n.clean=f,r=a(r),s=c(s)})=="function"?t.apply(h,o):t)===void 0||(l.exports=i)},function(l,h,e){var t,o,i;o=[h,e(30),e(23),e(24),e(42),e(2),e(3),e(151),e(113),e(5),e(6),e(4),e(15),e(7),e(112),e(25),e(111)],(i=typeof(t=function(n,r,s,c,a,f,d,p,v,u,g,x,E,S,w,B,_){var O,b=e(8),T=e(1);function m(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BlockToolAPI=void 0,r=T(r),s=T(s),c=T(c),a=T(a),f=T(f),d=T(d),p=T(p),v=T(v),u=T(u),g=T(g),x=T(x),E=T(E),S=b(S),w=T(w),B=T(B),_=T(_),n.BlockToolAPI=O,function(I){I.APPEND_CALLBACK="appendCallback",I.RENDERED="rendered",I.MOVED="moved",I.UPDATED="updated",I.REMOVED="removed",I.ON_PASTE="onPaste"}(O||(n.BlockToolAPI=O={}));var y=function(I){(0,u.default)(N,I);var R,M,C,k,A=(R=N,function(){var D,L=(0,x.default)(R);if(m()){var F=(0,x.default)(this).constructor;D=Reflect.construct(L,arguments,F)}else D=L.apply(this,arguments);return(0,g.default)(this,D)});function N(D){var L,F=D.id,U=F===void 0?S.generateBlockId():F,P=D.data,j=D.tool,H=D.api,z=D.readOnly,W=D.tunesData;return(0,f.default)(this,N),(L=A.call(this)).cachedInputs=[],L.tunesInstances=new Map,L.defaultTunesInstances=new Map,L.unavailableTunesData={},L.inputIndex=0,L.modificationDebounceTimer=450,L.didMutated=S.debounce(function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],Y=K instanceof InputEvent||!K.some(function($){var ee=$.addedNodes,te=ee===void 0?[]:ee,V=$.removedNodes;return[].concat((0,a.default)(Array.from(te)),(0,a.default)(Array.from(V))).some(function(q){return E.default.isElement(q)&&q.dataset.mutationFree==="true"})});Y&&(L.cachedInputs=[],L.updateCurrentInput(),L.call(O.UPDATED),L.emit("didMutated",(0,p.default)(L)))},L.modificationDebounceTimer),L.handleFocus=function(){L.cachedInputs=[],L.updateCurrentInput()},L.name=j.name,L.id=U,L.settings=j.settings,L.config=j.settings.config||{},L.api=H,L.blockAPI=new w.default((0,p.default)(L)),L.mutationObserver=new MutationObserver(L.didMutated),L.tool=j,L.toolInstance=j.create(P,L.blockAPI,z),L.tunes=j.tunes,L.composeTunes(W),L.holder=L.compose(),L}return(0,d.default)(N,[{key:"call",value:function(D,L){if(S.isFunction(this.toolInstance[D])){D===O.APPEND_CALLBACK&&S.log("`appendCallback` hook is deprecated and will be removed in the next major release. Use `rendered` hook instead","warn");try{this.toolInstance[D].call(this.toolInstance,L)}catch(F){S.log("Error during '".concat(D,"' call: ").concat(F.message),"error")}}}},{key:"mergeWith",value:(k=(0,c.default)(s.default.mark(function D(L){return s.default.wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return F.next=2,this.toolInstance.merge(L);case 2:case"end":return F.stop()}},D,this)})),function(D){return k.apply(this,arguments)})},{key:"save",value:(C=(0,c.default)(s.default.mark(function D(){var L,F,U,P,j=this;return s.default.wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return H.next=2,this.toolInstance.save(this.pluginsContent);case 2:return L=H.sent,F=this.unavailableTunesData,[].concat((0,a.default)(this.tunesInstances.entries()),(0,a.default)(this.defaultTunesInstances.entries())).forEach(function(z){var W=(0,r.default)(z,2),K=W[0],Y=W[1];if(S.isFunction(Y.save))try{F[K]=Y.save()}catch($){S.log("Tune ".concat(Y.constructor.name," save method throws an Error %o"),"warn",$)}}),U=window.performance.now(),H.abrupt("return",Promise.resolve(L).then(function(z){return P=window.performance.now(),{id:j.id,tool:j.name,data:z,tunes:F,time:P-U}}).catch(function(z){S.log("Saving proccess for ".concat(j.name," tool failed due to the ").concat(z),"log","red")}));case 7:case"end":return H.stop()}},D,this)})),function(){return C.apply(this,arguments)})},{key:"validate",value:(M=(0,c.default)(s.default.mark(function D(L){var F;return s.default.wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(F=!0,!(this.toolInstance.validate instanceof Function)){U.next=5;break}return U.next=4,this.toolInstance.validate(L);case 4:F=U.sent;case 5:return U.abrupt("return",F);case 6:case"end":return U.stop()}},D,this)})),function(D){return M.apply(this,arguments)})},{key:"renderTunes",value:function(){var D=document.createDocumentFragment(),L=document.createDocumentFragment();return this.tunesInstances.forEach(function(F){E.default.append(D,F.render())}),this.defaultTunesInstances.forEach(function(F){E.default.append(L,F.render())}),[D,L]}},{key:"updateCurrentInput",value:function(){this.currentInput=E.default.isNativeInput(document.activeElement)||!B.default.anchorNode?document.activeElement:B.default.anchorNode}},{key:"willSelect",value:function(){this.mutationObserver.observe(this.holder.firstElementChild,{childList:!0,subtree:!0,characterData:!0,attributes:!0}),this.addInputEvents()}},{key:"willUnselect",value:function(){this.mutationObserver.disconnect(),this.removeInputEvents()}},{key:"dispatchChange",value:function(){this.didMutated()}},{key:"destroy",value:function(){(0,v.default)((0,x.default)(N.prototype),"destroy",this).call(this),S.isFunction(this.toolInstance.destroy)&&this.toolInstance.destroy()}},{key:"renderSettings",value:function(){if(S.isFunction(this.toolInstance.renderSettings))return this.toolInstance.renderSettings()}},{key:"compose",value:function(){var D=E.default.make("div",N.CSS.wrapper),L=E.default.make("div",N.CSS.content),F=this.toolInstance.render();L.appendChild(F);var U=L;return[].concat((0,a.default)(this.tunesInstances.values()),(0,a.default)(this.defaultTunesInstances.values())).forEach(function(P){if(S.isFunction(P.wrap))try{U=P.wrap(U)}catch(j){S.log("Tune ".concat(P.constructor.name," wrap method throws an Error %o"),"warn",j)}}),D.appendChild(U),D}},{key:"composeTunes",value:function(D){var L=this;Array.from(this.tunes.values()).forEach(function(F){(F.isInternal?L.defaultTunesInstances:L.tunesInstances).set(F.name,F.create(D[F.name],L.blockAPI))}),Object.entries(D).forEach(function(F){var U=(0,r.default)(F,2),P=U[0],j=U[1];L.tunesInstances.has(P)||(L.unavailableTunesData[P]=j)})}},{key:"addInputEvents",value:function(){var D=this;this.inputs.forEach(function(L){L.addEventListener("focus",D.handleFocus),E.default.isNativeInput(L)&&L.addEventListener("input",D.didMutated)})}},{key:"removeInputEvents",value:function(){var D=this;this.inputs.forEach(function(L){L.removeEventListener("focus",D.handleFocus),E.default.isNativeInput(L)&&L.removeEventListener("input",D.didMutated)})}},{key:"inputs",get:function(){if(this.cachedInputs.length!==0)return this.cachedInputs;var D=E.default.findAllInputs(this.holder);return this.inputIndex>D.length-1&&(this.inputIndex=D.length-1),this.cachedInputs=D,D}},{key:"currentInput",get:function(){return this.inputs[this.inputIndex]},set:function(D){var L=this.inputs.findIndex(function(F){return F===D||F.contains(D)});L!==-1&&(this.inputIndex=L)}},{key:"firstInput",get:function(){return this.inputs[0]}},{key:"lastInput",get:function(){var D=this.inputs;return D[D.length-1]}},{key:"nextInput",get:function(){return this.inputs[this.inputIndex+1]}},{key:"previousInput",get:function(){return this.inputs[this.inputIndex-1]}},{key:"data",get:function(){return this.save().then(function(D){return D&&!S.isEmpty(D.data)?D.data:{}})}},{key:"sanitize",get:function(){return this.tool.sanitizeConfig}},{key:"mergeable",get:function(){return S.isFunction(this.toolInstance.merge)}},{key:"isEmpty",get:function(){var D=E.default.isEmpty(this.pluginsContent),L=!this.hasMedia;return D&&L}},{key:"hasMedia",get:function(){return!!this.holder.querySelector(["img","iframe","video","audio","source","input","textarea","twitterwidget"].join(","))}},{key:"focused",set:function(D){this.holder.classList.toggle(N.CSS.focused,D)},get:function(){return this.holder.classList.contains(N.CSS.focused)}},{key:"selected",set:function(D){D?(this.holder.classList.add(N.CSS.selected),B.default.addFakeCursor(this.holder)):(this.holder.classList.remove(N.CSS.selected),B.default.removeFakeCursor(this.holder))},get:function(){return this.holder.classList.contains(N.CSS.selected)}},{key:"stretched",set:function(D){this.holder.classList.toggle(N.CSS.wrapperStretched,D)},get:function(){return this.holder.classList.contains(N.CSS.wrapperStretched)}},{key:"dropTarget",set:function(D){this.holder.classList.toggle(N.CSS.dropTarget,D)}},{key:"pluginsContent",get:function(){var D=this.holder.querySelector(".".concat(N.CSS.content));if(D&&D.childNodes.length)for(var L=D.childNodes.length-1;L>=0;L--){var F=D.childNodes[L];if(!E.default.isExtensionNode(F))return F}return null}}],[{key:"CSS",get:function(){return{wrapper:"ce-block",wrapperStretched:"ce-block--stretched",content:"ce-block__content",focused:"ce-block--focused",selected:"ce-block--selected",dropTarget:"ce-block--drop-target"}}}]),N}(_.default);n.default=y,y.displayName="Block"})=="function"?t.apply(h,o):t)===void 0||(l.exports=i)},function(l,h,e){var t,o,i;o=[h,e(2),e(3),e(7)],(i=typeof(t=function(n,r,s,c){var a,f,d,p,v,u,g=e(8),x=e(1);Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.InternalTuneSettings=n.InternalInlineToolSettings=n.InternalBlockToolSettings=n.CommonInternalSettings=n.UserSettings=n.ToolType=void 0,r=x(r),s=x(s),c=g(c),n.ToolType=a,function(S){S[S.Block=0]="Block",S[S.Inline=1]="Inline",S[S.Tune=2]="Tune"}(a||(n.ToolType=a={})),n.UserSettings=f,function(S){S.Shortcut="shortcut",S.Toolbox="toolbox",S.EnabledInlineTools="inlineToolbar",S.EnabledBlockTunes="tunes",S.Config="config"}(f||(n.UserSettings=f={})),n.CommonInternalSettings=d,function(S){S.Shortcut="shortcut",S.SanitizeConfig="sanitize"}(d||(n.CommonInternalSettings=d={})),n.InternalBlockToolSettings=p,function(S){S.IsEnabledLineBreaks="enableLineBreaks",S.Toolbox="toolbox",S.ConversionConfig="conversionConfig",S.IsReadOnlySupported="isReadOnlySupported",S.PasteConfig="pasteConfig"}(p||(n.InternalBlockToolSettings=p={})),n.InternalInlineToolSettings=v,function(S){S.IsInline="isInline",S.Title="title"}(v||(n.InternalInlineToolSettings=v={})),n.InternalTuneSettings=u,function(S){S.IsTune="isTune"}(u||(n.InternalTuneSettings=u={}));var E=function(){function S(w){var B=w.name,_=w.constructable,O=w.config,b=w.api,T=w.isDefault,m=w.isInternal,y=m!==void 0&&m,I=w.defaultPlaceholder;(0,r.default)(this,S),this.api=b,this.name=B,this.constructable=_,this.config=O,this.isDefault=T,this.isInternal=y,this.defaultPlaceholder=I}return(0,s.default)(S,[{key:"reset",value:function(){if(c.isFunction(this.constructable.reset))return this.constructable.reset()}},{key:"prepare",value:function(){if(c.isFunction(this.constructable.prepare))return this.constructable.prepare({toolName:this.name,config:this.settings})}},{key:"isInline",value:function(){return this.type===a.Inline}},{key:"isBlock",value:function(){return this.type===a.Block}},{key:"isTune",value:function(){return this.type===a.Tune}},{key:"settings",get:function(){var w=this.config[f.Config]||{};return this.isDefault&&!("placeholder"in w)&&this.defaultPlaceholder&&(w.placeholder=this.defaultPlaceholder),w}},{key:"shortcut",get:function(){var w=this.constructable[d.Shortcut];return this.config[f.Shortcut]||w}},{key:"sanitizeConfig",get:function(){return this.constructable[d.SanitizeConfig]||{}}}]),S}();n.default=E,E.displayName="BaseTool"})=="function"?t.apply(h,o):t)===void 0||(l.exports=i)},function(l,h,e){var t=e(17),o=e(10),i=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(l.exports=function(n,r){return i[n]||(i[n]=r!==void 0?r:{})})("versions",[]).push({version:t.version,mode:e(45)?"pure":"global",copyright:"\xA9 2019 Denis Pushkarev (zloirock.ru)"})},function(l,h,e){var t=e(28),o=e(16),i=e(47);l.exports=function(n){return function(r,s,c){var a,f=t(r),d=o(f.length),p=i(c,d);if(n&&s!=s){for(;d>p;)if((a=f[p++])!=a)return!0}else for(;d>p;p++)if((n||p in f)&&f[p]===s)return n||p||0;return!n&&-1}}},function(l,h){h.f=Object.getOwnPropertySymbols},function(l,h,e){var t=e(37);l.exports=Array.isArray||function(o){return t(o)=="Array"}},function(l,h,e){var t=e(14)("iterator"),o=!1;try{var i=[7][t]();i.return=function(){o=!0},Array.from(i,function(){throw 2})}catch{}l.exports=function(n,r){if(!r&&!o)return!1;var s=!1;try{var c=[7],a=c[t]();a.next=function(){return{done:s=!0}},c[t]=function(){return a},n(c)}catch{}return s}},function(l,h,e){var t=e(12);l.exports=function(){var o=t(this),i="";return o.global&&(i+="g"),o.ignoreCase&&(i+="i"),o.multiline&&(i+="m"),o.unicode&&(i+="u"),o.sticky&&(i+="y"),i}},function(l,h,e){var t=e(63),o=RegExp.prototype.exec;l.exports=function(i,n){var r=i.exec;if(typeof r=="function"){var s=r.call(i,n);if(typeof s!="object")throw new TypeError("RegExp exec method returned something other than an Object or null");return s}if(t(i)!=="RegExp")throw new TypeError("RegExp#exec called on incompatible receiver");return o.call(i,n)}},function(l,h,e){e(135);var t=e(21),o=e(27),i=e(11),n=e(38),r=e(14),s=e(106),c=r("species"),a=!i(function(){var d=/./;return d.exec=function(){var p=[];return p.groups={a:"7"},p},"".replace(d,"$<a>")!=="7"}),f=function(){var d=/(?:)/,p=d.exec;d.exec=function(){return p.apply(this,arguments)};var v="ab".split(d);return v.length===2&&v[0]==="a"&&v[1]==="b"}();l.exports=function(d,p,v){var u=r(d),g=!i(function(){var _={};return _[u]=function(){return 7},""[d](_)!=7}),x=g?!i(function(){var _=!1,O=/a/;return O.exec=function(){return _=!0,null},d==="split"&&(O.constructor={},O.constructor[c]=function(){return O}),O[u](""),!_}):void 0;if(!g||!x||d==="replace"&&!a||d==="split"&&!f){var E=/./[u],S=v(n,u,""[d],function(_,O,b,T,m){return O.exec===s?g&&!m?{done:!0,value:E.call(O,b,T)}:{done:!0,value:_.call(b,O,T)}:{done:!1}}),w=S[0],B=S[1];t(String.prototype,d,w),o(RegExp.prototype,u,p==2?function(_,O){return B.call(_,this,O)}:function(_){return B.call(_,this)})}}},function(l,h,e){var t=e(31),o=e(130),i=e(101),n=e(12),r=e(16),s=e(103),c={},a={};(h=l.exports=function(f,d,p,v,u){var g,x,E,S,w=u?function(){return f}:s(f),B=t(p,v,d?2:1),_=0;if(typeof w!="function")throw TypeError(f+" is not iterable!");if(i(w)){for(g=r(f.length);g>_;_++)if((S=d?B(n(x=f[_])[0],x[1]):B(f[_]))===c||S===a)return S}else for(E=w.call(f);!(x=E.next()).done;)if((S=o(E,B,x.value,d))===c||S===a)return S}).BREAK=c,h.RETURN=a},function(l,h,e){var t=e(10).navigator;l.exports=t&&t.userAgent||""},function(l,h,e){var t=e(10),o=e(0),i=e(21),n=e(58),r=e(41),s=e(76),c=e(57),a=e(13),f=e(11),d=e(72),p=e(53),v=e(92);l.exports=function(u,g,x,E,S,w){var B=t[u],_=B,O=S?"set":"add",b=_&&_.prototype,T={},m=function(k){var A=b[k];i(b,k,k=="delete"||k=="has"?function(N){return!(w&&!a(N))&&A.call(this,N===0?0:N)}:k=="get"?function(N){return w&&!a(N)?void 0:A.call(this,N===0?0:N)}:k=="add"?function(N){return A.call(this,N===0?0:N),this}:function(N,D){return A.call(this,N===0?0:N,D),this})};if(typeof _=="function"&&(w||b.forEach&&!f(function(){new _().entries().next()}))){var y=new _,I=y[O](w?{}:-0,1)!=y,R=f(function(){y.has(1)}),M=d(function(k){new _(k)}),C=!w&&f(function(){for(var k=new _,A=5;A--;)k[O](A,A);return!k.has(-0)});M||((_=g(function(k,A){c(k,_,u);var N=v(new B,k,_);return A!=null&&s(A,S,N[O],N),N})).prototype=b,b.constructor=_),(R||C)&&(m("delete"),m("has"),S&&m("get")),(C||I)&&m(O),w&&b.clear&&delete b.clear}else _=E.getConstructor(g,u,S,O),n(_.prototype,x),r.NEED=!0;return p(_,u),T[u]=_,o(o.G+o.W+o.F*(_!=B),T),w||E.setStrong(_,u,S),_}},function(l,h,e){for(var t,o=e(10),i=e(27),n=e(44),r=n("typed_array"),s=n("view"),c=!(!o.ArrayBuffer||!o.DataView),a=c,f=0,d="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");f<9;)(t=o[d[f++]])?(i(t.prototype,r,!0),i(t.prototype,s,!0)):a=!1;l.exports={ABV:c,CONSTR:a,TYPED:r,VIEW:s}},function(l,h){function e(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?l.exports=e=function(o){return typeof o}:l.exports=e=function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},e(t)}l.exports=e},function(l,h,e){var t,o,i;o=[h,e(2),e(3),e(5),e(6),e(4),e(9)],(i=typeof(t=function(n,r,s,c,a,f,d){var p=e(1);function v(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=p(r),s=p(s),c=p(c),a=p(a),f=p(f);var u=function(g){(0,c.default)(S,g);var x,E=(x=S,function(){var w,B=(0,f.default)(x);if(v()){var _=(0,f.default)(this).constructor;w=Reflect.construct(B,arguments,_)}else w=B.apply(this,arguments);return(0,a.default)(this,w)});function S(){return(0,r.default)(this,S),E.apply(this,arguments)}return(0,s.default)(S,[{key:"getMethodsForTool",value:function(w){return Object.assign(this.methods,{i18n:this.Editor.I18nAPI.getMethodsForTool(w)})}},{key:"methods",get:function(){return{blocks:this.Editor.BlocksAPI.methods,caret:this.Editor.CaretAPI.methods,events:this.Editor.EventsAPI.methods,listeners:this.Editor.ListenersAPI.methods,notifier:this.Editor.NotifierAPI.methods,sanitizer:this.Editor.SanitizerAPI.methods,saver:this.Editor.SaverAPI.methods,selection:this.Editor.SelectionAPI.methods,styles:this.Editor.StylesAPI.classes,toolbar:this.Editor.ToolbarAPI.methods,inlineToolbar:this.Editor.InlineToolbarAPI.methods,tooltip:this.Editor.TooltipAPI.methods,i18n:this.Editor.I18nAPI.methods,readOnly:this.Editor.ReadOnlyAPI.methods,ui:this.Editor.UiAPI.methods}}}]),S}((d=p(d)).default);n.default=u,u.displayName="API",l.exports=h.default})=="function"?t.apply(h,o):t)===void 0||(l.exports=i)},function(l,h,e){var t,o,i;o=[h,e(2),e(3),e(379)],(i=typeof(t=function(n,r,s,c){var a=e(1);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=a(r),s=a(s),c=a(c);var f=function(){function d(){(0,r.default)(this,d),this.lib=new c.default}return(0,s.default)(d,[{key:"destroy",value:function(){this.lib.destroy()}},{key:"show",value:function(p,v,u){this.lib.show(p,v,u)}},{key:"hide",value:function(){var p=arguments.length>0&&arguments[0]!==void 0&&arguments[0];this.lib.hide(p)}},{key:"onHover",value:function(p,v,u){this.lib.onHover(p,v,u)}}]),d}();n.default=f,f.displayName="Tooltip",l.exports=h.default})=="function"?t.apply(h,o):t)===void 0||(l.exports=i)},function(l,h,e){var t,o,i;o=[h,e(2),e(3),e(5),e(6),e(4),e(9),e(15),e(7),e(59),e(84),e(82),e(385)],(i=typeof(t=function(n,r,s,c,a,f,d,p,v,u,g,x,E){var S=e(8),w=e(1);function B(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=w(r),s=w(s),c=w(c),a=w(a),f=w(f),d=w(d),p=w(p),v=S(v),u=w(u),x=w(x),E=S(E);var _=function(O){(0,c.default)(m,O);var b,T=(b=m,function(){var y,I=(0,f.default)(b);if(B()){var R=(0,f.default)(this).constructor;y=Reflect.construct(I,arguments,R)}else y=I.apply(this,arguments);return(0,a.default)(this,y)});function m(y){var I,R=y.config,M=y.eventsDispatcher;return(0,r.default)(this,m),(I=T.call(this,{config:R,eventsDispatcher:M})).tooltip=new x.default,I}return(0,s.default)(m,[{key:"toggleReadOnly",value:function(y){y?(this.destroy(),this.Editor.BlockSettings.destroy(),this.disableModuleBindings()):(this.drawUI(),this.enableModuleBindings())}},{key:"moveAndOpen",value:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.Editor.BlockManager.currentBlock;if(this.toolboxInstance.close(),this.Editor.BlockSettings.close(),y){this.hoveredBlock=y;var I,R=y.holder,M=this.Editor.UI.isMobile,C=y.pluginsContent,k=window.getComputedStyle(C),A=parseInt(k.paddingTop,10),N=R.offsetHeight;I=M?R.offsetTop+N:R.offsetTop+A,this.nodes.wrapper.style.transform="translate3D(0, ".concat(Math.floor(I),"px, 0)"),y.tool.isDefault&&y.isEmpty?this.plusButton.show():this.plusButton.hide(),this.open()}}},{key:"close",value:function(){this.Editor.ReadOnly.isEnabled||(this.nodes.wrapper.classList.remove(this.CSS.toolbarOpened),this.blockActions.hide(),this.toolboxInstance.close(),this.Editor.BlockSettings.close())}},{key:"open",value:function(){var y=this,I=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];v.delay(function(){y.nodes.wrapper.classList.add(y.CSS.toolbarOpened),I?y.blockActions.show():y.blockActions.hide()},50)()}},{key:"make",value:function(){var y=this;this.nodes.wrapper=p.default.make("div",this.CSS.toolbar),["content","actions"].forEach(function(M){y.nodes[M]=p.default.make("div",y.CSS[M])}),p.default.append(this.nodes.wrapper,this.nodes.content),p.default.append(this.nodes.content,this.nodes.actions),this.nodes.plusButton=p.default.make("div",this.CSS.plusButton),p.default.append(this.nodes.plusButton,p.default.svg("plus",16,16)),p.default.append(this.nodes.actions,this.nodes.plusButton),this.readOnlyMutableListeners.on(this.nodes.plusButton,"click",function(){y.tooltip.hide(!0),y.plusButtonClicked()},!1);var I=p.default.make("div");I.appendChild(document.createTextNode(u.default.ui(g.I18nInternalNS.ui.toolbar.toolbox,"Add"))),I.appendChild(p.default.make("div",this.CSS.plusButtonShortcut,{textContent:"\u21E5 Tab"})),this.tooltip.onHover(this.nodes.plusButton,I,{hidingDelay:400}),this.nodes.blockActionsButtons=p.default.make("div",this.CSS.blockActionsButtons),this.nodes.settingsToggler=p.default.make("span",this.CSS.settingsToggler);var R=p.default.svg("dots",16,16);p.default.append(this.nodes.settingsToggler,R),p.default.append(this.nodes.blockActionsButtons,this.nodes.settingsToggler),p.default.append(this.nodes.actions,this.nodes.blockActionsButtons),this.tooltip.onHover(this.nodes.settingsToggler,u.default.ui(g.I18nInternalNS.ui.blockTunes.toggler,"Click to tune"),{hidingDelay:400}),p.default.append(this.nodes.content,this.makeToolbox()),p.default.append(this.nodes.actions,this.Editor.BlockSettings.nodes.wrapper),p.default.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper)}},{key:"makeToolbox",value:function(){var y=this;return this.toolboxInstance=new E.default({api:this.Editor.API.methods,tools:this.Editor.Tools.blockTools}),this.toolboxInstance.on(E.ToolboxEvent.Opened,function(){y.Editor.UI.nodes.wrapper.classList.add(y.CSS.openedToolboxHolderModifier)}),this.toolboxInstance.on(E.ToolboxEvent.Closed,function(){y.Editor.UI.nodes.wrapper.classList.remove(y.CSS.openedToolboxHolderModifier)}),this.toolboxInstance.on(E.ToolboxEvent.BlockAdded,function(I){var R=I.block,M=y.Editor,C=M.BlockManager,k=M.Caret,A=C.getBlockById(R.id);A.inputs.length===0&&(A===C.lastBlock?(C.insertAtEnd(),k.setToBlock(C.lastBlock)):k.setToBlock(C.nextBlock))}),this.toolboxInstance.make()}},{key:"plusButtonClicked",value:function(){this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.toolboxInstance.toggle()}},{key:"enableModuleBindings",value:function(){var y=this;this.readOnlyMutableListeners.on(this.nodes.settingsToggler,"mousedown",function(I){I.stopPropagation(),y.settingsTogglerClicked(),y.toolboxInstance.close(),y.tooltip.hide(!0)},!0),this.eventsDispatcher.on(this.Editor.UI.events.blockHovered,function(I){y.Editor.BlockSettings.opened||y.toolboxInstance.opened||y.moveAndOpen(I.block)})}},{key:"disableModuleBindings",value:function(){this.readOnlyMutableListeners.clearAll()}},{key:"settingsTogglerClicked",value:function(){this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.BlockSettings.open(this.hoveredBlock)}},{key:"drawUI",value:function(){this.Editor.BlockSettings.make(),this.make()}},{key:"destroy",value:function(){this.removeAllNodes(),this.toolboxInstance&&this.toolboxInstance.destroy(),this.tooltip.destroy()}},{key:"CSS",get:function(){return{toolbar:"ce-toolbar",content:"ce-toolbar__content",actions:"ce-toolbar__actions",actionsOpened:"ce-toolbar__actions--opened",toolbarOpened:"ce-toolbar--opened",openedToolboxHolderModifier:"codex-editor--toolbox-opened",plusButton:"ce-toolbar__plus",plusButtonShortcut:"ce-toolbar__plus-shortcut",plusButtonHidden:"ce-toolbar__plus--hidden",blockActionsButtons:"ce-toolbar__actions-buttons",settingsToggler:"ce-toolbar__settings-btn"}}},{key:"opened",get:function(){return this.nodes.wrapper.classList.contains(this.CSS.toolbarOpened)}},{key:"plusButton",get:function(){var y=this;return{hide:function(){return y.nodes.plusButton.classList.add(y.CSS.plusButtonHidden)},show:function(){y.toolboxInstance.isEmpty||y.nodes.plusButton.classList.remove(y.CSS.plusButtonHidden)}}}},{key:"toolbox",get:function(){var y=this;return{opened:this.toolboxInstance.opened,close:function(){return y.toolboxInstance.close()},open:function(){y.Editor.BlockManager.currentBlock=y.hoveredBlock,y.toolboxInstance.open()},toggle:function(){return y.toolboxInstance.toggle()},flipperHasFocus:this.toolboxInstance.flipperHasFocus}}},{key:"blockActions",get:function(){var y=this;return{hide:function(){y.nodes.actions.classList.remove(y.CSS.actionsOpened)},show:function(){y.nodes.actions.classList.add(y.CSS.actionsOpened)}}}}]),m}(d.default);n.default=_,_.displayName="Toolbar",l.exports=h.default})=="function"?t.apply(h,o):t)===void 0||(l.exports=i)},function(l,h,e){var t,o,i;o=[h,e(30),e(149),e(7)],(i=typeof(t=function(n,r,s,c){var a=e(1);Object.defineProperty(n,"__esModule",{value:!0}),n.I18nInternalNS=void 0,r=a(r);var f=function d(p,v){var u={};return Object.entries(p).forEach(function(g){var x=(0,r.default)(g,2),E=x[0],S=x[1];if((0,c.isObject)(S)){var w=v?"".concat(v,".").concat(E):E,B=Object.values(S).every(function(_){return(0,c.isString)(_)});u[E]=B?w:d(S,w)}else u[E]=S}),u}((s=a(s)).default);n.I18nInternalNS=f})=="function"?t.apply(h,o):t)===void 0||(l.exports=i)},function(l,h,e){var t=e(13),o=e(10).document,i=t(o)&&t(o.createElement);l.exports=function(n){return i?o.createElement(n):{}}},function(l,h,e){h.f=e(14)},function(l,h,e){var t=e(68)("keys"),o=e(44);l.exports=function(i){return t[i]||(t[i]=o(i))}},function(l,h){l.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(l,h,e){var t=e(10).document;l.exports=t&&t.documentElement},function(l,h,e){var t=e(13),o=e(12),i=function(n,r){if(o(n),!t(r)&&r!==null)throw TypeError(r+": can't set as prototype!")};l.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(n,r,s){try{(s=e(31)(Function.call,e(34).f(Object.prototype,"__proto__").set,2))(n,[]),r=!(n instanceof Array)}catch{r=!0}return function(c,a){return i(c,a),r?c.__proto__=a:s(c,a),c}}({},!1):void 0),check:i}},function(l,h){l.exports=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`},function(l,h,e){var t=e(13),o=e(90).set;l.exports=function(i,n,r){var s,c=n.constructor;return c!==r&&typeof c=="function"&&(s=c.prototype)!==r.prototype&&t(s)&&o&&o(i,s),i}},function(l,h,e){var t=e(33),o=e(38);l.exports=function(i){var n=String(o(this)),r="",s=t(i);if(s<0||s==1/0)throw RangeError("Count can't be negative");for(;s>0;(s>>>=1)&&(n+=n))1&s&&(r+=n);return r}},function(l,h){l.exports=Math.sign||function(e){return(e=+e)==0||e!=e?e:e<0?-1:1}},function(l,h){var e=Math.expm1;l.exports=!e||e(10)>22025.465794806718||e(10)<22025.465794806718||e(-2e-17)!=-2e-17?function(t){return(t=+t)==0?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:e},function(l,h,e){var t=e(33),o=e(38);l.exports=function(i){return function(n,r){var s,c,a=String(o(n)),f=t(r),d=a.length;return f<0||f>=d?i?"":void 0:(s=a.charCodeAt(f))<55296||s>56319||f+1===d||(c=a.charCodeAt(f+1))<56320||c>57343?i?a.charAt(f):s:i?a.slice(f,f+2):c-56320+(s-55296<<10)+65536}}},function(l,h,e){var t=e(45),o=e(0),i=e(21),n=e(27),r=e(55),s=e(129),c=e(53),a=e(50),f=e(14)("iterator"),d=!([].keys&&"next"in[].keys()),p=function(){return this};l.exports=function(v,u,g,x,E,S,w){s(g,u,x);var B,_,O,b=function(A){if(!d&&A in I)return I[A];switch(A){case"keys":case"values":return function(){return new g(this,A)}}return function(){return new g(this,A)}},T=u+" Iterator",m=E=="values",y=!1,I=v.prototype,R=I[f]||I["@@iterator"]||E&&I[E],M=R||b(E),C=E?m?b("entries"):M:void 0,k=u=="Array"&&I.entries||R;if(k&&(O=a(k.call(new v)))!==Object.prototype&&O.next&&(c(O,T,!0),t||typeof O[f]=="function"||n(O,f,p)),m&&R&&R.name!=="values"&&(y=!0,M=function(){return R.call(this)}),t&&!w||!d&&!y&&I[f]||n(I,f,M),r[u]=M,r[T]=p,E)if(B={values:m?M:b("values"),keys:S?M:b("keys"),entries:C},w)for(_ in B)_ in I||i(I,_,B[_]);else o(o.P+o.F*(d||y),u,B);return B}},function(l,h,e){var t=e(99),o=e(38);l.exports=function(i,n,r){if(t(n))throw TypeError("String#"+r+" doesn't accept regex!");return String(o(i))}},function(l,h,e){var t=e(13),o=e(37),i=e(14)("match");l.exports=function(n){var r;return t(n)&&((r=n[i])!==void 0?!!r:o(n)=="RegExp")}},function(l,h,e){var t=e(14)("match");l.exports=function(o){var i=/./;try{"/./"[o](i)}catch{try{return i[t]=!1,!"/./"[o](i)}catch{}}return!0}},function(l,h,e){var t=e(55),o=e(14)("iterator"),i=Array.prototype;l.exports=function(n){return n!==void 0&&(t.Array===n||i[o]===n)}},function(l,h,e){var t=e(19),o=e(43);l.exports=function(i,n,r){n in i?t.f(i,n,o(0,r)):i[n]=r}},function(l,h,e){var t=e(63),o=e(14)("iterator"),i=e(55);l.exports=e(17).getIteratorMethod=function(n){if(n!=null)return n[o]||n["@@iterator"]||i[t(n)]}},function(l,h,e){var t=e(20),o=e(47),i=e(16);l.exports=function(n){for(var r=t(this),s=i(r.length),c=arguments.length,a=o(c>1?arguments[1]:void 0,s),f=c>2?arguments[2]:void 0,d=f===void 0?s:o(f,s);d>a;)r[a++]=n;return r}},function(l,h,e){var t=e(51),o=e(134),i=e(55),n=e(28);l.exports=e(97)(Array,"Array",function(r,s){this._t=n(r),this._i=0,this._k=s},function(){var r=this._t,s=this._k,c=this._i++;return!r||c>=r.length?(this._t=void 0,o(1)):o(0,s=="keys"?c:s=="values"?r[c]:[c,r[c]])},"values"),i.Arguments=i.Array,t("keys"),t("values"),t("entries")},function(l,h,e){var t,o,i=e(73),n=RegExp.prototype.exec,r=String.prototype.replace,s=n,c=(t=/a/,o=/b*/g,n.call(t,"a"),n.call(o,"a"),t.lastIndex!==0||o.lastIndex!==0),a=/()??/.exec("")[1]!==void 0;(c||a)&&(s=function(f){var d,p,v,u,g=this;return a&&(p=new RegExp("^"+g.source+"$(?!\\s)",i.call(g))),c&&(d=g.lastIndex),v=n.call(g,f),c&&v&&(g.lastIndex=g.global?v.index+v[0].length:d),a&&v&&v.length>1&&r.call(v[0],p,function(){for(u=1;u<arguments.length-2;u++)arguments[u]===void 0&&(v[u]=void 0)}),v}),l.exports=s},function(l,h,e){var t=e(96)(!0);l.exports=function(o,i,n){return i+(n?t(o,i).length:1)}},function(l,h,e){var t,o,i,n=e(31),r=e(123),s=e(89),c=e(85),a=e(10),f=a.process,d=a.setImmediate,p=a.clearImmediate,v=a.MessageChannel,u=a.Dispatch,g=0,x={},E=function(){var w=+this;if(x.hasOwnProperty(w)){var B=x[w];delete x[w],B()}},S=function(w){E.call(w.data)};d&&p||(d=function(w){for(var B=[],_=1;arguments.length>_;)B.push(arguments[_++]);return x[++g]=function(){r(typeof w=="function"?w:Function(w),B)},t(g),g},p=function(w){delete x[w]},e(37)(f)=="process"?t=function(w){f.nextTick(n(E,w,1))}:u&&u.now?t=function(w){u.now(n(E,w,1))}:v?(i=(o=new v).port2,o.port1.onmessage=S,t=n(i.postMessage,i,1)):a.addEventListener&&typeof postMessage=="function"&&!a.importScripts?(t=function(w){a.postMessage(w+"","*")},a.addEventListener("message",S,!1)):t="onreadystatechange"in c("script")?function(w){s.appendChild(c("script")).onreadystatechange=function(){s.removeChild(this),E.call(w)}}:function(w){setTimeout(n(E,w,1),0)}),l.exports={set:d,clear:p}},function(l,h,e){var t=e(10),o=e(18),i=e(45),n=e(79),r=e(27),s=e(58),c=e(11),a=e(57),f=e(33),d=e(16),p=e(142),v=e(49).f,u=e(19).f,g=e(104),x=e(53),E=t.ArrayBuffer,S=t.DataView,w=t.Math,B=t.RangeError,_=t.Infinity,O=E,b=w.abs,T=w.pow,m=w.floor,y=w.log,I=w.LN2,R=o?"_b":"buffer",M=o?"_l":"byteLength",C=o?"_o":"byteOffset";function k(V,q,ae){var Q,re,de,pe=new Array(ae),ue=8*ae-q-1,ve=(1<<ue)-1,ge=ve>>1,ce=q===23?T(2,-24)-T(2,-77):0,X=0,J=V<0||V===0&&1/V<0?1:0;for((V=b(V))!=V||V===_?(re=V!=V?1:0,Q=ve):(Q=m(y(V)/I),V*(de=T(2,-Q))<1&&(Q--,de*=2),(V+=Q+ge>=1?ce/de:ce*T(2,1-ge))*de>=2&&(Q++,de/=2),Q+ge>=ve?(re=0,Q=ve):Q+ge>=1?(re=(V*de-1)*T(2,q),Q+=ge):(re=V*T(2,ge-1)*T(2,q),Q=0));q>=8;pe[X++]=255&re,re/=256,q-=8);for(Q=Q<<q|re,ue+=q;ue>0;pe[X++]=255&Q,Q/=256,ue-=8);return pe[--X]|=128*J,pe}function A(V,q,ae){var Q,re=8*ae-q-1,de=(1<<re)-1,pe=de>>1,ue=re-7,ve=ae-1,ge=V[ve--],ce=127&ge;for(ge>>=7;ue>0;ce=256*ce+V[ve],ve--,ue-=8);for(Q=ce&(1<<-ue)-1,ce>>=-ue,ue+=q;ue>0;Q=256*Q+V[ve],ve--,ue-=8);if(ce===0)ce=1-pe;else{if(ce===de)return Q?NaN:ge?-_:_;Q+=T(2,q),ce-=pe}return(ge?-1:1)*Q*T(2,ce-q)}function N(V){return V[3]<<24|V[2]<<16|V[1]<<8|V[0]}function D(V){return[255&V]}function L(V){return[255&V,V>>8&255]}function F(V){return[255&V,V>>8&255,V>>16&255,V>>24&255]}function U(V){return k(V,52,8)}function P(V){return k(V,23,4)}function j(V,q,ae){u(V.prototype,q,{get:function(){return this[ae]}})}function H(V,q,ae,Q){var re=p(+ae);if(re+q>V[M])throw B("Wrong index!");var de=V[R]._b,pe=re+V[C],ue=de.slice(pe,pe+q);return Q?ue:ue.reverse()}function z(V,q,ae,Q,re,de){var pe=p(+ae);if(pe+q>V[M])throw B("Wrong index!");for(var ue=V[R]._b,ve=pe+V[C],ge=Q(+re),ce=0;ce<q;ce++)ue[ve+ce]=ge[de?ce:q-ce-1]}if(n.ABV){if(!c(function(){E(1)})||!c(function(){new E(-1)})||c(function(){return new E,new E(1.5),new E(NaN),E.name!="ArrayBuffer"})){for(var W,K=(E=function(V){return a(this,E),new O(p(V))}).prototype=O.prototype,Y=v(O),$=0;Y.length>$;)(W=Y[$++])in E||r(E,W,O[W]);i||(K.constructor=E)}var ee=new S(new E(2)),te=S.prototype.setInt8;ee.setInt8(0,2147483648),ee.setInt8(1,2147483649),!ee.getInt8(0)&&ee.getInt8(1)||s(S.prototype,{setInt8:function(V,q){te.call(this,V,q<<24>>24)},setUint8:function(V,q){te.call(this,V,q<<24>>24)}},!0)}else E=function(V){a(this,E,"ArrayBuffer");var q=p(V);this._b=g.call(new Array(q),0),this[M]=q},S=function(V,q,ae){a(this,S,"DataView"),a(V,E,"DataView");var Q=V[M],re=f(q);if(re<0||re>Q)throw B("Wrong offset!");if(re+(ae=ae===void 0?Q-re:d(ae))>Q)throw B("Wrong length!");this[R]=V,this[C]=re,this[M]=ae},o&&(j(E,"byteLength","_l"),j(S,"buffer","_b"),j(S,"byteLength","_l"),j(S,"byteOffset","_o")),s(S.prototype,{getInt8:function(V){return H(this,1,V)[0]<<24>>24},getUint8:function(V){return H(this,1,V)[0]},getInt16:function(V){var q=H(this,2,V,arguments[1]);return(q[1]<<8|q[0])<<16>>16},getUint16:function(V){var q=H(this,2,V,arguments[1]);return q[1]<<8|q[0]},getInt32:function(V){return N(H(this,4,V,arguments[1]))},getUint32:function(V){return N(H(this,4,V,arguments[1]))>>>0},getFloat32:function(V){return A(H(this,4,V,arguments[1]),23,4)},getFloat64:function(V){return A(H(this,8,V,arguments[1]),52,8)},setInt8:function(V,q){z(this,1,V,D,q)},setUint8:function(V,q){z(this,1,V,D,q)},setInt16:function(V,q){z(this,2,V,L,q,arguments[2])},setUint16:function(V,q){z(this,2,V,L,q,arguments[2])},setInt32:function(V,q){z(this,4,V,F,q,arguments[2])},setUint32:function(V,q){z(this,4,V,F,q,arguments[2])},setFloat32:function(V,q){z(this,4,V,P,q,arguments[2])},setFloat64:function(V,q){z(this,8,V,U,q,arguments[2])}});x(E,"ArrayBuffer"),x(S,"DataView"),r(S.prototype,n.VIEW,!0),h.ArrayBuffer=E,h.DataView=S},function(l,h){function e(t,o){return l.exports=e=Object.setPrototypeOf||function(i,n){return i.__proto__=n,i},e(t,o)}l.exports=e},function(l,h,e){var t,o,i;o=[h,e(2),e(3),e(7)],(i=typeof(t=function(n,r,s,c){var a=e(1);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=a(r),s=a(s);var f=function(){function d(){(0,r.default)(this,d),this.subscribers={}}return(0,s.default)(d,[{key:"on",value:function(p,v){p in this.subscribers||(this.subscribers[p]=[]),this.subscribers[p].push(v)}},{key:"once",value:function(p,v){var u=this;p in this.subscribers||(this.subscribers[p]=[]),this.subscribers[p].push(function g(x){var E=v(x),S=u.subscribers[p].indexOf(g);return S!==-1&&u.subscribers[p].splice(S,1),E})}},{key:"emit",value:function(p,v){!(0,c.isEmpty)(this.subscribers)&&this.subscribers[p]&&this.subscribers[p].reduce(function(u,g){return g(u)||u},v)}},{key:"off",value:function(p,v){for(var u=0;u<this.subscribers[p].length;u++)if(this.subscribers[p][u]===v){delete this.subscribers[p][u];break}}},{key:"destroy",value:function(){this.subscribers=null}}]),d}();n.default=f,f.displayName="EventsDispatcher",l.exports=h.default})=="function"?t.apply(h,o):t)===void 0||(l.exports=i)},function(l,h,e){var t,o,i;o=[h],(i=typeof(t=function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(s){var c={get id(){return s.id},get name(){return s.name},get config(){return s.config},get holder(){return s.holder},get isEmpty(){return s.isEmpty},get selected(){return s.selected},set stretched(a){s.stretched=a},get stretched(){return s.stretched},call:function(a,f){return s.call(a,f)},save:function(){return s.save()},validate:function(a){return s.validate(a)},dispatchChange:function(){s.dispatchChange()}};Object.setPrototypeOf(this,c)};n.default=r,l.exports=h.default})=="function"?t.apply(h,o):t)===void 0||(l.exports=i)},function(l,h,e){var t=e(381);function o(i,n,r){return typeof Reflect!="undefined"&&Reflect.get?l.exports=o=Reflect.get:l.exports=o=function(s,c,a){var f=t(s,c);if(f){var d=Object.getOwnPropertyDescriptor(f,c);return d.get?d.get.call(a):d.value}},o(i,n,r||i)}l.exports=o},function(l,h,e){var t,o,i;o=[h,e(42),e(2),e(3),e(384)],(i=typeof(t=function(n,r,s,c,a){var f=e(1);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=f(r),s=f(s),c=f(c),a=f(a);var d=function(){function v(){(0,s.default)(this,v),this.registeredShortcuts=new Map}return(0,c.default)(v,[{key:"add",value:function(u){if(this.findShortcut(u.on,u.name))throw Error("Shortcut ".concat(u.name," is already registered for ").concat(u.on,". Please remove it before add a new handler."));var g=new a.default({name:u.name,on:u.on,callback:u.handler}),x=this.registeredShortcuts.get(u.on)||[];this.registeredShortcuts.set(u.on,[].concat((0,r.default)(x),[g]))}},{key:"remove",value:function(u,g){var x=this.findShortcut(u,g);if(x){x.remove();var E=this.registeredShortcuts.get(u);this.registeredShortcuts.set(u,E.filter(function(S){return S!==x}))}}},{key:"findShortcut",value:function(u,g){return(this.registeredShortcuts.get(u)||[]).find(function(x){return x.name===g})}}]),v}();d.displayName="Shortcuts";var p=new d;n.default=p,l.exports=h.default})=="function"?t.apply(h,o):t)===void 0||(l.exports=i)},function(l,h,e){l.exports=!e(18)&&!e(11)(function(){return Object.defineProperty(e(85)("div"),"a",{get:function(){return 7}}).a!=7})},function(l,h,e){var t=e(10),o=e(17),i=e(45),n=e(86),r=e(19).f;l.exports=function(s){var c=o.Symbol||(o.Symbol=i?{}:t.Symbol||{});s.charAt(0)=="_"||s in c||r(c,s,{value:n.f(s)})}},function(l,h,e){var t=e(26),o=e(28),i=e(69)(!1),n=e(87)("IE_PROTO");l.exports=function(r,s){var c,a=o(r),f=0,d=[];for(c in a)c!=n&&t(a,c)&&d.push(c);for(;s.length>f;)t(a,c=s[f++])&&(~i(d,c)||d.push(c));return d}},function(l,h,e){var t=e(19),o=e(12),i=e(46);l.exports=e(18)?Object.defineProperties:function(n,r){o(n);for(var s,c=i(r),a=c.length,f=0;a>f;)t.f(n,s=c[f++],r[s]);return n}},function(l,h,e){var t=e(28),o=e(49).f,i={}.toString,n=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];l.exports.f=function(r){return n&&i.call(r)=="[object Window]"?function(s){try{return o(s)}catch{return n.slice()}}(r):o(t(r))}},function(l,h,e){var t=e(18),o=e(46),i=e(70),n=e(62),r=e(20),s=e(61),c=Object.assign;l.exports=!c||e(11)(function(){var a={},f={},d=Symbol(),p="abcdefghijklmnopqrst";return a[d]=7,p.split("").forEach(function(v){f[v]=v}),c({},a)[d]!=7||Object.keys(c({},f)).join("")!=p})?function(a,f){for(var d=r(a),p=arguments.length,v=1,u=i.f,g=n.f;p>v;)for(var x,E=s(arguments[v++]),S=u?o(E).concat(u(E)):o(E),w=S.length,B=0;w>B;)x=S[B++],t&&!g.call(E,x)||(d[x]=E[x]);return d}:c},function(l,h){l.exports=Object.is||function(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}},function(l,h,e){var t=e(32),o=e(13),i=e(123),n=[].slice,r={},s=function(c,a,f){if(!(a in r)){for(var d=[],p=0;p<a;p++)d[p]="a["+p+"]";r[a]=Function("F,a","return new F("+d.join(",")+")")}return r[a](c,f)};l.exports=Function.bind||function(c){var a=t(this),f=n.call(arguments,1),d=function(){var p=f.concat(n.call(arguments));return this instanceof d?s(a,p.length,p):i(a,p,c)};return o(a.prototype)&&(d.prototype=a.prototype),d}},function(l,h){l.exports=function(e,t,o){var i=o===void 0;switch(t.length){case 0:return i?e():e.call(o);case 1:return i?e(t[0]):e.call(o,t[0]);case 2:return i?e(t[0],t[1]):e.call(o,t[0],t[1]);case 3:return i?e(t[0],t[1],t[2]):e.call(o,t[0],t[1],t[2]);case 4:return i?e(t[0],t[1],t[2],t[3]):e.call(o,t[0],t[1],t[2],t[3])}return e.apply(o,t)}},function(l,h,e){var t=e(10).parseInt,o=e(54).trim,i=e(91),n=/^[-+]?0[xX]/;l.exports=t(i+"08")!==8||t(i+"0x16")!==22?function(r,s){var c=o(String(r),3);return t(c,s>>>0||(n.test(c)?16:10))}:t},function(l,h,e){var t=e(10).parseFloat,o=e(54).trim;l.exports=1/t(e(91)+"-0")!=-1/0?function(i){var n=o(String(i),3),r=t(n);return r===0&&n.charAt(0)=="-"?-0:r}:t},function(l,h,e){var t=e(37);l.exports=function(o,i){if(typeof o!="number"&&t(o)!="Number")throw TypeError(i);return+o}},function(l,h,e){var t=e(13),o=Math.floor;l.exports=function(i){return!t(i)&&isFinite(i)&&o(i)===i}},function(l,h){l.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:Math.log(1+e)}},function(l,h,e){var t=e(48),o=e(43),i=e(53),n={};e(27)(n,e(14)("iterator"),function(){return this}),l.exports=function(r,s,c){r.prototype=t(n,{next:o(1,c)}),i(r,s+" Iterator")}},function(l,h,e){var t=e(12);l.exports=function(o,i,n,r){try{return r?i(t(n)[0],n[1]):i(n)}catch(c){var s=o.return;throw s!==void 0&&t(s.call(o)),c}}},function(l,h,e){var t=e(281);l.exports=function(o,i){return new(t(o))(i)}},function(l,h,e){var t=e(32),o=e(20),i=e(61),n=e(16);l.exports=function(r,s,c,a,f){t(s);var d=o(r),p=i(d),v=n(d.length),u=f?v-1:0,g=f?-1:1;if(c<2)for(;;){if(u in p){a=p[u],u+=g;break}if(u+=g,f?u<0:v<=u)throw TypeError("Reduce of empty array with no initial value")}for(;f?u>=0:v>u;u+=g)u in p&&(a=s(a,p[u],u,d));return a}},function(l,h,e){var t=e(20),o=e(47),i=e(16);l.exports=[].copyWithin||function(n,r){var s=t(this),c=i(s.length),a=o(n,c),f=o(r,c),d=arguments.length>2?arguments[2]:void 0,p=Math.min((d===void 0?c:o(d,c))-f,c-a),v=1;for(f<a&&a<f+p&&(v=-1,f+=p-1,a+=p-1);p-- >0;)f in s?s[a]=s[f]:delete s[a],a+=v,f+=v;return s}},function(l,h){l.exports=function(e,t){return{value:t,done:!!e}}},function(l,h,e){var t=e(106);e(0)({target:"RegExp",proto:!0,forced:t!==/./.exec},{exec:t})},function(l,h,e){e(18)&&/./g.flags!="g"&&e(19).f(RegExp.prototype,"flags",{configurable:!0,get:e(73)})},function(l,h,e){var t,o,i,n,r=e(45),s=e(10),c=e(31),a=e(63),f=e(0),d=e(13),p=e(32),v=e(57),u=e(76),g=e(64),x=e(108).set,E=e(301)(),S=e(138),w=e(302),B=e(77),_=e(139),O=s.TypeError,b=s.process,T=b&&b.versions,m=T&&T.v8||"",y=s.Promise,I=a(b)=="process",R=function(){},M=o=S.f,C=!!function(){try{var P=y.resolve(1),j=(P.constructor={})[e(14)("species")]=function(H){H(R,R)};return(I||typeof PromiseRejectionEvent=="function")&&P.then(R)instanceof j&&m.indexOf("6.6")!==0&&B.indexOf("Chrome/66")===-1}catch{}}(),k=function(P){var j;return!(!d(P)||typeof(j=P.then)!="function")&&j},A=function(P,j){if(!P._n){P._n=!0;var H=P._c;E(function(){for(var z=P._v,W=P._s==1,K=0,Y=function($){var ee,te,V,q=W?$.ok:$.fail,ae=$.resolve,Q=$.reject,re=$.domain;try{q?(W||(P._h==2&&L(P),P._h=1),q===!0?ee=z:(re&&re.enter(),ee=q(z),re&&(re.exit(),V=!0)),ee===$.promise?Q(O("Promise-chain cycle")):(te=k(ee))?te.call(ee,ae,Q):ae(ee)):Q(z)}catch(de){re&&!V&&re.exit(),Q(de)}};H.length>K;)Y(H[K++]);P._c=[],P._n=!1,j&&!P._h&&N(P)})}},N=function(P){x.call(s,function(){var j,H,z,W=P._v,K=D(P);if(K&&(j=w(function(){I?b.emit("unhandledRejection",W,P):(H=s.onunhandledrejection)?H({promise:P,reason:W}):(z=s.console)&&z.error&&z.error("Unhandled promise rejection",W)}),P._h=I||D(P)?2:1),P._a=void 0,K&&j.e)throw j.v})},D=function(P){return P._h!==1&&(P._a||P._c).length===0},L=function(P){x.call(s,function(){var j;I?b.emit("rejectionHandled",P):(j=s.onrejectionhandled)&&j({promise:P,reason:P._v})})},F=function(P){var j=this;j._d||(j._d=!0,(j=j._w||j)._v=P,j._s=2,j._a||(j._a=j._c.slice()),A(j,!0))},U=function(P){var j,H=this;if(!H._d){H._d=!0,H=H._w||H;try{if(H===P)throw O("Promise can't be resolved itself");(j=k(P))?E(function(){var z={_w:H,_d:!1};try{j.call(P,c(U,z,1),c(F,z,1))}catch(W){F.call(z,W)}}):(H._v=P,H._s=1,A(H,!1))}catch(z){F.call({_w:H,_d:!1},z)}}};C||(y=function(P){v(this,y,"Promise","_h"),p(P),t.call(this);try{P(c(U,this,1),c(F,this,1))}catch(j){F.call(this,j)}},(t=function(P){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=e(58)(y.prototype,{then:function(P,j){var H=M(g(this,y));return H.ok=typeof P!="function"||P,H.fail=typeof j=="function"&&j,H.domain=I?b.domain:void 0,this._c.push(H),this._a&&this._a.push(H),this._s&&A(this,!1),H.promise},catch:function(P){return this.then(void 0,P)}}),i=function(){var P=new t;this.promise=P,this.resolve=c(U,P,1),this.reject=c(F,P,1)},S.f=M=function(P){return P===y||P===n?new i(P):o(P)}),f(f.G+f.W+f.F*!C,{Promise:y}),e(53)(y,"Promise"),e(56)("Promise"),n=e(17).Promise,f(f.S+f.F*!C,"Promise",{reject:function(P){var j=M(this);return(0,j.reject)(P),j.promise}}),f(f.S+f.F*(r||!C),"Promise",{resolve:function(P){return _(r&&this===n?y:this,P)}}),f(f.S+f.F*!(C&&e(72)(function(P){y.all(P).catch(R)})),"Promise",{all:function(P){var j=this,H=M(j),z=H.resolve,W=H.reject,K=w(function(){var Y=[],$=0,ee=1;u(P,!1,function(te){var V=$++,q=!1;Y.push(void 0),ee++,j.resolve(te).then(function(ae){q||(q=!0,Y[V]=ae,--ee||z(Y))},W)}),--ee||z(Y)});return K.e&&W(K.v),H.promise},race:function(P){var j=this,H=M(j),z=H.reject,W=w(function(){u(P,!1,function(K){j.resolve(K).then(H.resolve,z)})});return W.e&&z(W.v),H.promise}})},function(l,h,e){var t=e(32);function o(i){var n,r;this.promise=new i(function(s,c){if(n!==void 0||r!==void 0)throw TypeError("Bad Promise constructor");n=s,r=c}),this.resolve=t(n),this.reject=t(r)}l.exports.f=function(i){return new o(i)}},function(l,h,e){var t=e(12),o=e(13),i=e(138);l.exports=function(n,r){if(t(n),o(r)&&r.constructor===n)return r;var s=i.f(n);return(0,s.resolve)(r),s.promise}},function(l,h,e){var t=e(19).f,o=e(48),i=e(58),n=e(31),r=e(57),s=e(76),c=e(97),a=e(134),f=e(56),d=e(18),p=e(41).fastKey,v=e(52),u=d?"_s":"size",g=function(x,E){var S,w=p(E);if(w!=="F")return x._i[w];for(S=x._f;S;S=S.n)if(S.k==E)return S};l.exports={getConstructor:function(x,E,S,w){var B=x(function(_,O){r(_,B,E,"_i"),_._t=E,_._i=o(null),_._f=void 0,_._l=void 0,_[u]=0,O!=null&&s(O,S,_[w],_)});return i(B.prototype,{clear:function(){for(var _=v(this,E),O=_._i,b=_._f;b;b=b.n)b.r=!0,b.p&&(b.p=b.p.n=void 0),delete O[b.i];_._f=_._l=void 0,_[u]=0},delete:function(_){var O=v(this,E),b=g(O,_);if(b){var T=b.n,m=b.p;delete O._i[b.i],b.r=!0,m&&(m.n=T),T&&(T.p=m),O._f==b&&(O._f=T),O._l==b&&(O._l=m),O[u]--}return!!b},forEach:function(_){v(this,E);for(var O,b=n(_,arguments.length>1?arguments[1]:void 0,3);O=O?O.n:this._f;)for(b(O.v,O.k,this);O&&O.r;)O=O.p},has:function(_){return!!g(v(this,E),_)}}),d&&t(B.prototype,"size",{get:function(){return v(this,E)[u]}}),B},def:function(x,E,S){var w,B,_=g(x,E);return _?_.v=S:(x._l=_={i:B=p(E,!0),k:E,v:S,p:w=x._l,n:void 0,r:!1},x._f||(x._f=_),w&&(w.n=_),x[u]++,B!=="F"&&(x._i[B]=_)),x},getEntry:g,setStrong:function(x,E,S){c(x,E,function(w,B){this._t=v(w,E),this._k=B,this._l=void 0},function(){for(var w=this._k,B=this._l;B&&B.r;)B=B.p;return this._t&&(this._l=B=B?B.n:this._t._f)?a(0,w=="keys"?B.k:w=="values"?B.v:[B.k,B.v]):(this._t=void 0,a(1))},S?"entries":"values",!S,!0),f(E)}}},function(l,h,e){var t=e(58),o=e(41).getWeak,i=e(12),n=e(13),r=e(57),s=e(76),c=e(36),a=e(26),f=e(52),d=c(5),p=c(6),v=0,u=function(E){return E._l||(E._l=new g)},g=function(){this.a=[]},x=function(E,S){return d(E.a,function(w){return w[0]===S})};g.prototype={get:function(E){var S=x(this,E);if(S)return S[1]},has:function(E){return!!x(this,E)},set:function(E,S){var w=x(this,E);w?w[1]=S:this.a.push([E,S])},delete:function(E){var S=p(this.a,function(w){return w[0]===E});return~S&&this.a.splice(S,1),!!~S}},l.exports={getConstructor:function(E,S,w,B){var _=E(function(O,b){r(O,_,S,"_i"),O._t=S,O._i=v++,O._l=void 0,b!=null&&s(b,w,O[B],O)});return t(_.prototype,{delete:function(O){if(!n(O))return!1;var b=o(O);return b===!0?u(f(this,S)).delete(O):b&&a(b,this._i)&&delete b[this._i]},has:function(O){if(!n(O))return!1;var b=o(O);return b===!0?u(f(this,S)).has(O):b&&a(b,this._i)}}),_},def:function(E,S,w){var B=o(i(S),!0);return B===!0?u(E).set(S,w):B[E._i]=w,E},ufstore:u}},function(l,h,e){var t=e(33),o=e(16);l.exports=function(i){if(i===void 0)return 0;var n=t(i),r=o(n);if(n!==r)throw RangeError("Wrong length!");return r}},function(l,h,e){var t=e(49),o=e(70),i=e(12),n=e(10).Reflect;l.exports=n&&n.ownKeys||function(r){var s=t.f(i(r)),c=o.f;return c?s.concat(c(r)):s}},function(l,h,e){var t=e(16),o=e(93),i=e(38);l.exports=function(n,r,s,c){var a=String(i(n)),f=a.length,d=s===void 0?" ":String(s),p=t(r);if(p<=f||d=="")return a;var v=p-f,u=o.call(d,Math.ceil(v/d.length));return u.length>v&&(u=u.slice(0,v)),c?u+a:a+u}},function(l,h,e){var t=e(18),o=e(46),i=e(28),n=e(62).f;l.exports=function(r){return function(s){for(var c,a=i(s),f=o(a),d=f.length,p=0,v=[];d>p;)c=f[p++],t&&!n.call(a,c)||v.push(r?[c,a[c]]:a[c]);return v}}},function(l,h,e){var t=function(o){var i=Object.prototype,n=i.hasOwnProperty,r=typeof Symbol=="function"?Symbol:{},s=r.iterator||"@@iterator",c=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function f(R,M,C,k){var A=M&&M.prototype instanceof v?M:v,N=Object.create(A.prototype),D=new m(k||[]);return N._invoke=function(L,F,U){var P="suspendedStart";return function(j,H){if(P==="executing")throw new Error("Generator is already running");if(P==="completed"){if(j==="throw")throw H;return I()}for(U.method=j,U.arg=H;;){var z=U.delegate;if(z){var W=O(z,U);if(W){if(W===p)continue;return W}}if(U.method==="next")U.sent=U._sent=U.arg;else if(U.method==="throw"){if(P==="suspendedStart")throw P="completed",U.arg;U.dispatchException(U.arg)}else U.method==="return"&&U.abrupt("return",U.arg);P="executing";var K=d(L,F,U);if(K.type==="normal"){if(P=U.done?"completed":"suspendedYield",K.arg===p)continue;return{value:K.arg,done:U.done}}K.type==="throw"&&(P="completed",U.method="throw",U.arg=K.arg)}}}(R,C,D),N}function d(R,M,C){try{return{type:"normal",arg:R.call(M,C)}}catch(k){return{type:"throw",arg:k}}}o.wrap=f;var p={};function v(){}function u(){}function g(){}var x={};x[s]=function(){return this};var E=Object.getPrototypeOf,S=E&&E(E(y([])));S&&S!==i&&n.call(S,s)&&(x=S);var w=g.prototype=v.prototype=Object.create(x);function B(R){["next","throw","return"].forEach(function(M){R[M]=function(C){return this._invoke(M,C)}})}function _(R,M){var C;this._invoke=function(k,A){function N(){return new M(function(D,L){(function F(U,P,j,H){var z=d(R[U],R,P);if(z.type!=="throw"){var W=z.arg,K=W.value;return K&&typeof K=="object"&&n.call(K,"__await")?M.resolve(K.__await).then(function(Y){F("next",Y,j,H)},function(Y){F("throw",Y,j,H)}):M.resolve(K).then(function(Y){W.value=Y,j(W)},function(Y){return F("throw",Y,j,H)})}H(z.arg)})(k,A,D,L)})}return C=C?C.then(N,N):N()}}function O(R,M){var C=R.iterator[M.method];if(C===void 0){if(M.delegate=null,M.method==="throw"){if(R.iterator.return&&(M.method="return",M.arg=void 0,O(R,M),M.method==="throw"))return p;M.method="throw",M.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var k=d(C,R.iterator,M.arg);if(k.type==="throw")return M.method="throw",M.arg=k.arg,M.delegate=null,p;var A=k.arg;return A?A.done?(M[R.resultName]=A.value,M.next=R.nextLoc,M.method!=="return"&&(M.method="next",M.arg=void 0),M.delegate=null,p):A:(M.method="throw",M.arg=new TypeError("iterator result is not an object"),M.delegate=null,p)}function b(R){var M={tryLoc:R[0]};1 in R&&(M.catchLoc=R[1]),2 in R&&(M.finallyLoc=R[2],M.afterLoc=R[3]),this.tryEntries.push(M)}function T(R){var M=R.completion||{};M.type="normal",delete M.arg,R.completion=M}function m(R){this.tryEntries=[{tryLoc:"root"}],R.forEach(b,this),this.reset(!0)}function y(R){if(R){var M=R[s];if(M)return M.call(R);if(typeof R.next=="function")return R;if(!isNaN(R.length)){var C=-1,k=function A(){for(;++C<R.length;)if(n.call(R,C))return A.value=R[C],A.done=!1,A;return A.value=void 0,A.done=!0,A};return k.next=k}}return{next:I}}function I(){return{value:void 0,done:!0}}return u.prototype=w.constructor=g,g.constructor=u,g[a]=u.displayName="GeneratorFunction",o.isGeneratorFunction=function(R){var M=typeof R=="function"&&R.constructor;return!!M&&(M===u||(M.displayName||M.name)==="GeneratorFunction")},o.mark=function(R){return Object.setPrototypeOf?Object.setPrototypeOf(R,g):(R.__proto__=g,a in R||(R[a]="GeneratorFunction")),R.prototype=Object.create(w),R},o.awrap=function(R){return{__await:R}},B(_.prototype),_.prototype[c]=function(){return this},o.AsyncIterator=_,o.async=function(R,M,C,k,A){A===void 0&&(A=Promise);var N=new _(f(R,M,C,k),A);return o.isGeneratorFunction(M)?N:N.next().then(function(D){return D.done?D.value:N.next()})},B(w),w[a]="Generator",w[s]=function(){return this},w.toString=function(){return"[object Generator]"},o.keys=function(R){var M=[];for(var C in R)M.push(C);return M.reverse(),function k(){for(;M.length;){var A=M.pop();if(A in R)return k.value=A,k.done=!1,k}return k.done=!0,k}},o.values=y,m.prototype={constructor:m,reset:function(R){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!R)for(var M in this)M.charAt(0)==="t"&&n.call(this,M)&&!isNaN(+M.slice(1))&&(this[M]=void 0)},stop:function(){this.done=!0;var R=this.tryEntries[0].completion;if(R.type==="throw")throw R.arg;return this.rval},dispatchException:function(R){if(this.done)throw R;var M=this;function C(F,U){return N.type="throw",N.arg=R,M.next=F,U&&(M.method="next",M.arg=void 0),!!U}for(var k=this.tryEntries.length-1;k>=0;--k){var A=this.tryEntries[k],N=A.completion;if(A.tryLoc==="root")return C("end");if(A.tryLoc<=this.prev){var D=n.call(A,"catchLoc"),L=n.call(A,"finallyLoc");if(D&&L){if(this.prev<A.catchLoc)return C(A.catchLoc,!0);if(this.prev<A.finallyLoc)return C(A.finallyLoc)}else if(D){if(this.prev<A.catchLoc)return C(A.catchLoc,!0)}else{if(!L)throw new Error("try statement without catch or finally");if(this.prev<A.finallyLoc)return C(A.finallyLoc)}}}},abrupt:function(R,M){for(var C=this.tryEntries.length-1;C>=0;--C){var k=this.tryEntries[C];if(k.tryLoc<=this.prev&&n.call(k,"finallyLoc")&&this.prev<k.finallyLoc){var A=k;break}}A&&(R==="break"||R==="continue")&&A.tryLoc<=M&&M<=A.finallyLoc&&(A=null);var N=A?A.completion:{};return N.type=R,N.arg=M,A?(this.method="next",this.next=A.finallyLoc,p):this.complete(N)},complete:function(R,M){if(R.type==="throw")throw R.arg;return R.type==="break"||R.type==="continue"?this.next=R.arg:R.type==="return"?(this.rval=this.arg=R.arg,this.method="return",this.next="end"):R.type==="normal"&&M&&(this.next=M),p},finish:function(R){for(var M=this.tryEntries.length-1;M>=0;--M){var C=this.tryEntries[M];if(C.finallyLoc===R)return this.complete(C.completion,C.afterLoc),T(C),p}},catch:function(R){for(var M=this.tryEntries.length-1;M>=0;--M){var C=this.tryEntries[M];if(C.tryLoc===R){var k=C.completion;if(k.type==="throw"){var A=k.arg;T(C)}return A}}throw new Error("illegal catch attempt")},delegateYield:function(R,M,C){return this.delegate={iterator:y(R),resultName:M,nextLoc:C},this.method==="next"&&(this.arg=void 0),p}},o}(l.exports);try{regeneratorRuntime=t}catch{Function("r","regeneratorRuntime = r")(t)}},function(l,h,e){var t=e(148);l.exports=function(o,i){if(o){if(typeof o=="string")return t(o,i);var n=Object.prototype.toString.call(o).slice(8,-1);return n==="Object"&&o.constructor&&(n=o.constructor.name),n==="Map"||n==="Set"?Array.from(n):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?t(o,i):void 0}}},function(l,h){l.exports=function(e,t){(t==null||t>e.length)&&(t=e.length);for(var o=0,i=new Array(t);o<t;o++)i[o]=e[o];return i}},function(l){l.exports=JSON.parse('{"ui":{"blockTunes":{"toggler":{"Click to tune":"","or drag to move":""}},"inlineToolbar":{"converter":{"Convert to":""}},"toolbar":{"toolbox":{"Add":""}}},"toolNames":{"Text":"","Link":"","Bold":"","Italic":""},"tools":{"link":{"Add a link":""},"stub":{"The block can not be displayed correctly.":""}},"blockTunes":{"delete":{"Delete":""},"moveUp":{"Move up":""},"moveDown":{"Move down":""}}}')},function(l,h,e){var t,o,i;o=[h,e(2),e(5),e(6),e(4),e(152)],(i=typeof(t=function(n,r,s,c,a,f){var d=e(1);function p(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.CriticalError=void 0,r=d(r),s=d(s),c=d(c),a=d(a);var v=function(u){(0,s.default)(E,u);var g,x=(g=E,function(){var S,w=(0,a.default)(g);if(p()){var B=(0,a.default)(this).constructor;S=Reflect.construct(w,arguments,B)}else S=w.apply(this,arguments);return(0,c.default)(this,S)});function E(){return(0,r.default)(this,E),x.apply(this,arguments)}return E}((0,(f=d(f)).default)(Error));n.CriticalError=v,v.displayName="CriticalError"})=="function"?t.apply(h,o):t)===void 0||(l.exports=i)},function(l,h){l.exports=function(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(l,h,e){var t=e(4),o=e(110),i=e(371),n=e(372);function r(s){var c=typeof Map=="function"?new Map:void 0;return l.exports=r=function(a){if(a===null||!i(a))return a;if(typeof a!="function")throw new TypeError("Super expression must either be null or a function");if(c!==void 0){if(c.has(a))return c.get(a);c.set(a,f)}function f(){return n(a,arguments,t(this).constructor)}return f.prototype=Object.create(a.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),o(f,a)},r(s)}l.exports=r},function(l,h,e){var t,o,i;o=[h,e(2),e(3),e(5),e(6),e(4),e(7),e(112),e(9)],(i=typeof(t=function(n,r,s,c,a,f,d,p,v){var u=e(8),g=e(1);function x(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=g(r),s=g(s),c=g(c),a=g(a),f=g(f),d=u(d),p=g(p);var E=function(S){(0,c.default)(_,S);var w,B=(w=_,function(){var O,b=(0,f.default)(w);if(x()){var T=(0,f.default)(this).constructor;O=Reflect.construct(b,arguments,T)}else O=b.apply(this,arguments);return(0,a.default)(this,O)});function _(){var O;return(0,r.default)(this,_),(O=B.apply(this,arguments)).insert=function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:O.config.defaultBlock,T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},m=arguments.length>3?arguments[3]:void 0,y=arguments.length>4?arguments[4]:void 0,I=arguments.length>5?arguments[5]:void 0,R=O.Editor.BlockManager.insert({tool:b,data:T,index:m,needToFocus:y,replace:I});return new p.default(R)},O.update=function(b,T){var m=O.Editor.BlockManager,y=m.getBlockById(b);if(y){var I=m.getBlockIndex(y);m.insert({id:y.id,tool:y.name,data:T,index:I,replace:!0,tunes:y.tunes})}else d.log("blocks.update(): Block with passed id was not found","warn")},O}return(0,s.default)(_,[{key:"getBlocksCount",value:function(){return this.Editor.BlockManager.blocks.length}},{key:"getCurrentBlockIndex",value:function(){return this.Editor.BlockManager.currentBlockIndex}},{key:"getBlockIndex",value:function(O){var b=this.Editor.BlockManager.getBlockById(O);if(b)return this.Editor.BlockManager.getBlockIndex(b);d.logLabeled("There is no block with id `"+O+"`","warn")}},{key:"getBlockByIndex",value:function(O){var b=this.Editor.BlockManager.getBlockByIndex(O);if(b!==void 0)return new p.default(b);d.logLabeled("There is no block at index `"+O+"`","warn")}},{key:"getById",value:function(O){var b=this.Editor.BlockManager.getBlockById(O);return b===void 0?(d.logLabeled("There is no block with id `"+O+"`","warn"),null):new p.default(b)}},{key:"swap",value:function(O,b){d.log("`blocks.swap()` method is deprecated and will be removed in the next major release. Use `block.move()` method instead","info"),this.Editor.BlockManager.swap(O,b)}},{key:"move",value:function(O,b){this.Editor.BlockManager.move(O,b)}},{key:"delete",value:function(O){try{this.Editor.BlockManager.removeBlock(O)}catch(b){return void d.logLabeled(b,"warn")}this.Editor.BlockManager.blocks.length===0&&this.Editor.BlockManager.insert(),this.Editor.BlockManager.currentBlock&&this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock,this.Editor.Caret.positions.END),this.Editor.Toolbar.close()}},{key:"clear",value:function(){this.Editor.BlockManager.clear(!0),this.Editor.InlineToolbar.close()}},{key:"render",value:function(O){return this.Editor.BlockManager.clear(),this.Editor.Renderer.render(O.blocks)}},{key:"renderFromHTML",value:function(O){return this.Editor.BlockManager.clear(),this.Editor.Paste.processText(O,!0)}},{key:"stretchBlock",value:function(O){var b=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];d.deprecationAssert(!0,"blocks.stretchBlock()","BlockAPI");var T=this.Editor.BlockManager.getBlockByIndex(O);T&&(T.stretched=b)}},{key:"insertNewBlock",value:function(){d.log("Method blocks.insertNewBlock() is deprecated and it will be removed in the next major release. Use blocks.insert() instead.","warn"),this.insert()}},{key:"methods",get:function(){var O=this;return{clear:function(){return O.clear()},render:function(b){return O.render(b)},renderFromHTML:function(b){return O.renderFromHTML(b)},delete:function(b){return O.delete(b)},swap:function(b,T){return O.swap(b,T)},move:function(b,T){return O.move(b,T)},getBlockByIndex:function(b){return O.getBlockByIndex(b)},getById:function(b){return O.getById(b)},getCurrentBlockIndex:function(){return O.getCurrentBlockIndex()},getBlockIndex:function(b){return O.getBlockIndex(b)},getBlocksCount:function(){return O.getBlocksCount()},stretchBlock:function(b){var T=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return O.stretchBlock(b,T)},insertNewBlock:function(){return O.insertNewBlock()},insert:this.insert,update:this.update}}}]),_}((v=g(v)).default);n.default=E,E.displayName="BlocksAPI",l.exports=h.default})=="function"?t.apply(h,o):t)===void 0||(l.exports=i)},function(l,h,e){var t,o,i;o=[h,e(2),e(3),e(5),e(6),e(4),e(9)],(i=typeof(t=function(n,r,s,c,a,f,d){var p=e(1);function v(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=p(r),s=p(s),c=p(c),a=p(a),f=p(f);var u=function(g){(0,c.default)(S,g);var x,E=(x=S,function(){var w,B=(0,f.default)(x);if(v()){var _=(0,f.default)(this).constructor;w=Reflect.construct(B,arguments,_)}else w=B.apply(this,arguments);return(0,a.default)(this,w)});function S(){var w;return(0,r.default)(this,S),(w=E.apply(this,arguments)).setToFirstBlock=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:w.Editor.Caret.positions.DEFAULT,_=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return!!w.Editor.BlockManager.firstBlock&&(w.Editor.Caret.setToBlock(w.Editor.BlockManager.firstBlock,B,_),!0)},w.setToLastBlock=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:w.Editor.Caret.positions.DEFAULT,_=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return!!w.Editor.BlockManager.lastBlock&&(w.Editor.Caret.setToBlock(w.Editor.BlockManager.lastBlock,B,_),!0)},w.setToPreviousBlock=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:w.Editor.Caret.positions.DEFAULT,_=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return!!w.Editor.BlockManager.previousBlock&&(w.Editor.Caret.setToBlock(w.Editor.BlockManager.previousBlock,B,_),!0)},w.setToNextBlock=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:w.Editor.Caret.positions.DEFAULT,_=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return!!w.Editor.BlockManager.nextBlock&&(w.Editor.Caret.setToBlock(w.Editor.BlockManager.nextBlock,B,_),!0)},w.setToBlock=function(B){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:w.Editor.Caret.positions.DEFAULT,O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return!!w.Editor.BlockManager.blocks[B]&&(w.Editor.Caret.setToBlock(w.Editor.BlockManager.blocks[B],_,O),!0)},w.focus=function(){var B=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return B?w.setToLastBlock(w.Editor.Caret.positions.END):w.setToFirstBlock(w.Editor.Caret.positions.START)},w}return(0,s.default)(S,[{key:"methods",get:function(){return{setToFirstBlock:this.setToFirstBlock,setToLastBlock:this.setToLastBlock,setToPreviousBlock:this.setToPreviousBlock,setToNextBlock:this.setToNextBlock,setToBlock:this.setToBlock,focus:this.focus}}}]),S}((d=p(d)).default);n.default=u,u.displayName="CaretAPI",l.exports=h.default})=="function"?t.apply(h,o):t)===void 0||(l.exports=i)},function(l,h,e){var t,o,i;o=[h,e(2),e(3),e(5),e(6),e(4),e(9)],(i=typeof(t=function(n,r,s,c,a,f,d){var p=e(1);function v(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=p(r),s=p(s),c=p(c),a=p(a),f=p(f);var u=function(g){(0,c.default)(S,g);var x,E=(x=S,function(){var w,B=(0,f.default)(x);if(v()){var _=(0,f.default)(this).constructor;w=Reflect.construct(B,arguments,_)}else w=B.apply(this,arguments);return(0,a.default)(this,w)});function S(){return(0,r.default)(this,S),E.apply(this,arguments)}return(0,s.default)(S,[{key:"on",value:function(w,B){this.eventsDispatcher.on(w,B)}},{key:"emit",value:function(w,B){this.eventsDispatcher.emit(w,B)}},{key:"off",value:function(w,B){this.eventsDispatcher.off(w,B)}},{key:"methods",get:function(){var w=this;return{emit:function(B,_){return w.emit(B,_)},off:function(B,_){return w.off(B,_)},on:function(B,_){return w.on(B,_)}}}}]),S}((d=p(d)).default);n.default=u,u.displayName="EventsAPI",l.exports=h.default})=="function"?t.apply(h,o):t)===void 0||(l.exports=i)},function(l,h,e){var t,o,i;o=[h,e(2),e(3),e(5),e(6),e(4),e(59),e(7),e(9)],(i=typeof(t=function(n,r,s,c,a,f,d,p,v){var u=e(1);function g(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=u(r),s=u(s),c=u(c),a=u(a),f=u(f),d=u(d);var x=function(E){(0,c.default)(B,E);var S,w=(S=B,function(){var _,O=(0,f.default)(S);if(g()){var b=(0,f.default)(this).constructor;_=Reflect.construct(O,arguments,b)}else _=O.apply(this,arguments);return(0,a.default)(this,_)});function B(){return(0,r.default)(this,B),w.apply(this,arguments)}return(0,s.default)(B,[{key:"getMethodsForTool",value:function(_){return Object.assign(this.methods,{t:function(O){return d.default.t(B.getNamespace(_),O)}})}},{key:"methods",get:function(){return{t:function(){(0,p.logLabeled)("I18n.t() method can be accessed only from Tools","warn")}}}}],[{key:"getNamespace",value:function(_){return _.isTune()?"blockTunes.".concat(_.name):"tools.".concat(_.name)}}]),B}((v=u(v)).default);n.default=x,x.displayName="I18nAPI",l.exports=h.default})=="function"?t.apply(h,o):t)===void 0||(l.exports=i)},function(l,h,e){var t,o,i;o=[h,e(2),e(3),e(5),e(6),e(4),e(9)],(i=typeof(t=function(n,r,s,c,a,f,d){var p=e(1);function v(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=p(r),s=p(s),c=p(c),a=p(a),f=p(f);var u=function(g){(0,c.default)(S,g);var x,E=(x=S,function(){var w,B=(0,f.default)(x);if(v()){var _=(0,f.default)(this).constructor;w=Reflect.construct(B,arguments,_)}else w=B.apply(this,arguments);return(0,a.default)(this,w)});function S(){return(0,r.default)(this,S),E.apply(this,arguments)}return(0,s.default)(S,[{key:"open",value:function(){this.Editor.InlineToolbar.tryToShow()}},{key:"close",value:function(){this.Editor.InlineToolbar.close()}},{key:"methods",get:function(){var w=this;return{close:function(){return w.close()},open:function(){return w.open()}}}}]),S}((d=p(d)).default);n.default=u,u.displayName="InlineToolbarAPI",l.exports=h.default})=="function"?t.apply(h,o):t)===void 0||(l.exports=i)},function(l,h,e){var t,o,i;o=[h,e(2),e(3),e(5),e(6),e(4),e(9)],(i=typeof(t=function(n,r,s,c,a,f,d){var p=e(1);function v(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=p(r),s=p(s),c=p(c),a=p(a),f=p(f);var u=function(g){(0,c.default)(S,g);var x,E=(x=S,function(){var w,B=(0,f.default)(x);if(v()){var _=(0,f.default)(this).constructor;w=Reflect.construct(B,arguments,_)}else w=B.apply(this,arguments);return(0,a.default)(this,w)});function S(){return(0,r.default)(this,S),E.apply(this,arguments)}return(0,s.default)(S,[{key:"on",value:function(w,B,_,O){return this.listeners.on(w,B,_,O)}},{key:"off",value:function(w,B,_,O){this.listeners.off(w,B,_,O)}},{key:"offById",value:function(w){this.listeners.offById(w)}},{key:"methods",get:function(){var w=this;return{on:function(B,_,O,b){return w.on(B,_,O,b)},off:function(B,_,O,b){return w.off(B,_,O,b)},offById:function(B){return w.offById(B)}}}}]),S}((d=p(d)).default);n.default=u,u.displayName="ListenersAPI",l.exports=h.default})=="function"?t.apply(h,o):t)===void 0||(l.exports=i)},function(l,h,e){var t,o,i;o=[h,e(2),e(3),e(5),e(6),e(4),e(376),e(9)],(i=typeof(t=function(n,r,s,c,a,f,d,p){var v=e(1);function u(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=v(r),s=v(s),c=v(c),a=v(a),f=v(f),d=v(d);var g=function(x){(0,c.default)(w,x);var E,S=(E=w,function(){var B,_=(0,f.default)(E);if(u()){var O=(0,f.default)(this).constructor;B=Reflect.construct(_,arguments,O)}else B=_.apply(this,arguments);return(0,a.default)(this,B)});function w(B){var _,O=B.config,b=B.eventsDispatcher;return(0,r.default)(this,w),(_=S.call(this,{config:O,eventsDispatcher:b})).notifier=new d.default,_}return(0,s.default)(w,[{key:"show",value:function(B){return this.notifier.show(B)}},{key:"methods",get:function(){var B=this;return{show:function(_){return B.show(_)}}}}]),w}((p=v(p)).default);n.default=g,g.displayName="NotifierAPI",l.exports=h.default})=="function"?t.apply(h,o):t)===void 0||(l.exports=i)},function(l,h,e){var t,o,i;o=[h,e(2),e(3),e(5),e(6),e(4),e(9)],(i=typeof(t=function(n,r,s,c,a,f,d){var p=e(1);function v(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=p(r),s=p(s),c=p(c),a=p(a),f=p(f);var u=function(g){(0,c.default)(S,g);var x,E=(x=S,function(){var w,B=(0,f.default)(x);if(v()){var _=(0,f.default)(this).constructor;w=Reflect.construct(B,arguments,_)}else w=B.apply(this,arguments);return(0,a.default)(this,w)});function S(){return(0,r.default)(this,S),E.apply(this,arguments)}return(0,s.default)(S,[{key:"toggle",value:function(w){return this.Editor.ReadOnly.toggle(w)}},{key:"methods",get:function(){var w=this;return{toggle:function(B){return w.toggle(B)},isEnabled:this.isEnabled}}},{key:"isEnabled",get:function(){return this.Editor.ReadOnly.isEnabled}}]),S}((d=p(d)).default);n.default=u,u.displayName="ReadOnlyAPI",l.exports=h.default})=="function"?t.apply(h,o):t)===void 0||(l.exports=i)},function(l,h,e){var t,o,i;o=[h,e(2),e(3),e(5),e(6),e(4),e(9),e(65)],(i=typeof(t=function(n,r,s,c,a,f,d,p){var v=e(1);function u(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=v(r),s=v(s),c=v(c),a=v(a),f=v(f);var g=function(x){(0,c.default)(w,x);var E,S=(E=w,function(){var B,_=(0,f.default)(E);if(u()){var O=(0,f.default)(this).constructor;B=Reflect.construct(_,arguments,O)}else B=_.apply(this,arguments);return(0,a.default)(this,B)});function w(){return(0,r.default)(this,w),S.apply(this,arguments)}return(0,s.default)(w,[{key:"clean",value:function(B,_){return(0,p.clean)(B,_)}},{key:"methods",get:function(){var B=this;return{clean:function(_,O){return B.clean(_,O)}}}}]),w}((d=v(d)).default);n.default=g,g.displayName="SanitizerAPI",l.exports=h.default})=="function"?t.apply(h,o):t)===void 0||(l.exports=i)},function(l,h,e){var t,o,i;o=[h,e(2),e(3),e(5),e(6),e(4),e(7),e(9)],(i=typeof(t=function(n,r,s,c,a,f,d,p){var v=e(8),u=e(1);function g(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=u(r),s=u(s),c=u(c),a=u(a),f=u(f),d=v(d);var x=function(E){(0,c.default)(B,E);var S,w=(S=B,function(){var _,O=(0,f.default)(S);if(g()){var b=(0,f.default)(this).constructor;_=Reflect.construct(O,arguments,b)}else _=O.apply(this,arguments);return(0,a.default)(this,_)});function B(){return(0,r.default)(this,B),w.apply(this,arguments)}return(0,s.default)(B,[{key:"save",value:function(){var _="Editor's content can not be saved in read-only mode";return this.Editor.ReadOnly.isEnabled?(d.logLabeled(_,"warn"),Promise.reject(new Error(_))):this.Editor.Saver.save()}},{key:"methods",get:function(){var _=this;return{save:function(){return _.save()}}}}]),B}((p=u(p)).default);n.default=x,x.displayName="SaverAPI",l.exports=h.default})=="function"?t.apply(h,o):t)===void 0||(l.exports=i)},function(l,h,e){var t,o,i;o=[h,e(2),e(3),e(5),e(6),e(4),e(25),e(9)],(i=typeof(t=function(n,r,s,c,a,f,d,p){var v=e(1);function u(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=v(r),s=v(s),c=v(c),a=v(a),f=v(f),d=v(d);var g=function(x){(0,c.default)(w,x);var E,S=(E=w,function(){var B,_=(0,f.default)(E);if(u()){var O=(0,f.default)(this).constructor;B=Reflect.construct(_,arguments,O)}else B=_.apply(this,arguments);return(0,a.default)(this,B)});function w(){return(0,r.default)(this,w),S.apply(this,arguments)}return(0,s.default)(w,[{key:"findParentTag",value:function(B,_){return new d.default().findParentTag(B,_)}},{key:"expandToTag",value:function(B){new d.default().expandToTag(B)}},{key:"methods",get:function(){var B=this;return{findParentTag:function(_,O){return B.findParentTag(_,O)},expandToTag:function(_){return B.expandToTag(_)}}}}]),w}((p=v(p)).default);n.default=g,g.displayName="SelectionAPI",l.exports=h.default})=="function"?t.apply(h,o):t)===void 0||(l.exports=i)},function(l,h,e){var t,o,i;o=[h,e(2),e(3),e(5),e(6),e(4),e(9)],(i=typeof(t=function(n,r,s,c,a,f,d){var p=e(1);function v(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=p(r),s=p(s),c=p(c),a=p(a),f=p(f);var u=function(g){(0,c.default)(S,g);var x,E=(x=S,function(){var w,B=(0,f.default)(x);if(v()){var _=(0,f.default)(this).constructor;w=Reflect.construct(B,arguments,_)}else w=B.apply(this,arguments);return(0,a.default)(this,w)});function S(){return(0,r.default)(this,S),E.apply(this,arguments)}return(0,s.default)(S,[{key:"classes",get:function(){return{block:"cdx-block",inlineToolButton:"ce-inline-tool",inlineToolButtonActive:"ce-inline-tool--active",input:"cdx-input",loader:"cdx-loader",button:"cdx-button",settingsButton:"cdx-settings-button",settingsButtonActive:"cdx-settings-button--active"}}}]),S}((d=p(d)).default);n.default=u,u.displayName="StylesAPI",l.exports=h.default})=="function"?t.apply(h,o):t)===void 0||(l.exports=i)},function(l,h,e){var t,o,i;o=[h,e(2),e(3),e(5),e(6),e(4),e(9),e(7)],(i=typeof(t=function(n,r,s,c,a,f,d,p){var v=e(8),u=e(1);function g(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=u(r),s=u(s),c=u(c),a=u(a),f=u(f),d=u(d),p=v(p);var x=function(E){(0,c.default)(B,E);var S,w=(S=B,function(){var _,O=(0,f.default)(S);if(g()){var b=(0,f.default)(this).constructor;_=Reflect.construct(O,arguments,b)}else _=O.apply(this,arguments);return(0,a.default)(this,_)});function B(){return(0,r.default)(this,B),w.apply(this,arguments)}return(0,s.default)(B,[{key:"open",value:function(){this.Editor.Toolbar.moveAndOpen()}},{key:"close",value:function(){this.Editor.Toolbar.close()}},{key:"toggleBlockSettings",value:function(_){this.Editor.BlockManager.currentBlockIndex!==-1?(_!=null?_:!this.Editor.BlockSettings.opened)?(this.Editor.Toolbar.moveAndOpen(),this.Editor.BlockSettings.open()):this.Editor.BlockSettings.close():p.logLabeled("Could't toggle the Toolbar because there is no block selected ","warn")}},{key:"methods",get:function(){var _=this;return{close:function(){return _.close()},open:function(){return _.open()},toggleBlockSettings:function(O){return _.toggleBlockSettings(O)}}}}]),B}(d.default);n.default=x,x.displayName="ToolbarAPI",l.exports=h.default})=="function"?t.apply(h,o):t)===void 0||(l.exports=i)},function(l,h,e){var t,o,i;o=[h,e(2),e(3),e(5),e(6),e(4),e(9),e(82)],(i=typeof(t=function(n,r,s,c,a,f,d,p){var v=e(1);function u(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=v(r),s=v(s),c=v(c),a=v(a),f=v(f),d=v(d),p=v(p);var g=function(x){(0,c.default)(w,x);var E,S=(E=w,function(){var B,_=(0,f.default)(E);if(u()){var O=(0,f.default)(this).constructor;B=Reflect.construct(_,arguments,O)}else B=_.apply(this,arguments);return(0,a.default)(this,B)});function w(B){var _,O=B.config,b=B.eventsDispatcher;return(0,r.default)(this,w),(_=S.call(this,{config:O,eventsDispatcher:b})).tooltip=new p.default,_}return(0,s.default)(w,[{key:"destroy",value:function(){this.tooltip.destroy()}},{key:"show",value:function(B,_,O){this.tooltip.show(B,_,O)}},{key:"hide",value:function(){this.tooltip.hide()}},{key:"onHover",value:function(B,_,O){this.tooltip.onHover(B,_,O)}},{key:"methods",get:function(){var B=this;return{show:function(_,O,b){return B.show(_,O,b)},hide:function(){return B.hide()},onHover:function(_,O,b){return B.onHover(_,O,b)}}}}]),w}(d.default);n.default=g,g.displayName="TooltipAPI",l.exports=h.default})=="function"?t.apply(h,o):t)===void 0||(l.exports=i)},function(l,h,e){var t,o,i;o=[h,e(2),e(3),e(5),e(6),e(4),e(9)],(i=typeof(t=function(n,r,s,c,a,f,d){var p=e(1);function v(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=p(r),s=p(s),c=p(c),a=p(a),f=p(f);var u=function(g){(0,c.default)(S,g);var x,E=(x=S,function(){var w,B=(0,f.default)(x);if(v()){var _=(0,f.default)(this).constructor;w=Reflect.construct(B,arguments,_)}else w=B.apply(this,arguments);return(0,a.default)(this,w)});function S(){return(0,r.default)(this,S),E.apply(this,arguments)}return(0,s.default)(S,[{key:"methods",get:function(){return{nodes:this.editorNodes}}},{key:"editorNodes",get:function(){return{wrapper:this.Editor.UI.nodes.wrapper,redactor:this.Editor.UI.nodes.redactor}}}]),S}((d=p(d)).default);n.default=u,u.displayName="UiAPI",l.exports=h.default})=="function"?t.apply(h,o):t)===void 0||(l.exports=i)},function(l,h,e){var t,o,i;o=[h,e(2),e(3),e(5),e(6),e(4),e(9),e(7),e(25),e(60)],(i=typeof(t=function(n,r,s,c,a,f,d,p,v,u){var g=e(8),x=e(1);function E(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=x(r),s=x(s),c=x(c),a=x(a),f=x(f),d=x(d),p=g(p),v=x(v),u=x(u);var S=function(w){(0,c.default)(O,w);var B,_=(B=O,function(){var b,T=(0,f.default)(B);if(E()){var m=(0,f.default)(this).constructor;b=Reflect.construct(T,arguments,m)}else b=T.apply(this,arguments);return(0,a.default)(this,b)});function O(){return(0,r.default)(this,O),_.apply(this,arguments)}return(0,s.default)(O,[{key:"keydown",value:function(b){switch(this.beforeKeydownProcessing(b),b.keyCode){case p.keyCodes.BACKSPACE:this.backspace(b);break;case p.keyCodes.ENTER:this.enter(b);break;case p.keyCodes.DOWN:case p.keyCodes.RIGHT:this.arrowRightAndDown(b);break;case p.keyCodes.UP:case p.keyCodes.LEFT:this.arrowLeftAndUp(b);break;case p.keyCodes.TAB:this.tabPressed(b)}}},{key:"beforeKeydownProcessing",value:function(b){this.needToolbarClosing(b)&&p.isPrintableKey(b.keyCode)&&(this.Editor.Toolbar.close(),this.Editor.ConversionToolbar.close(),b.ctrlKey||b.metaKey||b.altKey||b.shiftKey||(this.Editor.BlockManager.clearFocused(),this.Editor.BlockSelection.clearSelection(b)))}},{key:"keyup",value:function(b){b.shiftKey||this.Editor.UI.checkEmptiness()}},{key:"tabPressed",value:function(b){this.Editor.BlockSelection.clearSelection(b);var T=this.Editor,m=T.BlockManager,y=T.InlineToolbar,I=T.ConversionToolbar,R=m.currentBlock;if(R){var M=R.isEmpty,C=R.tool.isDefault&&M,k=!M&&I.opened,A=!M&&!v.default.isCollapsed&&y.opened;C?this.activateToolbox():k||A||this.activateBlockSettings()}}},{key:"dragOver",value:function(b){this.Editor.BlockManager.getBlockByChildNode(b.target).dropTarget=!0}},{key:"dragLeave",value:function(b){this.Editor.BlockManager.getBlockByChildNode(b.target).dropTarget=!1}},{key:"handleCommandC",value:function(b){var T=this.Editor.BlockSelection;T.anyBlockSelected&&T.copySelectedBlocks(b)}},{key:"handleCommandX",value:function(b){var T=this.Editor,m=T.BlockSelection,y=T.BlockManager,I=T.Caret;m.anyBlockSelected&&m.copySelectedBlocks(b).then(function(){var R=y.removeSelectedBlocks(),M=y.insertDefaultBlockAtIndex(R,!0);I.setToBlock(M,I.positions.START),m.clearSelection(b)})}},{key:"enter",value:function(b){var T=this.Editor,m=T.BlockManager,y=T.UI;if(!m.currentBlock.tool.isLineBreaksEnabled&&!(y.someToolbarOpened&&y.someFlipperButtonFocused||b.shiftKey)){var I=this.Editor.BlockManager.currentBlock;this.Editor.Caret.isAtStart&&!this.Editor.BlockManager.currentBlock.hasMedia?this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex):I=this.Editor.BlockManager.split(),this.Editor.Caret.setToBlock(I),this.Editor.Toolbar.moveAndOpen(I),b.preventDefault()}}},{key:"backspace",value:function(b){var T=this.Editor,m=T.BlockManager,y=T.BlockSelection,I=T.Caret,R=m.currentBlock,M=R.tool;if(R.selected||R.isEmpty&&R.currentInput===R.firstInput){b.preventDefault();var C=m.currentBlockIndex;return m.previousBlock&&m.previousBlock.inputs.length===0?m.removeBlock(C-1):m.removeBlock(),I.setToBlock(m.currentBlock,C?I.positions.END:I.positions.START),this.Editor.Toolbar.close(),void y.clearSelection(b)}if(!M.isLineBreaksEnabled||I.isAtStart){var k=m.currentBlockIndex===0;I.isAtStart&&v.default.isCollapsed&&R.currentInput===R.firstInput&&!k&&(b.preventDefault(),this.mergeBlocks())}}},{key:"mergeBlocks",value:function(){var b=this.Editor,T=b.BlockManager,m=b.Caret,y=b.Toolbar,I=T.previousBlock,R=T.currentBlock;if(R.name!==I.name||!I.mergeable)return I.inputs.length===0||I.isEmpty?(T.removeBlock(T.currentBlockIndex-1),m.setToBlock(T.currentBlock),void y.close()):void(m.navigatePrevious()&&y.close());m.createShadow(I.pluginsContent),T.mergeBlocks(I,R).then(function(){m.restoreCaret(I.pluginsContent),I.pluginsContent.normalize(),y.close()})}},{key:"arrowRightAndDown",value:function(b){var T=this,m=u.default.usedKeys.includes(b.keyCode)&&(!b.shiftKey||b.keyCode===p.keyCodes.TAB);if(!this.Editor.UI.someToolbarOpened||!m){this.Editor.BlockManager.clearFocused(),this.Editor.Toolbar.close();var y=this.Editor.Caret.isAtEnd||this.Editor.BlockSelection.anyBlockSelected;b.shiftKey&&b.keyCode===p.keyCodes.DOWN&&y?this.Editor.CrossBlockSelection.toggleBlockSelectedState():((b.keyCode===p.keyCodes.DOWN||b.keyCode===p.keyCodes.RIGHT&&!this.isRtl?this.Editor.Caret.navigateNext():this.Editor.Caret.navigatePrevious())?b.preventDefault():p.delay(function(){T.Editor.BlockManager.currentBlock&&T.Editor.BlockManager.currentBlock.updateCurrentInput()},20)(),this.Editor.BlockSelection.clearSelection(b))}}},{key:"arrowLeftAndUp",value:function(b){var T=this;if(this.Editor.UI.someToolbarOpened){if(u.default.usedKeys.includes(b.keyCode)&&(!b.shiftKey||b.keyCode===p.keyCodes.TAB))return;this.Editor.UI.closeAllToolbars()}this.Editor.BlockManager.clearFocused(),this.Editor.Toolbar.close();var m=this.Editor.Caret.isAtStart||this.Editor.BlockSelection.anyBlockSelected;b.shiftKey&&b.keyCode===p.keyCodes.UP&&m?this.Editor.CrossBlockSelection.toggleBlockSelectedState(!1):((b.keyCode===p.keyCodes.UP||b.keyCode===p.keyCodes.LEFT&&!this.isRtl?this.Editor.Caret.navigatePrevious():this.Editor.Caret.navigateNext())?b.preventDefault():p.delay(function(){T.Editor.BlockManager.currentBlock&&T.Editor.BlockManager.currentBlock.updateCurrentInput()},20)(),this.Editor.BlockSelection.clearSelection(b))}},{key:"needToolbarClosing",value:function(b){var T=b.keyCode===p.keyCodes.ENTER&&this.Editor.Toolbar.toolbox.opened,m=b.keyCode===p.keyCodes.ENTER&&this.Editor.BlockSettings.opened,y=b.keyCode===p.keyCodes.ENTER&&this.Editor.InlineToolbar.opened,I=b.keyCode===p.keyCodes.ENTER&&this.Editor.ConversionToolbar.opened,R=b.keyCode===p.keyCodes.TAB;return!(b.shiftKey||R||T||m||y||I)}},{key:"activateToolbox",value:function(){this.Editor.Toolbar.opened||this.Editor.Toolbar.moveAndOpen(),this.Editor.Toolbar.toolbox.open()}},{key:"activateBlockSettings",value:function(){this.Editor.Toolbar.opened||(this.Editor.BlockManager.currentBlock.focused=!0,this.Editor.Toolbar.moveAndOpen()),this.Editor.BlockSettings.opened||this.Editor.BlockSettings.open()}}]),O}(d.default);n.default=S,S.displayName="BlockEvents",l.exports=h.default})=="function"?t.apply(h,o):t)===void 0||(l.exports=i)},function(l,h,e){var t,o,i;o=[h,e(23),e(24),e(2),e(3),e(5),e(6),e(4),e(66),e(9),e(15),e(7),e(382),e(112),e(383)],(i=typeof(t=function(n,r,s,c,a,f,d,p,v,u,g,x,E,S,w){var B=e(8),_=e(1);function O(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=_(r),s=_(s),c=_(c),a=_(a),f=_(f),d=_(d),p=_(p),v=B(v),u=_(u),g=_(g),x=B(x),E=_(E),S=_(S);var b=function(T){(0,f.default)(M,T);var m,y,I,R=(m=M,function(){var C,k=(0,p.default)(m);if(O()){var A=(0,p.default)(this).constructor;C=Reflect.construct(k,arguments,A)}else C=k.apply(this,arguments);return(0,d.default)(this,C)});function M(){var C;return(0,c.default)(this,M),(C=R.apply(this,arguments))._currentBlockIndex=-1,C._blocks=null,C}return(0,a.default)(M,[{key:"prepare",value:function(){var C=this,k=new E.default(this.Editor.UI.nodes.redactor);this._blocks=new Proxy(k,{set:E.default.set,get:E.default.get}),this.listeners.on(document,"copy",function(A){return C.Editor.BlockEvents.handleCommandC(A)})}},{key:"toggleReadOnly",value:function(C){C?this.disableModuleBindings():this.enableModuleBindings()}},{key:"composeBlock",value:function(C){var k=C.tool,A=C.data,N=A===void 0?{}:A,D=C.id,L=D===void 0?void 0:D,F=C.tunes,U=F===void 0?{}:F,P=this.Editor.ReadOnly.isEnabled,j=this.Editor.Tools.blockTools.get(k),H=new v.default({id:L,data:N,tool:j,api:this.Editor.API,readOnly:P,tunesData:U});return P||this.bindBlockEvents(H),H}},{key:"insert",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},k=C.id,A=k===void 0?void 0:k,N=C.tool,D=N===void 0?this.config.defaultBlock:N,L=C.data,F=L===void 0?{}:L,U=C.index,P=C.needToFocus,j=P===void 0||P,H=C.replace,z=H!==void 0&&H,W=C.tunes,K=W===void 0?{}:W,Y=U;Y===void 0&&(Y=this.currentBlockIndex+(z?0:1));var $=this.composeBlock({id:A,tool:D,data:F,tunes:K});return z&&this.blockDidMutated(w.BlockMutationType.Removed,this.getBlockByIndex(Y),{index:Y}),this._blocks.insert(Y,$,z),this.blockDidMutated(w.BlockMutationType.Added,$,{index:Y}),j?this.currentBlockIndex=Y:Y<=this.currentBlockIndex&&this.currentBlockIndex++,$}},{key:"replace",value:function(C){var k=C.tool,A=k===void 0?this.config.defaultBlock:k,N=C.data,D=N===void 0?{}:N;return this.insert({tool:A,data:D,index:this.currentBlockIndex,replace:!0})}},{key:"paste",value:function(C,k){var A=arguments.length>2&&arguments[2]!==void 0&&arguments[2],N=this.insert({tool:C,replace:A});try{N.call(v.BlockToolAPI.ON_PASTE,k)}catch(D){x.log("".concat(C,": onPaste callback call is failed"),"error",D)}return N}},{key:"insertDefaultBlockAtIndex",value:function(C){var k=arguments.length>1&&arguments[1]!==void 0&&arguments[1],A=this.composeBlock({tool:this.config.defaultBlock});return this._blocks[C]=A,this.blockDidMutated(w.BlockMutationType.Added,A,{index:C}),k?this.currentBlockIndex=C:C<=this.currentBlockIndex&&this.currentBlockIndex++,A}},{key:"insertAtEnd",value:function(){return this.currentBlockIndex=this.blocks.length-1,this.insert()}},{key:"mergeBlocks",value:(I=(0,s.default)(r.default.mark(function C(k,A){var N,D;return r.default.wrap(function(L){for(;;)switch(L.prev=L.next){case 0:if(N=this._blocks.indexOf(A),!A.isEmpty){L.next=3;break}return L.abrupt("return");case 3:return L.next=5,A.data;case 5:if(D=L.sent,x.isEmpty(D)){L.next=9;break}return L.next=9,k.mergeWith(D);case 9:this.removeBlock(N),this.currentBlockIndex=this._blocks.indexOf(k);case 11:case"end":return L.stop()}},C,this)})),function(C,k){return I.apply(this,arguments)})},{key:"removeBlock",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.currentBlockIndex;if(!this.validateIndex(C))throw new Error("Can't find a Block to remove");var k=this._blocks[C];k.destroy(),this._blocks.remove(C),this.blockDidMutated(w.BlockMutationType.Removed,k,{index:C}),this.currentBlockIndex>=C&&this.currentBlockIndex--,this.blocks.length?C===0&&(this.currentBlockIndex=0):(this.currentBlockIndex=-1,this.insert())}},{key:"removeSelectedBlocks",value:function(){for(var C,k=this.blocks.length-1;k>=0;k--)this.blocks[k].selected&&(this.removeBlock(k),C=k);return C}},{key:"removeAllBlocks",value:function(){for(var C=this.blocks.length-1;C>=0;C--)this._blocks.remove(C);this.currentBlockIndex=-1,this.insert(),this.currentBlock.firstInput.focus()}},{key:"split",value:function(){var C=this.Editor.Caret.extractFragmentFromCaretPosition(),k=g.default.make("div");k.appendChild(C);var A={text:g.default.isEmpty(k)?"":k.innerHTML};return this.insert({data:A})}},{key:"getBlockByIndex",value:function(C){return C===-1&&(C=this._blocks.length-1),this._blocks[C]}},{key:"getBlockIndex",value:function(C){return this._blocks.indexOf(C)}},{key:"getBlockById",value:function(C){return this._blocks.array.find(function(k){return k.id===C})}},{key:"getBlock",value:function(C){g.default.isElement(C)||(C=C.parentNode);var k=this._blocks.nodes,A=C.closest(".".concat(v.default.CSS.wrapper)),N=k.indexOf(A);if(N>=0)return this._blocks[N]}},{key:"highlightCurrentNode",value:function(){this.clearFocused(),this.currentBlock.focused=!0}},{key:"clearFocused",value:function(){this.blocks.forEach(function(C){C.focused=!1})}},{key:"setCurrentBlockByChildNode",value:function(C){g.default.isElement(C)||(C=C.parentNode);var k=C.closest(".".concat(v.default.CSS.wrapper));if(k){var A=k.closest(".".concat(this.Editor.UI.CSS.editorWrapper));if(A!=null&&A.isEqualNode(this.Editor.UI.nodes.wrapper))return this.currentBlockIndex=this._blocks.nodes.indexOf(k),this.currentBlock.updateCurrentInput(),this.currentBlock}}},{key:"getBlockByChildNode",value:function(C){g.default.isElement(C)||(C=C.parentNode);var k=C.closest(".".concat(v.default.CSS.wrapper));return this.blocks.find(function(A){return A.holder===k})}},{key:"swap",value:function(C,k){this._blocks.swap(C,k),this.currentBlockIndex=k}},{key:"move",value:function(C){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.currentBlockIndex;isNaN(C)||isNaN(k)?x.log("Warning during 'move' call: incorrect indices provided.","warn"):this.validateIndex(C)&&this.validateIndex(k)?(this._blocks.move(C,k),this.currentBlockIndex=C,this.blockDidMutated(w.BlockMutationType.Moved,this.currentBlock,{fromIndex:k,toIndex:C})):x.log("Warning during 'move' call: indices cannot be lower than 0 or greater than the amount of blocks.","warn")}},{key:"dropPointer",value:function(){this.currentBlockIndex=-1,this.clearFocused()}},{key:"clear",value:function(){var C=arguments.length>0&&arguments[0]!==void 0&&arguments[0];this._blocks.removeAll(),this.dropPointer(),C&&this.insert(),this.Editor.UI.checkEmptiness()}},{key:"destroy",value:(y=(0,s.default)(r.default.mark(function C(){return r.default.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return k.next=2,Promise.all(this.blocks.map(function(A){return A.destroy()}));case 2:case"end":return k.stop()}},C,this)})),function(){return y.apply(this,arguments)})},{key:"bindBlockEvents",value:function(C){var k=this,A=this.Editor.BlockEvents;this.readOnlyMutableListeners.on(C.holder,"keydown",function(N){A.keydown(N)}),this.readOnlyMutableListeners.on(C.holder,"keyup",function(N){A.keyup(N)}),this.readOnlyMutableListeners.on(C.holder,"dragover",function(N){A.dragOver(N)}),this.readOnlyMutableListeners.on(C.holder,"dragleave",function(N){A.dragLeave(N)}),C.on("didMutated",function(N){return k.blockDidMutated(w.BlockMutationType.Changed,N,{index:k.getBlockIndex(N)})})}},{key:"disableModuleBindings",value:function(){this.readOnlyMutableListeners.clearAll()}},{key:"enableModuleBindings",value:function(){var C=this;this.readOnlyMutableListeners.on(document,"cut",function(k){return C.Editor.BlockEvents.handleCommandX(k)}),this.blocks.forEach(function(k){C.bindBlockEvents(k)})}},{key:"validateIndex",value:function(C){return!(C<0||C>=this._blocks.length)}},{key:"blockDidMutated",value:function(C,k){var A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},N=new CustomEvent(C,{detail:Object.assign({target:new S.default(k)},A)});return this.Editor.ModificationsObserver.onChange(N),k}},{key:"currentBlockIndex",get:function(){return this._currentBlockIndex},set:function(C){this._blocks[this._currentBlockIndex]&&this._blocks[this._currentBlockIndex].willUnselect(),this._blocks[C]&&this._blocks[C].willSelect(),this._currentBlockIndex=C}},{key:"firstBlock",get:function(){return this._blocks[0]}},{key:"lastBlock",get:function(){return this._blocks[this._blocks.length-1]}},{key:"currentBlock",get:function(){return this._blocks[this.currentBlockIndex]},set:function(C){this.currentBlockIndex=this.getBlockIndex(C)}},{key:"nextBlock",get:function(){return this.currentBlockIndex===this._blocks.length-1?null:this._blocks[this.currentBlockIndex+1]}},{key:"nextContentfulBlock",get:function(){return this.blocks.slice(this.currentBlockIndex+1).find(function(C){return!!C.inputs.length})}},{key:"previousContentfulBlock",get:function(){return this.blocks.slice(0,this.currentBlockIndex).reverse().find(function(C){return!!C.inputs.length})}},{key:"previousBlock",get:function(){return this.currentBlockIndex===0?null:this._blocks[this.currentBlockIndex-1]}},{key:"blocks",get:function(){return this._blocks.array}},{key:"isEditorEmpty",get:function(){return this.blocks.every(function(C){return C.isEmpty})}}]),M}(u.default);n.default=b,b.displayName="BlockManager",l.exports=h.default})=="function"?t.apply(h,o):t)===void 0||(l.exports=i)},function(l,h,e){var t,o,i;o=[h,e(2),e(3),e(5),e(6),e(4),e(9),e(7),e(15),e(114),e(25),e(65)],(i=typeof(t=function(n,r,s,c,a,f,d,p,v,u,g,x){var E=e(8),S=e(1);function w(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=S(r),s=S(s),c=S(c),a=S(a),f=S(f),d=S(d),p=E(p),v=S(v),u=S(u),g=S(g);var B=function(_){(0,c.default)(T,_);var O,b=(O=T,function(){var m,y=(0,f.default)(O);if(w()){var I=(0,f.default)(this).constructor;m=Reflect.construct(y,arguments,I)}else m=y.apply(this,arguments);return(0,a.default)(this,m)});function T(){var m;return(0,r.default)(this,T),(m=b.apply(this,arguments)).anyBlockSelectedCache=null,m.needToSelectAll=!1,m.nativeInputSelected=!1,m.readyToBlockSelection=!1,m}return(0,s.default)(T,[{key:"prepare",value:function(){var m=this;this.selection=new g.default,u.default.add({name:"CMD+A",handler:function(y){var I=m.Editor,R=I.BlockManager;if(I.ReadOnly.isEnabled)return y.preventDefault(),void m.selectAllBlocks();R.currentBlock&&m.handleCommandA(y)},on:this.Editor.UI.nodes.redactor})}},{key:"toggleReadOnly",value:function(m){g.default.get().removeAllRanges(),this.allBlocksSelected=!1}},{key:"unSelectBlockByIndex",value:function(m){var y=this.Editor.BlockManager;(isNaN(m)?y.currentBlock:y.getBlockByIndex(m)).selected=!1,this.clearCache()}},{key:"clearSelection",value:function(m){var y=arguments.length>1&&arguments[1]!==void 0&&arguments[1],I=this.Editor,R=I.BlockManager,M=I.Caret,C=I.RectangleSelection;this.needToSelectAll=!1,this.nativeInputSelected=!1,this.readyToBlockSelection=!1;var k=m&&m instanceof KeyboardEvent,A=k&&p.isPrintableKey(m.keyCode);if(this.anyBlockSelected&&k&&A&&!g.default.isSelectionExists){var N=R.removeSelectedBlocks();R.insertDefaultBlockAtIndex(N,!0),M.setToBlock(R.currentBlock),p.delay(function(){var D=m.key;M.insertContentAtCaretPosition(D.length>1?"":D)},20)()}this.Editor.CrossBlockSelection.clear(m),this.anyBlockSelected&&!C.isRectActivated()?(y&&this.selection.restore(),this.allBlocksSelected=!1):this.Editor.RectangleSelection.clearSelection()}},{key:"copySelectedBlocks",value:function(m){var y=this;m.preventDefault();var I=v.default.make("div");this.selectedBlocks.forEach(function(C){var k=(0,x.clean)(C.holder.innerHTML,y.sanitizerConfig),A=v.default.make("p");A.innerHTML=k,I.appendChild(A)});var R=Array.from(I.childNodes).map(function(C){return C.textContent}).join(`

`),M=I.innerHTML;return m.clipboardData.setData("text/plain",R),m.clipboardData.setData("text/html",M),Promise.all(this.selectedBlocks.map(function(C){return C.save()})).then(function(C){try{m.clipboardData.setData(y.Editor.Paste.MIME_TYPE,JSON.stringify(C))}catch{}})}},{key:"selectBlockByIndex",value:function(m){var y,I=this.Editor.BlockManager;I.clearFocused(),y=isNaN(m)?I.currentBlock:I.getBlockByIndex(m),this.selection.save(),g.default.get().removeAllRanges(),y.selected=!0,this.clearCache(),this.Editor.InlineToolbar.close()}},{key:"clearCache",value:function(){this.anyBlockSelectedCache=null}},{key:"destroy",value:function(){u.default.remove(this.Editor.UI.nodes.redactor,"CMD+A")}},{key:"handleCommandA",value:function(m){if(this.Editor.RectangleSelection.clearSelection(),!v.default.isNativeInput(m.target)||this.readyToBlockSelection){var y=this.Editor.BlockManager.getBlock(m.target).inputs;y.length>1&&!this.readyToBlockSelection?this.readyToBlockSelection=!0:y.length!==1||this.needToSelectAll?this.needToSelectAll?(m.preventDefault(),this.selectAllBlocks(),this.needToSelectAll=!1,this.readyToBlockSelection=!1,this.Editor.ConversionToolbar.close()):this.readyToBlockSelection&&(m.preventDefault(),this.selectBlockByIndex(),this.needToSelectAll=!0):this.needToSelectAll=!0}else this.readyToBlockSelection=!0}},{key:"selectAllBlocks",value:function(){this.selection.save(),g.default.get().removeAllRanges(),this.allBlocksSelected=!0,this.Editor.InlineToolbar.close()}},{key:"sanitizerConfig",get:function(){return{p:{},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},ol:{},ul:{},li:{},br:!0,img:{src:!0,width:!0,height:!0},a:{href:!0},b:{},i:{},u:{}}}},{key:"allBlocksSelected",get:function(){return this.Editor.BlockManager.blocks.every(function(m){return m.selected===!0})},set:function(m){this.Editor.BlockManager.blocks.forEach(function(y){y.selected=m}),this.clearCache()}},{key:"anyBlockSelected",get:function(){var m=this.Editor.BlockManager;return this.anyBlockSelectedCache===null&&(this.anyBlockSelectedCache=m.blocks.some(function(y){return y.selected===!0})),this.anyBlockSelectedCache}},{key:"selectedBlocks",get:function(){return this.Editor.BlockManager.blocks.filter(function(m){return m.selected})}}]),T}(d.default);n.default=B,B.displayName="BlockSelection",l.exports=h.default})=="function"?t.apply(h,o):t)===void 0||(l.exports=i)},function(l,h,e){var t,o,i;o=[h,e(2),e(3),e(5),e(6),e(4),e(25),e(9),e(15),e(7)],(i=typeof(t=function(n,r,s,c,a,f,d,p,v,u){var g=e(8),x=e(1);function E(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=x(r),s=x(s),c=x(c),a=x(a),f=x(f),d=x(d),p=x(p),v=x(v),u=g(u);var S=function(w){(0,c.default)(O,w);var B,_=(B=O,function(){var b,T=(0,f.default)(B);if(E()){var m=(0,f.default)(this).constructor;b=Reflect.construct(T,arguments,m)}else b=T.apply(this,arguments);return(0,a.default)(this,b)});function O(){return(0,r.default)(this,O),_.apply(this,arguments)}return(0,s.default)(O,[{key:"setToBlock",value:function(b){var T,m=this,y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.positions.DEFAULT,I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,R=this.Editor.BlockManager;switch(y){case this.positions.START:T=b.firstInput;break;case this.positions.END:T=b.lastInput;break;default:T=b.currentInput}if(T){var M=v.default.getDeepestNode(T,y===this.positions.END),C=v.default.getContentLength(M);switch(!0){case y===this.positions.START:I=0;break;case y===this.positions.END:case I>C:I=C}u.delay(function(){m.set(M,I)},20)(),R.setCurrentBlockByChildNode(b.holder),R.currentBlock.currentInput=T}}},{key:"setToInput",value:function(b){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.positions.DEFAULT,m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,y=this.Editor.BlockManager.currentBlock,I=v.default.getDeepestNode(b);switch(T){case this.positions.START:this.set(I,0);break;case this.positions.END:this.set(I,v.default.getContentLength(I));break;default:m&&this.set(I,m)}y.currentInput=b}},{key:"set",value:function(b){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,m=d.default.setCursor(b,T),y=m.top,I=m.bottom,R=window,M=R.innerHeight;y<0&&window.scrollBy(0,y),I>M&&window.scrollBy(0,I-M)}},{key:"setToTheLastBlock",value:function(){var b=this.Editor.BlockManager.lastBlock;if(b)if(b.tool.isDefault&&b.isEmpty)this.setToBlock(b);else{var T=this.Editor.BlockManager.insertAtEnd();this.setToBlock(T)}}},{key:"extractFragmentFromCaretPosition",value:function(){var b=d.default.get();if(b.rangeCount){var T=b.getRangeAt(0),m=this.Editor.BlockManager.currentBlock.currentInput;if(T.deleteContents(),m){if(v.default.isNativeInput(m)){var y=m,I=document.createDocumentFragment(),R=y.value.substring(0,y.selectionStart),M=y.value.substring(y.selectionStart);return I.textContent=M,y.value=R,I}var C=T.cloneRange();return C.selectNodeContents(m),C.setStart(T.endContainer,T.endOffset),C.extractContents()}}}},{key:"navigateNext",value:function(){var b=this.Editor.BlockManager,T=b.currentBlock,m=b.nextContentfulBlock,y=T.nextInput,I=this.isAtEnd,R=m;if(!R&&!y){if(T.tool.isDefault||!I)return!1;R=b.insertAtEnd()}return!!I&&(y?this.setToInput(y,this.positions.START):this.setToBlock(R,this.positions.START),!0)}},{key:"navigatePrevious",value:function(){var b=this.Editor.BlockManager,T=b.currentBlock,m=b.previousContentfulBlock;if(!T)return!1;var y=T.previousInput;return!(!m&&!y||!this.isAtStart||(y?this.setToInput(y,this.positions.END):this.setToBlock(m,this.positions.END),0))}},{key:"createShadow",value:function(b){var T=document.createElement("span");T.classList.add(O.CSS.shadowCaret),b.insertAdjacentElement("beforeend",T)}},{key:"restoreCaret",value:function(b){var T=b.querySelector(".".concat(O.CSS.shadowCaret));T&&(new d.default().expandToTag(T),setTimeout(function(){var m=document.createRange();m.selectNode(T),m.extractContents()},50))}},{key:"insertContentAtCaretPosition",value:function(b){var T=document.createDocumentFragment(),m=document.createElement("div"),y=d.default.get(),I=d.default.range;m.innerHTML=b,Array.from(m.childNodes).forEach(function(C){return T.appendChild(C)}),T.childNodes.length===0&&T.appendChild(new Text);var R=T.lastChild;I.deleteContents(),I.insertNode(T);var M=document.createRange();M.setStart(R,R.textContent.length),y.removeAllRanges(),y.addRange(M)}},{key:"getHigherLevelSiblings",value:function(b,T){for(var m=b,y=[];m.parentNode&&m.parentNode.contentEditable!=="true";)m=m.parentNode;for(var I=T==="left"?"previousSibling":"nextSibling";m[I];)m=m[I],y.push(m);return y}},{key:"positions",get:function(){return{START:"start",END:"end",DEFAULT:"default"}}},{key:"isAtStart",get:function(){var b=d.default.get(),T=v.default.getDeepestNode(this.Editor.BlockManager.currentBlock.currentInput),m=b.focusNode;if(v.default.isNativeInput(T))return T.selectionEnd===0;if(!b.anchorNode)return!1;var y=m.textContent.search(/\S/);y===-1&&(y=0);var I=b.focusOffset;return m.nodeType!==Node.TEXT_NODE&&m.childNodes.length&&(m.childNodes[I]?(m=m.childNodes[I],I=0):I=(m=m.childNodes[I-1]).textContent.length),!(!v.default.isLineBreakTag(T)&&!v.default.isEmpty(T)||!this.getHigherLevelSiblings(m,"left").every(function(R){var M=v.default.isLineBreakTag(R),C=R.children.length===1&&v.default.isLineBreakTag(R.children[0]),k=M||C;return v.default.isEmpty(R)&&!k})||I!==y)||T===null||m===T&&I<=y}},{key:"isAtEnd",get:function(){var b=d.default.get(),T=b.focusNode,m=v.default.getDeepestNode(this.Editor.BlockManager.currentBlock.currentInput,!0);if(v.default.isNativeInput(m))return m.selectionEnd===m.value.length;if(!b.focusNode)return!1;var y=b.focusOffset;if(T.nodeType!==Node.TEXT_NODE&&T.childNodes.length&&(T.childNodes[y-1]?y=(T=T.childNodes[y-1]).textContent.length:(T=T.childNodes[0],y=0)),v.default.isLineBreakTag(m)||v.default.isEmpty(m)){var I=this.getHigherLevelSiblings(T,"right");if(I.every(function(M,C){return C===I.length-1&&v.default.isLineBreakTag(M)||v.default.isEmpty(M)&&!v.default.isLineBreakTag(M)})&&y===T.textContent.length)return!0}var R=m.textContent.replace(/\s+$/,"");return T===m&&y>=R.length}}],[{key:"CSS",get:function(){return{shadowCaret:"cdx-shadow-caret"}}}]),O}(p.default);n.default=S,S.displayName="Caret",l.exports=h.default})=="function"?t.apply(h,o):t)===void 0||(l.exports=i)},function(l,h,e){var t,o,i;o=[h,e(23),e(24),e(2),e(3),e(5),e(6),e(4),e(9),e(25),e(7)],(i=typeof(t=function(n,r,s,c,a,f,d,p,v,u,g){var x=e(8),E=e(1);function S(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=E(r),s=E(s),c=E(c),a=E(a),f=E(f),d=E(d),p=E(p),v=E(v),u=E(u),g=x(g);var w=function(B){(0,f.default)(T,B);var _,O,b=(_=T,function(){var m,y=(0,p.default)(_);if(S()){var I=(0,p.default)(this).constructor;m=Reflect.construct(y,arguments,I)}else m=y.apply(this,arguments);return(0,d.default)(this,m)});function T(){var m;return(0,c.default)(this,T),(m=b.apply(this,arguments)).onMouseUp=function(){m.listeners.off(document,"mouseover",m.onMouseOver),m.listeners.off(document,"mouseup",m.onMouseUp)},m.onMouseOver=function(y){var I=m.Editor,R=I.BlockManager,M=I.BlockSelection,C=R.getBlockByChildNode(y.relatedTarget)||m.lastSelectedBlock,k=R.getBlockByChildNode(y.target);if(C&&k&&k!==C){if(C===m.firstSelectedBlock)return u.default.get().removeAllRanges(),C.selected=!0,k.selected=!0,void M.clearCache();if(k===m.firstSelectedBlock)return C.selected=!1,k.selected=!1,void M.clearCache();m.Editor.InlineToolbar.close(),m.toggleBlocksSelectedState(C,k),m.lastSelectedBlock=k}},m}return(0,a.default)(T,[{key:"prepare",value:(O=(0,s.default)(r.default.mark(function m(){var y=this;return r.default.wrap(function(I){for(;;)switch(I.prev=I.next){case 0:this.listeners.on(document,"mousedown",function(R){y.enableCrossBlockSelection(R)});case 1:case"end":return I.stop()}},m,this)})),function(){return O.apply(this,arguments)})},{key:"watchSelection",value:function(m){if(m.button===g.mouseButtons.LEFT){var y=this.Editor.BlockManager;this.firstSelectedBlock=y.getBlock(m.target),this.lastSelectedBlock=this.firstSelectedBlock,this.listeners.on(document,"mouseover",this.onMouseOver),this.listeners.on(document,"mouseup",this.onMouseUp)}}},{key:"toggleBlockSelectedState",value:function(){var m=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],y=this.Editor,I=y.BlockManager,R=y.BlockSelection;this.lastSelectedBlock||(this.lastSelectedBlock=this.firstSelectedBlock=I.currentBlock),this.firstSelectedBlock===this.lastSelectedBlock&&(this.firstSelectedBlock.selected=!0,R.clearCache(),u.default.get().removeAllRanges());var M=I.blocks.indexOf(this.lastSelectedBlock)+(m?1:-1),C=I.blocks[M];C&&(this.lastSelectedBlock.selected!==C.selected?(C.selected=!0,R.clearCache()):(this.lastSelectedBlock.selected=!1,R.clearCache()),this.lastSelectedBlock=C,this.Editor.InlineToolbar.close(),C.holder.scrollIntoView({block:"nearest"}))}},{key:"clear",value:function(m){var y=this.Editor,I=y.BlockManager,R=y.BlockSelection,M=y.Caret,C=I.blocks.indexOf(this.firstSelectedBlock),k=I.blocks.indexOf(this.lastSelectedBlock);if(R.anyBlockSelected&&C>-1&&k>-1)if(m&&m instanceof KeyboardEvent)switch(m.keyCode){case g.keyCodes.DOWN:case g.keyCodes.RIGHT:M.setToBlock(I.blocks[Math.max(C,k)],M.positions.END);break;case g.keyCodes.UP:case g.keyCodes.LEFT:M.setToBlock(I.blocks[Math.min(C,k)],M.positions.START);break;default:M.setToBlock(I.blocks[Math.max(C,k)],M.positions.END)}else M.setToBlock(I.blocks[Math.max(C,k)],M.positions.END);this.firstSelectedBlock=this.lastSelectedBlock=null}},{key:"enableCrossBlockSelection",value:function(m){var y=this.Editor.UI;u.default.isCollapsed||this.Editor.BlockSelection.clearSelection(m),y.nodes.redactor.contains(m.target)?this.watchSelection(m):this.Editor.BlockSelection.clearSelection(m)}},{key:"toggleBlocksSelectedState",value:function(m,y){for(var I=this.Editor,R=I.BlockManager,M=I.BlockSelection,C=R.blocks.indexOf(m),k=R.blocks.indexOf(y),A=m.selected!==y.selected,N=Math.min(C,k);N<=Math.max(C,k);N++){var D=R.blocks[N];D!==this.firstSelectedBlock&&D!==(A?m:y)&&(R.blocks[N].selected=!R.blocks[N].selected,M.clearCache())}}},{key:"isCrossBlockSelectionStarted",get:function(){return!!this.firstSelectedBlock&&!!this.lastSelectedBlock}}]),T}(v.default);n.default=w,w.displayName="CrossBlockSelection",l.exports=h.default})=="function"?t.apply(h,o):t)===void 0||(l.exports=i)},function(l,h,e){var t,o,i;o=[h,e(23),e(24),e(2),e(3),e(5),e(6),e(4),e(25),e(9)],(i=typeof(t=function(n,r,s,c,a,f,d,p,v,u){var g=e(1);function x(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=g(r),s=g(s),c=g(c),a=g(a),f=g(f),d=g(d),p=g(p),v=g(v);var E=function(S){(0,f.default)(O,S);var w,B,_=(w=O,function(){var b,T=(0,p.default)(w);if(x()){var m=(0,p.default)(this).constructor;b=Reflect.construct(T,arguments,m)}else b=T.apply(this,arguments);return(0,d.default)(this,b)});function O(){var b;return(0,c.default)(this,O),(b=_.apply(this,arguments)).isStartedAtEditor=!1,b}return(0,a.default)(O,[{key:"toggleReadOnly",value:function(b){b?this.disableModuleBindings():this.enableModuleBindings()}},{key:"enableModuleBindings",value:function(){var b=this,T=this.Editor.UI;this.readOnlyMutableListeners.on(T.nodes.holder,"drop",function(){var m=(0,s.default)(r.default.mark(function y(I){return r.default.wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.next=2,b.processDrop(I);case 2:case"end":return R.stop()}},y)}));return function(y){return m.apply(this,arguments)}}(),!0),this.readOnlyMutableListeners.on(T.nodes.holder,"dragstart",function(){b.processDragStart()}),this.readOnlyMutableListeners.on(T.nodes.holder,"dragover",function(m){b.processDragOver(m)},!0)}},{key:"disableModuleBindings",value:function(){this.readOnlyMutableListeners.clearAll()}},{key:"processDrop",value:(B=(0,s.default)(r.default.mark(function b(T){var m,y,I,R,M,C;return r.default.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return m=this.Editor,y=m.BlockManager,I=m.Caret,R=m.Paste,T.preventDefault(),y.blocks.forEach(function(A){A.dropTarget=!1}),v.default.isAtEditor&&!v.default.isCollapsed&&this.isStartedAtEditor&&document.execCommand("delete"),this.isStartedAtEditor=!1,(M=y.setCurrentBlockByChildNode(T.target))?this.Editor.Caret.setToBlock(M,I.positions.END):(C=y.setCurrentBlockByChildNode(y.lastBlock.holder),this.Editor.Caret.setToBlock(C,I.positions.END)),k.next=9,R.processDataTransfer(T.dataTransfer,!0);case 9:case"end":return k.stop()}},b,this)})),function(b){return B.apply(this,arguments)})},{key:"processDragStart",value:function(){v.default.isAtEditor&&!v.default.isCollapsed&&(this.isStartedAtEditor=!0),this.Editor.InlineToolbar.close()}},{key:"processDragOver",value:function(b){b.preventDefault()}}]),O}((u=g(u)).default);n.default=E,E.displayName="DragNDrop",l.exports=h.default})=="function"?t.apply(h,o):t)===void 0||(l.exports=i)},function(l,h,e){var t,o,i;o=[h,e(2),e(3),e(5),e(6),e(4),e(9),e(7)],(i=typeof(t=function(n,r,s,c,a,f,d,p){var v=e(8),u=e(1);function g(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=u(r),s=u(s),c=u(c),a=u(a),f=u(f),d=u(d),p=v(p);var x=function(E){(0,c.default)(B,E);var S,w=(S=B,function(){var _,O=(0,f.default)(S);if(g()){var b=(0,f.default)(this).constructor;_=Reflect.construct(O,arguments,b)}else _=O.apply(this,arguments);return(0,a.default)(this,_)});function B(){var _;return(0,r.default)(this,B),(_=w.apply(this,arguments)).disabled=!1,_}return(0,s.default)(B,[{key:"enable",value:function(){this.disabled=!1}},{key:"disable",value:function(){this.disabled=!0}},{key:"onChange",value:function(_){!this.disabled&&p.isFunction(this.config.onChange)&&this.config.onChange(this.Editor.API.methods,_)}}]),B}(d.default);n.default=x,x.displayName="ModificationsObserver",l.exports=h.default})=="function"?t.apply(h,o):t)===void 0||(l.exports=i)},function(l,h,e){var t,o,i;o=[h,e(42),e(30),e(23),e(24),e(2),e(3),e(5),e(6),e(4),e(9),e(15),e(7),e(65)],(i=typeof(t=function(n,r,s,c,a,f,d,p,v,u,g,x,E,S){var w=e(8),B=e(1);function _(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=B(r),s=B(s),c=B(c),a=B(a),f=B(f),d=B(d),p=B(p),v=B(v),u=B(u),g=B(g),x=B(x),E=w(E);var O=function(b){(0,p.default)(D,b);var T,m,y,I,R,M,C,k,A,N=(T=D,function(){var L,F=(0,u.default)(T);if(_()){var U=(0,u.default)(this).constructor;L=Reflect.construct(F,arguments,U)}else L=F.apply(this,arguments);return(0,v.default)(this,L)});function D(){var L;return(0,f.default)(this,D),(L=N.apply(this,arguments)).MIME_TYPE="application/x-editor-js",L.toolsTags={},L.tagsByTool={},L.toolsPatterns=[],L.toolsFiles={},L.exceptionList=[],L.processTool=function(F){try{var U=F.create({},{},!1);if(F.pasteConfig===!1)return void L.exceptionList.push(F.name);if(!E.isFunction(U.onPaste))return;L.getTagsConfig(F),L.getFilesConfig(F),L.getPatternsConfig(F)}catch(P){E.log("Paste handling for \xAB".concat(F.name,"\xBB Tool hasn't been set up because of the error"),"warn",P)}},L.handlePasteEvent=function(){var F=(0,a.default)(c.default.mark(function U(P){var j,H,z;return c.default.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:if(j=L.Editor,H=j.BlockManager,z=j.Toolbar,H.currentBlock&&(!L.isNativeBehaviour(P.target)||P.clipboardData.types.includes("Files"))){W.next=3;break}return W.abrupt("return");case 3:if(!H.currentBlock||!L.exceptionList.includes(H.currentBlock.name)){W.next=5;break}return W.abrupt("return");case 5:P.preventDefault(),L.processDataTransfer(P.clipboardData),H.clearFocused(),z.close();case 9:case"end":return W.stop()}},U)}));return function(U){return F.apply(this,arguments)}}(),L}return(0,d.default)(D,[{key:"prepare",value:(A=(0,a.default)(c.default.mark(function L(){return c.default.wrap(function(F){for(;;)switch(F.prev=F.next){case 0:this.processTools();case 1:case"end":return F.stop()}},L,this)})),function(){return A.apply(this,arguments)})},{key:"toggleReadOnly",value:function(L){L?this.unsetCallback():this.setCallback()}},{key:"processDataTransfer",value:(k=(0,a.default)(c.default.mark(function L(F){var U,P,j,H,z,W,K,Y,$,ee=arguments;return c.default.wrap(function(te){for(;;)switch(te.prev=te.next){case 0:if(U=ee.length>1&&ee[1]!==void 0&&ee[1],P=this.Editor.Tools,!((j=F.types).includes?j.includes("Files"):j.contains("Files"))){te.next=8;break}return te.next=7,this.processFiles(F.files);case 7:return te.abrupt("return");case 8:if(H=F.getData(this.MIME_TYPE),z=F.getData("text/plain"),W=F.getData("text/html"),!H){te.next=19;break}return te.prev=12,this.insertEditorJSData(JSON.parse(H)),te.abrupt("return");case 17:te.prev=17,te.t0=te.catch(12);case 19:if(U&&z.trim()&&W.trim()&&(W="<p>"+(W.trim()?W:z)+"</p>"),K=Object.keys(this.toolsTags).reduce(function(V,q){return V[q.toLowerCase()]=!0,V},{}),Y=Object.assign({},K,P.getAllInlineToolsSanitizeConfig(),{br:{}}),($=(0,S.clean)(W,Y)).trim()&&$.trim()!==z&&x.default.isHTMLString($)){te.next=28;break}return te.next=26,this.processText(z);case 26:te.next=30;break;case 28:return te.next=30,this.processText($,!0);case 30:case"end":return te.stop()}},L,this,[[12,17]])})),function(L){return k.apply(this,arguments)})},{key:"processText",value:(C=(0,a.default)(c.default.mark(function L(F){var U,P,j,H,z,W,K,Y=this,$=arguments;return c.default.wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:if(U=$.length>1&&$[1]!==void 0&&$[1],P=this.Editor,j=P.Caret,H=P.BlockManager,(z=U?this.processHTML(F):this.processPlain(F)).length){ee.next=5;break}return ee.abrupt("return");case 5:if(z.length!==1){ee.next=8;break}return z[0].isBlock?this.processSingleBlock(z.pop()):this.processInlinePaste(z.pop()),ee.abrupt("return");case 8:W=H.currentBlock&&H.currentBlock.tool.isDefault,K=W&&H.currentBlock.isEmpty,z.map(function(){var te=(0,a.default)(c.default.mark(function V(q,ae){return c.default.wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:return Q.abrupt("return",Y.insertBlock(q,ae===0&&K));case 1:case"end":return Q.stop()}},V)}));return function(V,q){return te.apply(this,arguments)}}()),H.currentBlock&&j.setToBlock(H.currentBlock,j.positions.END);case 12:case"end":return ee.stop()}},L,this)})),function(L){return C.apply(this,arguments)})},{key:"setCallback",value:function(){this.listeners.on(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}},{key:"unsetCallback",value:function(){this.listeners.off(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}},{key:"processTools",value:function(){var L=this.Editor.Tools.blockTools;Array.from(L.values()).forEach(this.processTool)}},{key:"getTagsConfig",value:function(L){var F=this,U=L.pasteConfig.tags||[];U.forEach(function(P){Object.prototype.hasOwnProperty.call(F.toolsTags,P)?E.log("Paste handler for \xAB".concat(L.name,"\xBB Tool on \xAB").concat(P,"\xBB tag is skipped ")+"because it is already used by \xAB".concat(F.toolsTags[P].tool.name,"\xBB Tool."),"warn"):F.toolsTags[P.toUpperCase()]={tool:L}}),this.tagsByTool[L.name]=U.map(function(P){return P.toUpperCase()})}},{key:"getFilesConfig",value:function(L){var F=L.pasteConfig.files,U=F===void 0?{}:F,P=U.extensions,j=U.mimeTypes;(P||j)&&(P&&!Array.isArray(P)&&(E.log("\xABextensions\xBB property of the onDrop config for \xAB".concat(L.name,"\xBB Tool should be an array")),P=[]),j&&!Array.isArray(j)&&(E.log("\xABmimeTypes\xBB property of the onDrop config for \xAB".concat(L.name,"\xBB Tool should be an array")),j=[]),j&&(j=j.filter(function(H){return!!E.isValidMimeType(H)||(E.log("MIME type value \xAB".concat(H,"\xBB for the \xAB").concat(L.name,"\xBB Tool is not a valid MIME type"),"warn"),!1)})),this.toolsFiles[L.name]={extensions:P||[],mimeTypes:j||[]})}},{key:"getPatternsConfig",value:function(L){var F=this;L.pasteConfig.patterns&&!E.isEmpty(L.pasteConfig.patterns)&&Object.entries(L.pasteConfig.patterns).forEach(function(U){var P=(0,s.default)(U,2),j=P[0],H=P[1];H instanceof RegExp||E.log("Pattern ".concat(H," for \xAB").concat(L.name,"\xBB Tool is skipped because it should be a Regexp instance."),"warn"),F.toolsPatterns.push({key:j,pattern:H,tool:L})})}},{key:"isNativeBehaviour",value:function(L){return x.default.isNativeInput(L)}},{key:"processFiles",value:(M=(0,a.default)(c.default.mark(function L(F){var U,P,j,H,z=this;return c.default.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return U=this.Editor.BlockManager,W.next=3,Promise.all(Array.from(F).map(function(K){return z.processFile(K)}));case 3:P=(P=W.sent).filter(function(K){return!!K}),j=U.currentBlock.tool.isDefault,H=j&&U.currentBlock.isEmpty,P.forEach(function(K,Y){U.paste(K.type,K.event,Y===0&&H)});case 8:case"end":return W.stop()}},L,this)})),function(L){return M.apply(this,arguments)})},{key:"processFile",value:(R=(0,a.default)(c.default.mark(function L(F){var U,P,j,H,z;return c.default.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:if(U=E.getFileExtension(F),P=Object.entries(this.toolsFiles).find(function(K){var Y=(0,s.default)(K,2),$=(Y[0],Y[1]),ee=$.mimeTypes,te=$.extensions,V=F.type.split("/"),q=(0,s.default)(V,2),ae=q[0],Q=q[1],re=te.find(function(pe){return pe.toLowerCase()===U.toLowerCase()}),de=ee.find(function(pe){var ue=pe.split("/"),ve=(0,s.default)(ue,2),ge=ve[0],ce=ve[1];return ge===ae&&(ce===Q||ce==="*")});return!!re||!!de})){W.next=4;break}return W.abrupt("return");case 4:return j=(0,s.default)(P,1),H=j[0],z=this.composePasteEvent("file",{file:F}),W.abrupt("return",{event:z,type:H});case 7:case"end":return W.stop()}},L,this)})),function(L){return R.apply(this,arguments)})},{key:"processHTML",value:function(L){var F=this,U=this.Editor.Tools,P=x.default.make("DIV");return P.innerHTML=L,this.getNodes(P).map(function(j){var H,z=U.defaultTool,W=!1;switch(j.nodeType){case Node.DOCUMENT_FRAGMENT_NODE:(H=x.default.make("div")).appendChild(j);break;case Node.ELEMENT_NODE:H=j,W=!0,F.toolsTags[H.tagName]&&(z=F.toolsTags[H.tagName].tool)}var K=z.pasteConfig.tags.reduce(function(ee,te){return ee[te.toLowerCase()]={},ee},{}),Y=Object.assign({},K,z.baseSanitizeConfig);H.innerHTML=(0,S.clean)(H.innerHTML,Y);var $=F.composePasteEvent("tag",{data:H});return{content:H,isBlock:W,tool:z.name,event:$}}).filter(function(j){return!x.default.isNodeEmpty(j.content)||x.default.isSingleTag(j.content)})}},{key:"processPlain",value:function(L){var F=this,U=this.config.defaultBlock;if(!L)return[];var P=U;return L.split(/\r?\n/).filter(function(j){return j.trim()}).map(function(j){var H=x.default.make("div");H.textContent=j;var z=F.composePasteEvent("tag",{data:H});return{content:H,tool:P,isBlock:!1,event:z}})}},{key:"processSingleBlock",value:(I=(0,a.default)(c.default.mark(function L(F){var U,P,j,H;return c.default.wrap(function(z){for(;;)switch(z.prev=z.next){case 0:if(U=this.Editor,P=U.Caret,j=U.BlockManager,(H=j.currentBlock)&&F.tool===H.name&&x.default.containsOnlyInlineElements(F.content.innerHTML)){z.next=5;break}return this.insertBlock(F,(H==null?void 0:H.tool.isDefault)&&H.isEmpty),z.abrupt("return");case 5:P.insertContentAtCaretPosition(F.content.innerHTML);case 6:case"end":return z.stop()}},L,this)})),function(L){return I.apply(this,arguments)})},{key:"processInlinePaste",value:(y=(0,a.default)(c.default.mark(function L(F){var U,P,j,H,z,W,K,Y;return c.default.wrap(function($){for(;;)switch($.prev=$.next){case 0:if(U=this.Editor,P=U.BlockManager,j=U.Caret,H=F.content,!(P.currentBlock&&P.currentBlock.tool.isDefault&&H.textContent.length<D.PATTERN_PROCESSING_MAX_LENGTH)){$.next=12;break}return $.next=6,this.processPattern(H.textContent);case 6:if(!(z=$.sent)){$.next=12;break}return W=P.currentBlock&&P.currentBlock.tool.isDefault&&P.currentBlock.isEmpty,K=P.paste(z.tool,z.event,W),j.setToBlock(K,j.positions.END),$.abrupt("return");case 12:P.currentBlock&&P.currentBlock.currentInput?(Y=P.currentBlock.tool.sanitizeConfig,document.execCommand("insertHTML",!1,(0,S.clean)(H.innerHTML,Y))):this.insertBlock(F);case 13:case"end":return $.stop()}},L,this)})),function(L){return y.apply(this,arguments)})},{key:"processPattern",value:(m=(0,a.default)(c.default.mark(function L(F){var U,P;return c.default.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:if(U=this.toolsPatterns.find(function(H){var z=H.pattern.exec(F);return!!z&&F===z.shift()})){j.next=3;break}return j.abrupt("return");case 3:return P=this.composePasteEvent("pattern",{key:U.key,data:F}),j.abrupt("return",{event:P,tool:U.tool.name});case 5:case"end":return j.stop()}},L,this)})),function(L){return m.apply(this,arguments)})},{key:"insertBlock",value:function(L){var F,U=arguments.length>1&&arguments[1]!==void 0&&arguments[1],P=this.Editor,j=P.BlockManager,H=P.Caret,z=j.currentBlock;if(U&&z&&z.isEmpty)return F=j.paste(L.tool,L.event,!0),void H.setToBlock(F,H.positions.END);F=j.paste(L.tool,L.event),H.setToBlock(F,H.positions.END)}},{key:"insertEditorJSData",value:function(L){var F=this.Editor,U=F.BlockManager,P=F.Caret,j=F.Tools;(0,S.sanitizeBlocks)(L,function(H){return j.blockTools.get(H).sanitizeConfig}).forEach(function(H,z){var W=H.tool,K=H.data,Y=!1;z===0&&(Y=U.currentBlock&&U.currentBlock.tool.isDefault&&U.currentBlock.isEmpty);var $=U.insert({tool:W,data:K,replace:Y});P.setToBlock($,P.positions.END)})}},{key:"processElementNode",value:function(L,F,U){var P=Object.keys(this.toolsTags),j=L,H=(this.toolsTags[j.tagName]||{}).tool,z=this.tagsByTool[H==null?void 0:H.name]||[],W=P.includes(j.tagName),K=x.default.blockElements.includes(j.tagName.toLowerCase()),Y=Array.from(j.children).some(function(ee){var te=ee.tagName;return P.includes(te)&&!z.includes(te)}),$=Array.from(j.children).some(function(ee){var te=ee.tagName;return x.default.blockElements.includes(te.toLowerCase())});return K||W||Y?W&&!Y||K&&!$&&!Y?[].concat((0,r.default)(F),[U,j]):void 0:(U.appendChild(j),[].concat((0,r.default)(F),[U]))}},{key:"getNodes",value:function(L){var F,U=this;return Array.from(L.childNodes).reduce(function P(j,H){if(x.default.isEmpty(H)&&!x.default.isSingleTag(H))return j;var z=j[j.length-1],W=new DocumentFragment;switch(z&&x.default.isFragment(z)&&(W=j.pop()),H.nodeType){case Node.ELEMENT_NODE:if(F=U.processElementNode(H,j,W))return F;break;case Node.TEXT_NODE:return W.appendChild(H),[].concat((0,r.default)(j),[W]);default:return[].concat((0,r.default)(j),[W])}return[].concat((0,r.default)(j),(0,r.default)(Array.from(H.childNodes).reduce(P,[])))},[])}},{key:"composePasteEvent",value:function(L,F){return new CustomEvent(L,{detail:F})}}]),D}(g.default);n.default=O,O.displayName="Paste",O.PATTERN_PROCESSING_MAX_LENGTH=450,l.exports=h.default})=="function"?t.apply(h,o):t)===void 0||(l.exports=i)},function(l,h,e){var t,o,i;o=[h,e(23),e(30),e(24),e(2),e(3),e(5),e(6),e(4),e(9),e(150)],(i=typeof(t=function(n,r,s,c,a,f,d,p,v,u,g){var x=e(1);function E(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=x(r),s=x(s),c=x(c),a=x(a),f=x(f),d=x(d),p=x(p),v=x(v);var S=function(w){(0,d.default)(T,w);var B,_,O,b=(B=T,function(){var m,y=(0,v.default)(B);if(E()){var I=(0,v.default)(this).constructor;m=Reflect.construct(y,arguments,I)}else m=y.apply(this,arguments);return(0,p.default)(this,m)});function T(){var m;return(0,a.default)(this,T),(m=b.apply(this,arguments)).toolsDontSupportReadOnly=[],m.readOnlyEnabled=!1,m}return(0,f.default)(T,[{key:"prepare",value:(O=(0,c.default)(r.default.mark(function m(){var y,I,R;return r.default.wrap(function(M){for(;;)switch(M.prev=M.next){case 0:y=this.Editor.Tools,I=y.blockTools,R=[],Array.from(I.entries()).forEach(function(C){var k=(0,s.default)(C,2),A=k[0];k[1].isReadOnlySupported||R.push(A)}),this.toolsDontSupportReadOnly=R,this.config.readOnly&&R.length>0&&this.throwCriticalError(),this.toggle(this.config.readOnly);case 7:case"end":return M.stop()}},m,this)})),function(){return O.apply(this,arguments)})},{key:"toggle",value:(_=(0,c.default)(r.default.mark(function m(){var y,I,R,M,C=arguments;return r.default.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:(y=C.length>0&&C[0]!==void 0?C[0]:!this.readOnlyEnabled)&&this.toolsDontSupportReadOnly.length>0&&this.throwCriticalError(),I=this.readOnlyEnabled,this.readOnlyEnabled=y,k.t0=r.default.keys(this.Editor);case 5:if((k.t1=k.t0()).done){k.next=12;break}if(R=k.t1.value,this.Editor[R].toggleReadOnly){k.next=9;break}return k.abrupt("continue",5);case 9:this.Editor[R].toggleReadOnly(y),k.next=5;break;case 12:if(I!==y){k.next=14;break}return k.abrupt("return",this.readOnlyEnabled);case 14:return k.next=16,this.Editor.Saver.save();case 16:return M=k.sent,k.next=19,this.Editor.BlockManager.clear();case 19:return k.next=21,this.Editor.Renderer.render(M.blocks);case 21:return k.abrupt("return",this.readOnlyEnabled);case 22:case"end":return k.stop()}},m,this)})),function(){return _.apply(this,arguments)})},{key:"throwCriticalError",value:function(){throw new g.CriticalError("To enable read-only mode all connected tools should support it. Tools ".concat(this.toolsDontSupportReadOnly.join(", ")," don't support read-only mode."))}},{key:"isEnabled",get:function(){return this.readOnlyEnabled}}]),T}((u=x(u)).default);n.default=S,S.displayName="ReadOnly",l.exports=h.default})=="function"?t.apply(h,o):t)===void 0||(l.exports=i)},function(l,h,e){var t,o,i;o=[h,e(2),e(3),e(5),e(6),e(4),e(9),e(15),e(25),e(66),e(7)],(i=typeof(t=function(n,r,s,c,a,f,d,p,v,u,g){var x=e(8),E=e(1);function S(O){if(typeof Symbol=="undefined"||O[Symbol.iterator]==null){if(Array.isArray(O)||(O=function(M,C){if(M){if(typeof M=="string")return w(M,C);var k=Object.prototype.toString.call(M).slice(8,-1);return k==="Object"&&M.constructor&&(k=M.constructor.name),k==="Map"||k==="Set"?Array.from(k):k==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(k)?w(M,C):void 0}}(O))){var b=0,T=function(){};return{s:T,n:function(){return b>=O.length?{done:!0}:{done:!1,value:O[b++]}},e:function(M){throw M},f:T}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var m,y,I=!0,R=!1;return{s:function(){m=O[Symbol.iterator]()},n:function(){var M=m.next();return I=M.done,M},e:function(M){R=!0,y=M},f:function(){try{I||m.return==null||m.return()}finally{if(R)throw y}}}}function w(O,b){(b==null||b>O.length)&&(b=O.length);for(var T=0,m=new Array(b);T<b;T++)m[T]=O[T];return m}function B(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=E(r),s=E(s),c=E(c),a=E(a),f=E(f),d=E(d),p=E(p),v=E(v),u=E(u),g=x(g);var _=function(O){(0,c.default)(m,O);var b,T=(b=m,function(){var y,I=(0,f.default)(b);if(B()){var R=(0,f.default)(this).constructor;y=Reflect.construct(I,arguments,R)}else y=I.apply(this,arguments);return(0,a.default)(this,y)});function m(){var y;return(0,r.default)(this,m),(y=T.apply(this,arguments)).isRectSelectionActivated=!1,y.SCROLL_SPEED=3,y.HEIGHT_OF_SCROLL_ZONE=40,y.BOTTOM_SCROLL_ZONE=1,y.TOP_SCROLL_ZONE=2,y.MAIN_MOUSE_BUTTON=0,y.mousedown=!1,y.isScrolling=!1,y.inScrollZone=null,y.startX=0,y.startY=0,y.mouseX=0,y.mouseY=0,y.stackOfSelected=[],y.listenerIds=[],y}return(0,s.default)(m,[{key:"prepare",value:function(){this.enableModuleBindings()}},{key:"startSelection",value:function(y,I){var R=document.elementFromPoint(y-window.pageXOffset,I-window.pageYOffset);R.closest(".".concat(this.Editor.Toolbar.CSS.toolbar))||(this.Editor.BlockSelection.allBlocksSelected=!1,this.clearSelection(),this.stackOfSelected=[]);var M=[".".concat(u.default.CSS.content),".".concat(this.Editor.Toolbar.CSS.toolbar),".".concat(this.Editor.InlineToolbar.CSS.inlineToolbar)],C=R.closest("."+this.Editor.UI.CSS.editorWrapper),k=M.some(function(A){return!!R.closest(A)});C&&!k&&(this.mousedown=!0,this.startX=y,this.startY=I)}},{key:"endSelection",value:function(){this.mousedown=!1,this.startX=0,this.startY=0,this.overlayRectangle.style.display="none"}},{key:"isRectActivated",value:function(){return this.isRectSelectionActivated}},{key:"clearSelection",value:function(){this.isRectSelectionActivated=!1}},{key:"enableModuleBindings",value:function(){var y=this,I=this.genHTML().container;this.listeners.on(I,"mousedown",function(R){y.processMouseDown(R)},!1),this.listeners.on(document.body,"mousemove",g.throttle(function(R){y.processMouseMove(R)},10),{passive:!0}),this.listeners.on(document.body,"mouseleave",function(){y.processMouseLeave()}),this.listeners.on(window,"scroll",g.throttle(function(R){y.processScroll(R)},10),{passive:!0}),this.listeners.on(document.body,"mouseup",function(){y.processMouseUp()},!1)}},{key:"processMouseDown",value:function(y){y.button===this.MAIN_MOUSE_BUTTON&&(y.target.closest(p.default.allInputsSelector)!==null||this.startSelection(y.pageX,y.pageY))}},{key:"processMouseMove",value:function(y){this.changingRectangle(y),this.scrollByZones(y.clientY)}},{key:"processMouseLeave",value:function(){this.clearSelection(),this.endSelection()}},{key:"processScroll",value:function(y){this.changingRectangle(y)}},{key:"processMouseUp",value:function(){this.clearSelection(),this.endSelection()}},{key:"scrollByZones",value:function(y){this.inScrollZone=null,y<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.TOP_SCROLL_ZONE),document.documentElement.clientHeight-y<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.BOTTOM_SCROLL_ZONE),this.inScrollZone?this.isScrolling||(this.scrollVertical(this.inScrollZone===this.TOP_SCROLL_ZONE?-this.SCROLL_SPEED:this.SCROLL_SPEED),this.isScrolling=!0):this.isScrolling=!1}},{key:"genHTML",value:function(){var y=this.Editor.UI,I=y.nodes.holder.querySelector("."+y.CSS.editorWrapper),R=p.default.make("div",m.CSS.overlay,{}),M=p.default.make("div",m.CSS.overlayContainer,{}),C=p.default.make("div",m.CSS.rect,{});return M.appendChild(C),R.appendChild(M),I.appendChild(R),this.overlayRectangle=C,{container:I,overlay:R}}},{key:"scrollVertical",value:function(y){var I=this;if(this.inScrollZone&&this.mousedown){var R=window.pageYOffset;window.scrollBy(0,y),this.mouseY+=window.pageYOffset-R,setTimeout(function(){I.scrollVertical(y)},0)}}},{key:"changingRectangle",value:function(y){if(this.mousedown){y.pageY!==void 0&&(this.mouseX=y.pageX,this.mouseY=y.pageY);var I=this.genInfoForMouseSelection(),R=I.rightPos,M=I.leftPos,C=I.index,k=this.startX>R&&this.mouseX>R,A=this.startX<M&&this.mouseX<M;this.rectCrossesBlocks=!(k||A),this.isRectSelectionActivated||(this.rectCrossesBlocks=!1,this.isRectSelectionActivated=!0,this.shrinkRectangleToPoint(),this.overlayRectangle.style.display="block"),this.updateRectangleSize(),this.Editor.Toolbar.close(),C!==void 0&&(this.trySelectNextBlock(C),this.inverseSelection(),v.default.get().removeAllRanges())}}},{key:"shrinkRectangleToPoint",value:function(){this.overlayRectangle.style.left="".concat(this.startX-window.pageXOffset,"px"),this.overlayRectangle.style.top="".concat(this.startY-window.pageYOffset,"px"),this.overlayRectangle.style.bottom="calc(100% - ".concat(this.startY-window.pageYOffset,"px"),this.overlayRectangle.style.right="calc(100% - ".concat(this.startX-window.pageXOffset,"px")}},{key:"inverseSelection",value:function(){var y=this.Editor.BlockManager.getBlockByIndex(this.stackOfSelected[0]).selected;if(this.rectCrossesBlocks&&!y){var I,R=S(this.stackOfSelected);try{for(R.s();!(I=R.n()).done;){var M=I.value;this.Editor.BlockSelection.selectBlockByIndex(M)}}catch(N){R.e(N)}finally{R.f()}}if(!this.rectCrossesBlocks&&y){var C,k=S(this.stackOfSelected);try{for(k.s();!(C=k.n()).done;){var A=C.value;this.Editor.BlockSelection.unSelectBlockByIndex(A)}}catch(N){k.e(N)}finally{k.f()}}}},{key:"updateRectangleSize",value:function(){this.mouseY>=this.startY?(this.overlayRectangle.style.top="".concat(this.startY-window.pageYOffset,"px"),this.overlayRectangle.style.bottom="calc(100% - ".concat(this.mouseY-window.pageYOffset,"px")):(this.overlayRectangle.style.bottom="calc(100% - ".concat(this.startY-window.pageYOffset,"px"),this.overlayRectangle.style.top="".concat(this.mouseY-window.pageYOffset,"px")),this.mouseX>=this.startX?(this.overlayRectangle.style.left="".concat(this.startX-window.pageXOffset,"px"),this.overlayRectangle.style.right="calc(100% - ".concat(this.mouseX-window.pageXOffset,"px")):(this.overlayRectangle.style.right="calc(100% - ".concat(this.startX-window.pageXOffset,"px"),this.overlayRectangle.style.left="".concat(this.mouseX-window.pageXOffset,"px"))}},{key:"genInfoForMouseSelection",value:function(){var y,I=document.body.offsetWidth/2,R=this.mouseY-window.pageYOffset,M=document.elementFromPoint(I,R),C=this.Editor.BlockManager.getBlockByChildNode(M);C!==void 0&&(y=this.Editor.BlockManager.blocks.findIndex(function(N){return N.holder===C.holder}));var k=this.Editor.BlockManager.lastBlock.holder.querySelector("."+u.default.CSS.content),A=Number.parseInt(window.getComputedStyle(k).width,10)/2;return{index:y,leftPos:I-A,rightPos:I+A}}},{key:"addBlockInSelection",value:function(y){this.rectCrossesBlocks&&this.Editor.BlockSelection.selectBlockByIndex(y),this.stackOfSelected.push(y)}},{key:"trySelectNextBlock",value:function(y){var I=this,R=this.stackOfSelected[this.stackOfSelected.length-1]===y,M=this.stackOfSelected.length;if(!R){var C=this.stackOfSelected[M-1]-this.stackOfSelected[M-2]>0,k=0;M>1&&(k=C?1:-1);var A=y>this.stackOfSelected[M-1]&&k===1,N=y<this.stackOfSelected[M-1]&&k===-1,D=!(A||N||k===0);if(D||!(y>this.stackOfSelected[M-1]||this.stackOfSelected[M-1]===void 0)){if(!D&&y<this.stackOfSelected[M-1])for(var L=this.stackOfSelected[M-1]-1;L>=y;L--)this.addBlockInSelection(L);else if(D){var F,U=M-1;for(F=y>this.stackOfSelected[M-1]?function(){return y>I.stackOfSelected[U]}:function(){return y<I.stackOfSelected[U]};F();)this.rectCrossesBlocks&&this.Editor.BlockSelection.unSelectBlockByIndex(this.stackOfSelected[U]),this.stackOfSelected.pop(),U--}}else for(var P=this.stackOfSelected[M-1]+1||y;P<=y;P++)this.addBlockInSelection(P)}}}],[{key:"CSS",get:function(){return{overlay:"codex-editor-overlay",overlayContainer:"codex-editor-overlay__container",rect:"codex-editor-overlay__rectangle",topScrollZone:"codex-editor-overlay__scroll-zone--top",bottomScrollZone:"codex-editor-overlay__scroll-zone--bottom"}}}]),m}(d.default);n.default=_,_.displayName="RectangleSelection",l.exports=h.default})=="function"?t.apply(h,o):t)===void 0||(l.exports=i)},function(l,h,e){var t,o,i;o=[h,e(23),e(24),e(2),e(3),e(5),e(6),e(4),e(9),e(7)],(i=typeof(t=function(n,r,s,c,a,f,d,p,v,u){var g=e(8),x=e(1);function E(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=x(r),s=x(s),c=x(c),a=x(a),f=x(f),d=x(d),p=x(p),v=x(v),u=g(u);var S=function(w){(0,f.default)(T,w);var B,_,O,b=(B=T,function(){var m,y=(0,p.default)(B);if(E()){var I=(0,p.default)(this).constructor;m=Reflect.construct(y,arguments,I)}else m=y.apply(this,arguments);return(0,d.default)(this,m)});function T(){return(0,c.default)(this,T),b.apply(this,arguments)}return(0,a.default)(T,[{key:"render",value:(O=(0,s.default)(r.default.mark(function m(y){var I,R,M=this;return r.default.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return I=y.map(function(k){return{function:function(){return M.insertBlock(k)}}}),this.Editor.ModificationsObserver.disable(),C.next=4,u.sequence(I);case 4:return R=C.sent,this.Editor.ModificationsObserver.enable(),this.Editor.UI.checkEmptiness(),C.abrupt("return",R);case 8:case"end":return C.stop()}},m,this)})),function(m){return O.apply(this,arguments)})},{key:"insertBlock",value:(_=(0,s.default)(r.default.mark(function m(y){var I,R,M,C,k,A,N,D,L;return r.default.wrap(function(F){for(;;)switch(F.prev=F.next){case 0:if(I=this.Editor,R=I.Tools,M=I.BlockManager,C=y.type,k=y.data,A=y.tunes,N=y.id,!R.available.has(C)){F.next=13;break}F.prev=3,M.insert({id:N,tool:C,data:k,tunes:A}),F.next=11;break;case 7:throw F.prev=7,F.t0=F.catch(3),u.log("Block \xAB".concat(C,"\xBB skipped because of plugins error"),"warn",k),Error(F.t0);case 11:F.next=18;break;case 13:D={savedData:{id:N,type:C,data:k},title:C},R.unavailable.has(C)&&(L=R.unavailable.get(C).toolbox,D.title=(L==null?void 0:L.title)||D.title),M.insert({id:N,tool:R.stubTool,data:D}).stretched=!0,u.log("Tool \xAB".concat(C,"\xBB is not found. Check 'tools' property at your initial Editor.js config."),"warn");case 18:case"end":return F.stop()}},m,this,[[3,7]])})),function(m){return _.apply(this,arguments)})}]),T}(v.default);n.default=S,S.displayName="Renderer",l.exports=h.default})=="function"?t.apply(h,o):t)===void 0||(l.exports=i)},function(l,h,e){var t,o,i;o=[h,e(23),e(24),e(2),e(3),e(5),e(6),e(4),e(9),e(7),e(65)],(i=typeof(t=function(n,r,s,c,a,f,d,p,v,u,g){var x=e(8),E=e(1);function S(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=E(r),s=E(s),c=E(c),a=E(a),f=E(f),d=E(d),p=E(p),v=E(v),u=x(u);var w=function(B){(0,f.default)(m,B);var _,O,b,T=(_=m,function(){var y,I=(0,p.default)(_);if(S()){var R=(0,p.default)(this).constructor;y=Reflect.construct(I,arguments,R)}else y=I.apply(this,arguments);return(0,d.default)(this,y)});function m(){return(0,c.default)(this,m),T.apply(this,arguments)}return(0,a.default)(m,[{key:"save",value:(b=(0,s.default)(r.default.mark(function y(){var I,R,M,C,k,A,N,D,L=this;return r.default.wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return I=this.Editor,R=I.BlockManager,M=I.Tools,C=I.ModificationsObserver,k=R.blocks,A=[],F.prev=2,C.disable(),k.forEach(function(U){A.push(L.getSavedData(U))}),F.next=7,Promise.all(A);case 7:return N=F.sent,F.next=10,(0,g.sanitizeBlocks)(N,function(U){return M.blockTools.get(U).sanitizeConfig});case 10:return D=F.sent,F.abrupt("return",this.makeOutput(D));case 14:F.prev=14,F.t0=F.catch(2),u.logLabeled("Saving failed due to the Error %o","error",F.t0);case 17:return F.prev=17,C.enable(),F.finish(17);case 20:case"end":return F.stop()}},y,this,[[2,14,17,20]])})),function(){return b.apply(this,arguments)})},{key:"getSavedData",value:(O=(0,s.default)(r.default.mark(function y(I){var R,M;return r.default.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,I.save();case 2:if(R=C.sent,C.t0=R,!C.t0){C.next=8;break}return C.next=7,I.validate(R.data);case 7:C.t0=C.sent;case 8:return M=C.t0,C.abrupt("return",Object.assign(Object.assign({},R),{isValid:M}));case 10:case"end":return C.stop()}},y)})),function(y){return O.apply(this,arguments)})},{key:"makeOutput",value:function(y){var I=this,R=0,M=[];return u.log("[Editor.js saving]:","groupCollapsed"),y.forEach(function(C){var k=C.id,A=C.tool,N=C.data,D=C.tunes,L=C.time,F=C.isValid;if(R+=L,u.log("".concat(A.charAt(0).toUpperCase()+A.slice(1)),"group"),!F)return u.log("Block \xAB".concat(A,"\xBB skipped because saved data is invalid")),void u.log(void 0,"groupEnd");if(u.log(N),u.log(void 0,"groupEnd"),A!==I.Editor.Tools.stubTool){var U=Object.assign({id:k,type:A,data:N},!u.isEmpty(D)&&{tunes:D});M.push(U)}else M.push(N)}),u.log("Total","log",R),u.log(void 0,"groupEnd"),{time:+new Date,blocks:M,version:"2.23.2"}}}]),m}(v.default);n.default=w,w.displayName="Saver",l.exports=h.default})=="function"?t.apply(h,o):t)===void 0||(l.exports=i)},function(l,h,e){var t,o,i;o=[h,e(30),e(2),e(3),e(5),e(6),e(4),e(9),e(15),e(60),e(7),e(25)],(i=typeof(t=function(n,r,s,c,a,f,d,p,v,u,g,x){var E=e(8),S=e(1);function w(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=S(r),s=S(s),c=S(c),a=S(a),f=S(f),d=S(d),p=S(p),v=S(v),u=S(u),g=E(g),x=S(x);var B=function(_){(0,a.default)(T,_);var O,b=(O=T,function(){var m,y=(0,d.default)(O);if(w()){var I=(0,d.default)(this).constructor;m=Reflect.construct(y,arguments,I)}else m=y.apply(this,arguments);return(0,f.default)(this,m)});function T(){var m;return(0,s.default)(this,T),(m=b.apply(this,arguments)).buttons=[],m.flipper=null,m.selection=new x.default,m}return(0,c.default)(T,[{key:"make",value:function(){this.nodes.wrapper=v.default.make("div",this.CSS.wrapper),this.nodes.toolSettings=v.default.make("div",this.CSS.toolSettings),this.nodes.defaultSettings=v.default.make("div",this.CSS.defaultSettings),v.default.append(this.nodes.wrapper,[this.nodes.toolSettings,this.nodes.defaultSettings]),this.enableFlipper()}},{key:"destroy",value:function(){this.flipper&&(this.flipper.deactivate(),this.flipper=null),this.removeAllNodes()}},{key:"open",value:function(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.Editor.BlockManager.currentBlock;this.nodes.wrapper.classList.add(this.CSS.wrapperOpened),this.selection.save(),m.selected=!0,this.Editor.BlockSelection.clearCache(),this.addToolSettings(m),this.addTunes(m),this.eventsDispatcher.emit(this.events.opened),this.flipper.activate(this.blockTunesButtons)}},{key:"close",value:function(){this.nodes.wrapper.classList.remove(this.CSS.wrapperOpened),x.default.isAtEditor||this.selection.restore(),this.selection.clearSaved(),!this.Editor.CrossBlockSelection.isCrossBlockSelectionStarted&&this.Editor.BlockManager.currentBlock&&(this.Editor.BlockManager.currentBlock.selected=!1),this.nodes.toolSettings.innerHTML="",this.nodes.defaultSettings.innerHTML="",this.eventsDispatcher.emit(this.events.closed),this.buttons=[],this.flipper.deactivate()}},{key:"addToolSettings",value:function(m){var y=m.renderSettings();y&&v.default.append(this.nodes.toolSettings,y)}},{key:"addTunes",value:function(m){var y=m.renderTunes(),I=(0,r.default)(y,2),R=I[0],M=I[1];v.default.append(this.nodes.toolSettings,R),v.default.append(this.nodes.defaultSettings,M)}},{key:"enableFlipper",value:function(){var m=this;this.flipper=new u.default({focusedItemClass:this.CSS.focusedButton,activateCallback:function(y){y&&v.default.canSetCaret(y)?m.close():g.delay(function(){m.Editor.Caret.setToBlock(m.Editor.BlockManager.currentBlock)},50)()}})}},{key:"events",get:function(){return{opened:"block-settings-opened",closed:"block-settings-closed"}}},{key:"CSS",get:function(){return{wrapper:"ce-settings",wrapperOpened:"ce-settings--opened",toolSettings:"ce-settings__plugin-zone",defaultSettings:"ce-settings__default-zone",button:"ce-settings__button",focusedButton:"ce-settings__button--focused",focusedButtonAnimated:"ce-settings__button--focused-animated"}}},{key:"opened",get:function(){return this.nodes.wrapper.classList.contains(this.CSS.wrapperOpened)}},{key:"blockTunesButtons",get:function(){var m=this,y=this.Editor.StylesAPI;if(this.buttons.length!==0)return this.buttons;var I=this.nodes.toolSettings.querySelectorAll(".".concat(y.classes.settingsButton,", ").concat(v.default.allInputsSelector)),R=this.nodes.defaultSettings.querySelectorAll(".".concat(this.CSS.button));return I.forEach(function(M){m.buttons.push(M)}),R.forEach(function(M){m.buttons.push(M)}),this.buttons}}]),T}(p.default);n.default=B,B.displayName="BlockSettings",l.exports=h.default})=="function"?t.apply(h,o):t)===void 0||(l.exports=i)},function(l,h,e){var t,o,i;o=[h,e(30),e(23),e(24),e(42),e(2),e(3),e(5),e(6),e(4),e(9),e(15),e(7),e(60),e(59),e(84),e(65)],(i=typeof(t=function(n,r,s,c,a,f,d,p,v,u,g,x,E,S,w,B,_){var O=e(8),b=e(1);function T(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=b(r),s=b(s),c=b(c),a=b(a),f=b(f),d=b(d),p=b(p),v=b(v),u=b(u),g=b(g),x=b(x),E=O(E),S=b(S),w=b(w);var m=function(y){(0,p.default)(C,y);var I,R,M=(I=C,function(){var k,A=(0,u.default)(I);if(T()){var N=(0,u.default)(this).constructor;k=Reflect.construct(A,arguments,N)}else k=A.apply(this,arguments);return(0,v.default)(this,k)});function C(){var k;return(0,f.default)(this,C),(k=M.apply(this,arguments)).opened=!1,k.tools={},k.flipper=null,k.togglingCallback=null,k}return(0,d.default)(C,[{key:"make",value:function(){this.nodes.wrapper=x.default.make("div",[C.CSS.conversionToolbarWrapper].concat((0,a.default)(this.isRtl?[this.Editor.UI.CSS.editorRtlFix]:[]))),this.nodes.tools=x.default.make("div",C.CSS.conversionToolbarTools);var k=x.default.make("div",C.CSS.conversionToolbarLabel,{textContent:w.default.ui(B.I18nInternalNS.ui.inlineToolbar.converter,"Convert to")});return this.addTools(),this.enableFlipper(),x.default.append(this.nodes.wrapper,k),x.default.append(this.nodes.wrapper,this.nodes.tools),this.nodes.wrapper}},{key:"destroy",value:function(){this.flipper&&(this.flipper.deactivate(),this.flipper=null),this.removeAllNodes()}},{key:"toggle",value:function(k){this.opened?this.close():this.open(),E.isFunction(k)&&(this.togglingCallback=k)}},{key:"open",value:function(){var k=this;this.filterTools(),this.opened=!0,this.nodes.wrapper.classList.add(C.CSS.conversionToolbarShowed),setTimeout(function(){k.flipper.activate(Object.values(k.tools).filter(function(A){return!A.classList.contains(C.CSS.conversionToolHidden)})),k.flipper.focusFirst(),E.isFunction(k.togglingCallback)&&k.togglingCallback(!0)},50)}},{key:"close",value:function(){this.opened=!1,this.flipper.deactivate(),this.nodes.wrapper.classList.remove(C.CSS.conversionToolbarShowed),E.isFunction(this.togglingCallback)&&this.togglingCallback(!1)}},{key:"hasTools",value:function(){var k=Object.keys(this.tools);return!(k.length===1&&k.shift()===this.config.defaultBlock)}},{key:"replaceWithBlock",value:(R=(0,c.default)(s.default.mark(function k(A){var N,D,L,F,U,P,j,H,z,W,K=this;return s.default.wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return N=this.Editor.BlockManager.currentBlock.tool,D=this.Editor.BlockManager.currentBlock.name,Y.next=4,this.Editor.BlockManager.currentBlock.save();case 4:if(L=Y.sent,F=L.data,D===A&&(A=this.config.defaultBlock),U=this.Editor.Tools.blockTools.get(A),P="",j=N.conversionConfig.export,!E.isFunction(j)){Y.next=14;break}P=j(F),Y.next=20;break;case 14:if(!E.isString(j)){Y.next=18;break}P=F[j],Y.next=20;break;case 18:return E.log("Conversion \xABexport\xBB property must be a string or function. String means key of saved data object to export. Function should export processed string to export."),Y.abrupt("return");case 20:if(H=(0,_.clean)(P,U.sanitizeConfig),z={},W=U.conversionConfig.import,!E.isFunction(W)){Y.next=27;break}z=W(H),Y.next=33;break;case 27:if(!E.isString(W)){Y.next=31;break}z[W]=H,Y.next=33;break;case 31:return E.log("Conversion \xABimport\xBB property must be a string or function. String means key of tool data to import. Function accepts a imported string and return composed tool data."),Y.abrupt("return");case 33:this.Editor.BlockManager.replace({tool:A,data:z}),this.Editor.BlockSelection.clearSelection(),this.close(),this.Editor.InlineToolbar.close(),E.delay(function(){K.Editor.Caret.setToBlock(K.Editor.BlockManager.currentBlock)},10)();case 38:case"end":return Y.stop()}},k,this)})),function(k){return R.apply(this,arguments)})},{key:"addTools",value:function(){var k=this,A=this.Editor.Tools.blockTools;Array.from(A.entries()).forEach(function(N){var D=(0,r.default)(N,2),L=D[0],F=D[1],U=F.toolbox,P=F.conversionConfig;!E.isEmpty(U)&&U.icon&&P&&P.import&&k.addTool(L,U.icon,U.title)})}},{key:"addTool",value:function(k,A,N){var D=this,L=x.default.make("div",[C.CSS.conversionTool]),F=x.default.make("div",[C.CSS.conversionToolIcon]);L.dataset.tool=k,F.innerHTML=A,x.default.append(L,F),x.default.append(L,x.default.text(w.default.t(B.I18nInternalNS.toolNames,N||E.capitalize(k)))),x.default.append(this.nodes.tools,L),this.tools[k]=L,this.listeners.on(L,"click",(0,c.default)(s.default.mark(function U(){return s.default.wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.next=2,D.replaceWithBlock(k);case 2:case"end":return P.stop()}},U)})))}},{key:"filterTools",value:function(){var k=this.Editor.BlockManager.currentBlock;Object.entries(this.tools).forEach(function(A){var N=(0,r.default)(A,2),D=N[0],L=N[1];L.hidden=!1,L.classList.toggle(C.CSS.conversionToolHidden,D===k.name)})}},{key:"enableFlipper",value:function(){this.flipper=new S.default({focusedItemClass:C.CSS.conversionToolFocused})}}],[{key:"CSS",get:function(){return{conversionToolbarWrapper:"ce-conversion-toolbar",conversionToolbarShowed:"ce-conversion-toolbar--showed",conversionToolbarTools:"ce-conversion-toolbar__tools",conversionToolbarLabel:"ce-conversion-toolbar__label",conversionTool:"ce-conversion-tool",conversionToolHidden:"ce-conversion-tool--hidden",conversionToolIcon:"ce-conversion-tool__icon",conversionToolFocused:"ce-conversion-tool--focused",conversionToolActive:"ce-conversion-tool--active"}}}]),C}(g.default);n.default=m,m.displayName="ConversionToolbar",l.exports=h.default})=="function"?t.apply(h,o):t)===void 0||(l.exports=i)},function(l,h,e){var t,o,i;o=[h,e(42),e(30),e(2),e(3),e(5),e(6),e(4),e(9),e(15),e(25),e(7),e(60),e(59),e(84),e(114),e(82),e(67)],(i=typeof(t=function(n,r,s,c,a,f,d,p,v,u,g,x,E,S,w,B,_,O){var b=e(8),T=e(1);function m(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=T(r),s=T(s),c=T(c),a=T(a),f=T(f),d=T(d),p=T(p),v=T(v),u=T(u),g=T(g),x=b(x),E=T(E),S=T(S),B=T(B),_=T(_);var y=function(I){(0,f.default)(C,I);var R,M=(R=C,function(){var k,A=(0,p.default)(R);if(m()){var N=(0,p.default)(this).constructor;k=Reflect.construct(A,arguments,N)}else k=A.apply(this,arguments);return(0,d.default)(this,k)});function C(k){var A,N=k.config,D=k.eventsDispatcher;return(0,c.default)(this,C),(A=M.call(this,{config:N,eventsDispatcher:D})).CSS={inlineToolbar:"ce-inline-toolbar",inlineToolbarShowed:"ce-inline-toolbar--showed",inlineToolbarLeftOriented:"ce-inline-toolbar--left-oriented",inlineToolbarRightOriented:"ce-inline-toolbar--right-oriented",inlineToolbarShortcut:"ce-inline-toolbar__shortcut",buttonsWrapper:"ce-inline-toolbar__buttons",actionsWrapper:"ce-inline-toolbar__actions",inlineToolButton:"ce-inline-tool",inputField:"cdx-input",focusedButton:"ce-inline-tool--focused",conversionToggler:"ce-inline-toolbar__dropdown",conversionTogglerHidden:"ce-inline-toolbar__dropdown--hidden",conversionTogglerContent:"ce-inline-toolbar__dropdown-content",togglerAndButtonsWrapper:"ce-inline-toolbar__toggler-and-button-wrapper"},A.opened=!1,A.toolbarVerticalMargin=5,A.buttonsList=null,A.width=0,A.flipper=null,A.tooltip=new _.default,A}return(0,a.default)(C,[{key:"toggleReadOnly",value:function(k){k?(this.destroy(),this.Editor.ConversionToolbar.destroy()):this.make()}},{key:"tryToShow",value:function(){var k=arguments.length>0&&arguments[0]!==void 0&&arguments[0],A=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this.allowedToShow()?(this.move(),this.open(A),this.Editor.Toolbar.close()):k&&this.close()}},{key:"move",value:function(){var k=g.default.rect,A=this.Editor.UI.nodes.wrapper.getBoundingClientRect(),N={x:k.x-A.left,y:k.y+k.height-A.top+this.toolbarVerticalMargin};k.width&&(N.x+=Math.floor(k.width/2));var D=N.x-this.width/2,L=N.x+this.width/2;this.nodes.wrapper.classList.toggle(this.CSS.inlineToolbarLeftOriented,D<this.Editor.UI.contentRect.left),this.nodes.wrapper.classList.toggle(this.CSS.inlineToolbarRightOriented,L>this.Editor.UI.contentRect.right),this.nodes.wrapper.style.left=Math.floor(N.x)+"px",this.nodes.wrapper.style.top=Math.floor(N.y)+"px"}},{key:"close",value:function(){var k=this;this.opened&&(this.Editor.ReadOnly.isEnabled||(this.nodes.wrapper.classList.remove(this.CSS.inlineToolbarShowed),Array.from(this.toolsInstances.entries()).forEach(function(A){var N=(0,s.default)(A,2),D=N[0],L=N[1],F=k.getToolShortcut(D);F&&B.default.remove(k.Editor.UI.nodes.redactor,F),x.isFunction(L.clear)&&L.clear()}),this.opened=!1,this.flipper.deactivate(),this.Editor.ConversionToolbar.close()))}},{key:"open",value:function(){var k=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];if(!this.opened){this.addToolsFiltered(),this.nodes.wrapper.classList.add(this.CSS.inlineToolbarShowed),this.buttonsList=this.nodes.buttons.querySelectorAll(".".concat(this.CSS.inlineToolButton)),this.opened=!0,k&&this.Editor.ConversionToolbar.hasTools()?this.setConversionTogglerContent():this.nodes.conversionToggler.hidden=!0;var A=Array.from(this.buttonsList);A.unshift(this.nodes.conversionToggler),A=A.filter(function(N){return!N.hidden}),this.flipper.activate(A)}}},{key:"containsNode",value:function(k){return this.nodes.wrapper.contains(k)}},{key:"destroy",value:function(){this.flipper&&(this.flipper.deactivate(),this.flipper=null),this.removeAllNodes(),this.tooltip.destroy()}},{key:"make",value:function(){var k=this;this.nodes.wrapper=u.default.make("div",[this.CSS.inlineToolbar].concat((0,r.default)(this.isRtl?[this.Editor.UI.CSS.editorRtlFix]:[]))),this.nodes.togglerAndButtonsWrapper=u.default.make("div",this.CSS.togglerAndButtonsWrapper),this.nodes.buttons=u.default.make("div",this.CSS.buttonsWrapper),this.nodes.actions=u.default.make("div",this.CSS.actionsWrapper),this.listeners.on(this.nodes.wrapper,"mousedown",function(A){A.target.closest(".".concat(k.CSS.actionsWrapper))||A.preventDefault()}),u.default.append(this.nodes.wrapper,[this.nodes.togglerAndButtonsWrapper,this.nodes.actions]),u.default.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper),this.addConversionToggler(),u.default.append(this.nodes.togglerAndButtonsWrapper,this.nodes.buttons),this.prepareConversionToolbar(),this.recalculateWidth(),this.enableFlipper()}},{key:"allowedToShow",value:function(){var k=g.default.get(),A=g.default.text;if(!k||!k.anchorNode||k.isCollapsed||A.length<1)return!1;var N=u.default.isElement(k.anchorNode)?k.anchorNode:k.anchorNode.parentElement;if(k&&["IMG","INPUT"].includes(N.tagName)||N.closest('[contenteditable="true"]')===null)return!1;var D=this.Editor.BlockManager.getBlock(k.anchorNode);return!!D&&D.tool.inlineTools.size!==0}},{key:"recalculateWidth",value:function(){this.width=this.nodes.wrapper.offsetWidth}},{key:"addConversionToggler",value:function(){var k=this;this.nodes.conversionToggler=u.default.make("div",this.CSS.conversionToggler),this.nodes.conversionTogglerContent=u.default.make("div",this.CSS.conversionTogglerContent);var A=u.default.svg("toggler-down",13,13);this.nodes.conversionToggler.appendChild(this.nodes.conversionTogglerContent),this.nodes.conversionToggler.appendChild(A),this.nodes.togglerAndButtonsWrapper.appendChild(this.nodes.conversionToggler),this.listeners.on(this.nodes.conversionToggler,"click",function(){k.Editor.ConversionToolbar.toggle(function(N){!N&&k.opened?k.flipper.activate():k.opened&&k.flipper.deactivate()})}),this.tooltip.onHover(this.nodes.conversionToggler,S.default.ui(w.I18nInternalNS.ui.inlineToolbar.converter,"Convert to"),{placement:"top",hidingDelay:100})}},{key:"setConversionTogglerContent",value:function(){var k=this.Editor.BlockManager.currentBlock,A=k.name,N=k.tool.conversionConfig,D=N&&N.export;this.nodes.conversionToggler.hidden=!D,this.nodes.conversionToggler.classList.toggle(this.CSS.conversionTogglerHidden,!D);var L=k.tool.toolbox||{};this.nodes.conversionTogglerContent.innerHTML=L.icon||L.title||x.capitalize(A)}},{key:"prepareConversionToolbar",value:function(){var k=this.Editor.ConversionToolbar.make();u.default.append(this.nodes.wrapper,k)}},{key:"addToolsFiltered",value:function(){var k=this,A=g.default.get(),N=this.Editor.BlockManager.getBlock(A.anchorNode);this.nodes.buttons.innerHTML="",this.nodes.actions.innerHTML="",this.toolsInstances=new Map,Array.from(N.tool.inlineTools.values()).forEach(function(D){k.addTool(D)}),this.recalculateWidth()}},{key:"addTool",value:function(k){var A=this,N=k.create(),D=N.render();if(D){if(D.dataset.tool=k.name,this.nodes.buttons.appendChild(D),this.toolsInstances.set(k.name,N),x.isFunction(N.renderActions)){var L=N.renderActions();this.nodes.actions.appendChild(L)}this.listeners.on(D,"click",function(j){A.toolClicked(N),j.preventDefault()});var F=this.getToolShortcut(k.name);if(F)try{this.enableShortcuts(N,F)}catch{}var U=u.default.make("div"),P=S.default.t(w.I18nInternalNS.toolNames,k.title||x.capitalize(k.name));U.appendChild(u.default.text(P)),F&&U.appendChild(u.default.make("div",this.CSS.inlineToolbarShortcut,{textContent:x.beautifyShortcut(F)})),this.tooltip.onHover(D,U,{placement:"top",hidingDelay:100}),N.checkState(g.default.get())}else x.log("Render method must return an instance of Node","warn",k.name)}},{key:"getToolShortcut",value:function(k){var A=this.Editor.Tools,N=A.inlineTools.get(k),D=A.internal.inlineTools;return Array.from(D.keys()).includes(k)?this.inlineTools[k][O.CommonInternalSettings.Shortcut]:N.shortcut}},{key:"enableShortcuts",value:function(k,A){var N=this;B.default.add({name:A,handler:function(D){var L=N.Editor.BlockManager.currentBlock;L&&L.tool.enabledInlineTools&&(D.preventDefault(),N.toolClicked(k))},on:this.Editor.UI.nodes.redactor})}},{key:"toolClicked",value:function(k){var A=g.default.range;k.surround(A),this.checkToolsState()}},{key:"checkToolsState",value:function(){this.toolsInstances.forEach(function(k){k.checkState(g.default.get())})}},{key:"enableFlipper",value:function(){this.flipper=new E.default({focusedItemClass:this.CSS.focusedButton,allowArrows:!1})}},{key:"inlineTools",get:function(){var k={};return Array.from(this.Editor.Tools.inlineTools.entries()).forEach(function(A){var N=(0,s.default)(A,2),D=N[0],L=N[1];k[D]=L.create()}),k}}]),C}(v.default);n.default=y,y.displayName="InlineToolbar",l.exports=h.default})=="function"?t.apply(h,o):t)===void 0||(l.exports=i)},function(l,h,e){var t,o,i;o=[h,e(42),e(30),e(23),e(24),e(2),e(3),e(5),e(6),e(4),e(80),e(386),e(9),e(7),e(387),e(388),e(389),e(390),e(391),e(395),e(396),e(397),e(184)],(i=typeof(t=function(n,r,s,c,a,f,d,p,v,u,g,x,E,S,w,B,_,O,b,T,m,y,I){var R=e(8),M=e(1);function C(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=M(r),s=M(s),c=M(c),a=M(a),f=M(f),d=M(d),p=M(p),v=M(v),u=M(u),g=M(g),x=M(x),E=M(E),S=R(S),w=M(w),B=M(B),_=M(_),O=M(O),b=M(b),T=M(T),m=M(m),y=M(y),I=M(I);var k=function(N,D,L,F){var U,P=arguments.length,j=P<3?D:F===null?F=Object.getOwnPropertyDescriptor(D,L):F;if((typeof Reflect=="undefined"?"undefined":(0,g.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")j=Reflect.decorate(N,D,L,F);else for(var H=N.length-1;H>=0;H--)(U=N[H])&&(j=(P<3?U(j):P>3?U(D,L,j):U(D,L))||j);return P>3&&j&&Object.defineProperty(D,L,j),j},A=function(N){(0,p.default)(U,N);var D,L,F=(D=U,function(){var P,j=(0,u.default)(D);if(C()){var H=(0,u.default)(this).constructor;P=Reflect.construct(j,arguments,H)}else P=j.apply(this,arguments);return(0,v.default)(this,P)});function U(){var P;return(0,f.default)(this,U),(P=F.apply(this,arguments)).stubTool="stub",P.toolsAvailable=new I.default,P.toolsUnavailable=new I.default,P}return(0,d.default)(U,[{key:"prepare",value:(L=(0,a.default)(c.default.mark(function P(){var j,H,z=this;return c.default.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:if(this.validateTools(),this.config.tools=S.deepMerge({},this.internalTools,this.config.tools),Object.prototype.hasOwnProperty.call(this.config,"tools")&&Object.keys(this.config.tools).length!==0){W.next=4;break}throw Error("Can't start without tools");case 4:if(j=this.prepareConfig(),this.factory=new b.default(j,this.config,this.Editor.API),(H=this.getListOfPrepareFunctions(j)).length!==0){W.next=9;break}return W.abrupt("return",Promise.resolve());case 9:return W.next=11,S.sequence(H,function(K){z.toolPrepareMethodSuccess(K)},function(K){z.toolPrepareMethodFallback(K)});case 11:this.prepareBlockTools();case 12:case"end":return W.stop()}},P,this)})),function(){return L.apply(this,arguments)})},{key:"getAllInlineToolsSanitizeConfig",value:function(){var P={};return Array.from(this.inlineTools.values()).forEach(function(j){Object.assign(P,j.sanitizeConfig)}),P}},{key:"destroy",value:function(){Object.values(this.available).forEach(function(){var P=(0,a.default)(c.default.mark(function j(H){return c.default.wrap(function(z){for(;;)switch(z.prev=z.next){case 0:if(!S.isFunction(H.reset)){z.next=3;break}return z.next=3,H.reset();case 3:case"end":return z.stop()}},j)}));return function(j){return P.apply(this,arguments)}}())}},{key:"toolPrepareMethodSuccess",value:function(P){var j=this.factory.get(P.toolName);if(j.isInline()){var H=["render","surround","checkState"].filter(function(z){return!j.create()[z]});if(H.length)return S.log("Incorrect Inline Tool: ".concat(j.name,". Some of required methods is not implemented %o"),"warn",H),void this.toolsUnavailable.set(j.name,j)}this.toolsAvailable.set(j.name,j)}},{key:"toolPrepareMethodFallback",value:function(P){this.toolsUnavailable.set(P.toolName,this.factory.get(P.toolName))}},{key:"getListOfPrepareFunctions",value:function(P){var j=[];return Object.entries(P).forEach(function(H){var z=(0,s.default)(H,2),W=z[0],K=z[1];j.push({function:S.isFunction(K.class.prepare)?K.class.prepare:function(){},data:{toolName:W,config:K.config}})}),j}},{key:"prepareBlockTools",value:function(){var P=this;Array.from(this.blockTools.values()).forEach(function(j){P.assignInlineToolsToBlockTool(j),P.assignBlockTunesToBlockTool(j)})}},{key:"assignInlineToolsToBlockTool",value:function(P){var j=this;this.config.inlineToolbar!==!1&&(P.enabledInlineTools!==!0?Array.isArray(P.enabledInlineTools)&&(P.inlineTools=new I.default(P.enabledInlineTools.map(function(H){return[H,j.inlineTools.get(H)]}))):P.inlineTools=new I.default(Array.isArray(this.config.inlineToolbar)?this.config.inlineToolbar.map(function(H){return[H,j.inlineTools.get(H)]}):Array.from(this.inlineTools.entries())))}},{key:"assignBlockTunesToBlockTool",value:function(P){var j=this;if(P.enabledBlockTunes!==!1)if(Array.isArray(P.enabledBlockTunes)){var H=new I.default(P.enabledBlockTunes.map(function(W){return[W,j.blockTunes.get(W)]}));P.tunes=new I.default([].concat((0,r.default)(H),(0,r.default)(this.blockTunes.internalTools)))}else if(Array.isArray(this.config.tunes)){var z=new I.default(this.config.tunes.map(function(W){return[W,j.blockTunes.get(W)]}));P.tunes=new I.default([].concat((0,r.default)(z),(0,r.default)(this.blockTunes.internalTools)))}else P.tunes=this.blockTunes.internalTools}},{key:"validateTools",value:function(){for(var P in this.config.tools)if(Object.prototype.hasOwnProperty.call(this.config.tools,P)){if(P in this.internalTools)return;var j=this.config.tools[P];if(!S.isFunction(j)&&!S.isFunction(j.class))throw Error("Tool \xAB".concat(P,"\xBB must be a constructor function or an object with function in the \xABclass\xBB property"))}}},{key:"prepareConfig",value:function(){var P={};for(var j in this.config.tools)S.isObject(this.config.tools[j])?P[j]=this.config.tools[j]:P[j]={class:this.config.tools[j]};return P}},{key:"available",get:function(){return this.toolsAvailable}},{key:"unavailable",get:function(){return this.toolsUnavailable}},{key:"inlineTools",get:function(){return this.available.inlineTools}},{key:"blockTools",get:function(){return this.available.blockTools}},{key:"blockTunes",get:function(){return this.available.blockTunes}},{key:"defaultTool",get:function(){return this.blockTools.get(this.config.defaultBlock)}},{key:"internal",get:function(){return this.available.internalTools}},{key:"internalTools",get:function(){return{bold:{class:w.default,isInternal:!0},italic:{class:B.default,isInternal:!0},link:{class:_.default,isInternal:!0},paragraph:{class:x.default,inlineToolbar:!0,isInternal:!0},stub:{class:O.default,isInternal:!0},moveUp:{class:y.default,isInternal:!0},delete:{class:m.default,isInternal:!0},moveDown:{class:T.default,isInternal:!0}}}}]),U}(E.default);n.default=A,A.displayName="Tools",k([S.cacheable],A.prototype,"getAllInlineToolsSanitizeConfig",null),l.exports=h.default})=="function"?t.apply(h,o):t)===void 0||(l.exports=i)},function(l,h,e){var t,o,i;o=[h,e(30),e(2),e(3),e(5),e(6),e(4),e(152)],(i=typeof(t=function(n,r,s,c,a,f,d,p){var v=e(1);function u(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=v(r),s=v(s),c=v(c),a=v(a),f=v(f),d=v(d);var g=function(x){(0,a.default)(w,x);var E,S=(E=w,function(){var B,_=(0,d.default)(E);if(u()){var O=(0,d.default)(this).constructor;B=Reflect.construct(_,arguments,O)}else B=_.apply(this,arguments);return(0,f.default)(this,B)});function w(){return(0,s.default)(this,w),S.apply(this,arguments)}return(0,c.default)(w,[{key:"blockTools",get:function(){return new w(Array.from(this.entries()).filter(function(B){return(0,r.default)(B,2)[1].isBlock()}))}},{key:"inlineTools",get:function(){return new w(Array.from(this.entries()).filter(function(B){return(0,r.default)(B,2)[1].isInline()}))}},{key:"blockTunes",get:function(){return new w(Array.from(this.entries()).filter(function(B){return(0,r.default)(B,2)[1].isTune()}))}},{key:"internalTools",get:function(){return new w(Array.from(this.entries()).filter(function(B){return(0,r.default)(B,2)[1].isInternal}))}},{key:"externalTools",get:function(){return new w(Array.from(this.entries()).filter(function(B){return!(0,r.default)(B,2)[1].isInternal}))}}]),w}((0,(p=v(p)).default)(Map));n.default=g,g.displayName="ToolsCollection",l.exports=h.default})=="function"?t.apply(h,o):t)===void 0||(l.exports=i)},function(l,h,e){var t,o,i;o=[h,e(30),e(42),e(23),e(24),e(2),e(3),e(5),e(6),e(4),e(398),e(9),e(15),e(7),e(25),e(66),e(60)],(i=typeof(t=function(n,r,s,c,a,f,d,p,v,u,g,x,E,S,w,B,_){var O=e(8),b=e(1);function T(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=b(r),s=b(s),c=b(c),a=b(a),f=b(f),d=b(d),p=b(p),v=b(v),u=b(u),g=b(g),x=b(x),E=b(E),S=O(S),w=b(w),B=b(B),_=b(_);var m=function(y){(0,p.default)(C,y);var I,R,M=(I=C,function(){var k,A=(0,u.default)(I);if(T()){var N=(0,u.default)(this).constructor;k=Reflect.construct(A,arguments,N)}else k=A.apply(this,arguments);return(0,v.default)(this,k)});function C(){var k;return(0,f.default)(this,C),(k=M.apply(this,arguments)).isMobile=!1,k.contentRectCache=void 0,k.resizeDebouncer=S.debounce(function(){k.windowResize()},200),k}return(0,d.default)(C,[{key:"addLoader",value:function(){this.nodes.loader=E.default.make("div",this.CSS.editorLoader),this.nodes.wrapper.prepend(this.nodes.loader),this.nodes.redactor.classList.add(this.CSS.editorZoneHidden)}},{key:"removeLoader",value:function(){this.nodes.loader.remove(),this.nodes.redactor.classList.remove(this.CSS.editorZoneHidden)}},{key:"prepare",value:(R=(0,a.default)(c.default.mark(function k(){return c.default.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:this.checkIsMobile(),this.make(),this.addLoader(),this.appendSVGSprite(),this.loadStyles();case 5:case"end":return A.stop()}},k,this)})),function(){return R.apply(this,arguments)})},{key:"toggleReadOnly",value:function(k){k?this.disableModuleBindings():this.enableModuleBindings()}},{key:"checkEmptiness",value:function(){var k=this.Editor.BlockManager;this.nodes.wrapper.classList.toggle(this.CSS.editorEmpty,k.isEditorEmpty)}},{key:"destroy",value:function(){this.nodes.holder.innerHTML=""}},{key:"closeAllToolbars",value:function(){var k=this.Editor,A=k.Toolbar,N=k.BlockSettings,D=k.InlineToolbar,L=k.ConversionToolbar;N.close(),D.close(),L.close(),A.toolbox.close()}},{key:"checkIsMobile",value:function(){this.isMobile=window.innerWidth<650}},{key:"make",value:function(){this.nodes.holder=E.default.getHolder(this.config.holder),this.nodes.wrapper=E.default.make("div",[this.CSS.editorWrapper].concat((0,s.default)(this.isRtl?[this.CSS.editorRtlFix]:[]))),this.nodes.redactor=E.default.make("div",this.CSS.editorZone),this.nodes.holder.offsetWidth<this.contentRect.width&&this.nodes.wrapper.classList.add(this.CSS.editorWrapperNarrow),this.nodes.redactor.style.paddingBottom=this.config.minHeight+"px",this.nodes.wrapper.appendChild(this.nodes.redactor),this.nodes.holder.appendChild(this.nodes.wrapper)}},{key:"loadStyles",value:function(){var k=e(399);if(!E.default.get("editor-js-styles")){var A=E.default.make("style",null,{id:"editor-js-styles",textContent:k.toString()});E.default.prepend(document.head,A)}}},{key:"enableModuleBindings",value:function(){var k=this;this.readOnlyMutableListeners.on(this.nodes.redactor,"click",function(A){k.redactorClicked(A)},!1),this.readOnlyMutableListeners.on(this.nodes.redactor,"mousedown",function(A){k.documentTouched(A)},!0),this.readOnlyMutableListeners.on(this.nodes.redactor,"touchstart",function(A){k.documentTouched(A)},!0),this.readOnlyMutableListeners.on(document,"keydown",function(A){k.documentKeydown(A)},!0),this.readOnlyMutableListeners.on(document,"mousedown",function(A){k.documentClicked(A)},!0),this.readOnlyMutableListeners.on(document,"selectionchange",function(A){k.selectionChanged(A)},!0),this.readOnlyMutableListeners.on(window,"resize",function(){k.resizeDebouncer()},{passive:!0}),this.watchBlockHoveredEvents()}},{key:"watchBlockHoveredEvents",value:function(){var k,A=this;this.readOnlyMutableListeners.on(this.nodes.redactor,"mousemove",S.throttle(function(N){var D=N.target.closest(".ce-block");A.Editor.BlockSelection.anyBlockSelected||D&&k!==D&&(k=D,A.eventsDispatcher.emit(A.events.blockHovered,{block:A.Editor.BlockManager.getBlockByChildNode(D)}))},20),{passive:!0})}},{key:"disableModuleBindings",value:function(){this.readOnlyMutableListeners.clearAll()}},{key:"windowResize",value:function(){this.contentRectCache=null,this.checkIsMobile()}},{key:"documentKeydown",value:function(k){switch(k.keyCode){case S.keyCodes.ENTER:this.enterPressed(k);break;case S.keyCodes.BACKSPACE:this.backspacePressed(k);break;case S.keyCodes.ESC:this.escapePressed(k);break;default:this.defaultBehaviour(k)}}},{key:"defaultBehaviour",value:function(k){var A=this.Editor.BlockManager.currentBlock,N=k.target.closest(".".concat(this.CSS.editorWrapper)),D=k.altKey||k.ctrlKey||k.metaKey||k.shiftKey;A===void 0||N!==null?N||A&&D||(this.Editor.BlockManager.dropPointer(),this.Editor.Toolbar.close()):this.Editor.BlockEvents.keydown(k)}},{key:"backspacePressed",value:function(k){var A=this.Editor,N=A.BlockManager,D=A.BlockSelection,L=A.Caret;if(D.anyBlockSelected&&!w.default.isSelectionExists){var F=N.removeSelectedBlocks();L.setToBlock(N.insertDefaultBlockAtIndex(F,!0),L.positions.START),D.clearSelection(k),k.preventDefault(),k.stopPropagation(),k.stopImmediatePropagation()}}},{key:"escapePressed",value:function(k){this.Editor.BlockSelection.clearSelection(k),this.Editor.Toolbar.toolbox.opened?this.Editor.Toolbar.toolbox.close():this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.ConversionToolbar.opened?this.Editor.ConversionToolbar.close():this.Editor.InlineToolbar.opened?this.Editor.InlineToolbar.close():this.Editor.Toolbar.close()}},{key:"enterPressed",value:function(k){var A=this.Editor,N=A.BlockManager,D=A.BlockSelection,L=N.currentBlockIndex>=0;if(D.anyBlockSelected&&!w.default.isSelectionExists)return D.clearSelection(k),k.preventDefault(),k.stopImmediatePropagation(),void k.stopPropagation();if(!this.someToolbarOpened&&L&&k.target.tagName==="BODY"){var F=this.Editor.BlockManager.insert();this.Editor.Caret.setToBlock(F),this.Editor.BlockManager.highlightCurrentNode(),this.Editor.Toolbar.moveAndOpen(F)}this.Editor.BlockSelection.clearSelection(k)}},{key:"documentClicked",value:function(k){if(k.isTrusted){var A=k.target;this.nodes.holder.contains(A)||w.default.isAtEditor||(this.Editor.BlockManager.dropPointer(),this.Editor.Toolbar.close());var N=this.Editor.BlockSettings.nodes.wrapper.contains(A),D=this.Editor.Toolbar.nodes.settingsToggler.contains(A),L=N||D;if(this.Editor.BlockSettings.opened&&!L){this.Editor.BlockSettings.close();var F=this.Editor.BlockManager.getBlockByChildNode(A);this.Editor.Toolbar.moveAndOpen(F)}this.Editor.BlockSelection.clearSelection(k)}}},{key:"documentTouched",value:function(k){var A=k.target;if(A===this.nodes.redactor){var N=k instanceof MouseEvent?k.clientX:k.touches[0].clientX,D=k instanceof MouseEvent?k.clientY:k.touches[0].clientY;A=document.elementFromPoint(N,D)}try{this.Editor.BlockManager.setCurrentBlockByChildNode(A),this.Editor.BlockManager.highlightCurrentNode()}catch{this.Editor.RectangleSelection.isRectActivated()||this.Editor.Caret.setToTheLastBlock()}this.Editor.Toolbar.moveAndOpen()}},{key:"redactorClicked",value:function(k){var A=this.Editor.BlockSelection;if(w.default.isCollapsed){var N=function(){k.stopImmediatePropagation(),k.stopPropagation()},D=k.target,L=k.metaKey||k.ctrlKey;if(E.default.isAnchor(D)&&L){N();var F=D.getAttribute("href"),U=S.getValidUrl(F);S.openTab(U)}else{var P=this.Editor.BlockManager.getBlockByIndex(-1),j=E.default.offset(P.holder).bottom,H=k.pageY;if(k.target instanceof Element&&k.target.isEqualNode(this.nodes.redactor)&&!A.anyBlockSelected&&j<H){N();var z=this.Editor,W=z.BlockManager,K=z.Caret,Y=z.Toolbar;W.lastBlock.tool.isDefault&&W.lastBlock.isEmpty||W.insertAtEnd(),K.setToTheLastBlock(),Y.moveAndOpen(W.lastBlock)}}}}},{key:"selectionChanged",value:function(k){var A=this.Editor,N=A.CrossBlockSelection,D=A.BlockSelection,L=w.default.anchorElement;if(N.isCrossBlockSelectionStarted&&D.anyBlockSelected&&w.default.get().removeAllRanges(),L){var F=L.closest(".".concat(B.default.CSS.content))===null;if(F&&(this.Editor.InlineToolbar.containsNode(L)||this.Editor.InlineToolbar.close(),L.dataset.inlineToolbar!=="true"))return;this.Editor.BlockManager.currentBlock||this.Editor.BlockManager.setCurrentBlockByChildNode(L);var U=F!==!0;this.Editor.InlineToolbar.tryToShow(!0,U)}else w.default.range||this.Editor.InlineToolbar.close()}},{key:"appendSVGSprite",value:function(){var k=E.default.make("div");k.hidden=!0,k.style.display="none",k.innerHTML=g.default,E.default.append(this.nodes.wrapper,k)}},{key:"events",get:function(){return{blockHovered:"block-hovered"}}},{key:"CSS",get:function(){return{editorWrapper:"codex-editor",editorWrapperNarrow:"codex-editor--narrow",editorZone:"codex-editor__redactor",editorZoneHidden:"codex-editor__redactor--hidden",editorLoader:"codex-editor__loader",editorEmpty:"codex-editor--empty",editorRtlFix:"codex-editor--rtl"}}},{key:"contentRect",get:function(){if(this.contentRectCache)return this.contentRectCache;var k=this.nodes.wrapper.querySelector(".".concat(B.default.CSS.content));return k?(this.contentRectCache=k.getBoundingClientRect(),this.contentRectCache):{width:650,left:0,right:0}}},{key:"someToolbarOpened",get:function(){var k=this.Editor,A=k.Toolbar,N=k.BlockSettings,D=k.InlineToolbar,L=k.ConversionToolbar;return N.opened||D.opened||L.opened||A.toolbox.opened}},{key:"someFlipperButtonFocused",get:function(){return!!this.Editor.Toolbar.toolbox.flipperHasFocus||Object.entries(this.Editor).filter(function(k){var A=(0,r.default)(k,2);return A[0],A[1].flipper instanceof _.default}).some(function(k){var A=(0,r.default)(k,2);return A[0],A[1].flipper.currentItem})}}]),C}(x.default);n.default=m,m.displayName="UI",l.exports=h.default})=="function"?t.apply(h,o):t)===void 0||(l.exports=i)},function(l,h,e){e(187),l.exports=e(359)},function(l,h,e){e(188)},function(l,h,e){e(189),e(332),e(334),e(337),e(339),e(341),e(343),e(345),e(347),e(349),e(351),e(353),e(355),e(146)},function(l,h,e){e(190),e(193),e(194),e(195),e(196),e(197),e(198),e(199),e(200),e(201),e(202),e(203),e(204),e(205),e(206),e(207),e(208),e(209),e(210),e(211),e(212),e(213),e(214),e(215),e(216),e(217),e(218),e(219),e(220),e(221),e(222),e(223),e(224),e(225),e(226),e(227),e(228),e(229),e(230),e(231),e(232),e(233),e(234),e(236),e(237),e(238),e(239),e(240),e(241),e(242),e(243),e(244),e(245),e(246),e(247),e(248),e(249),e(250),e(251),e(252),e(253),e(254),e(255),e(256),e(257),e(258),e(259),e(260),e(261),e(262),e(263),e(264),e(265),e(266),e(267),e(268),e(269),e(271),e(272),e(274),e(275),e(276),e(277),e(278),e(279),e(280),e(282),e(283),e(284),e(285),e(286),e(287),e(288),e(289),e(290),e(291),e(292),e(293),e(294),e(105),e(295),e(135),e(296),e(136),e(297),e(298),e(299),e(300),e(137),e(303),e(304),e(305),e(306),e(307),e(308),e(309),e(310),e(311),e(312),e(313),e(314),e(315),e(316),e(317),e(318),e(319),e(320),e(321),e(322),e(323),e(324),e(325),e(326),e(327),e(328),e(329),e(330),e(331),l.exports=e(17)},function(l,h,e){var t=e(10),o=e(26),i=e(18),n=e(0),r=e(21),s=e(41).KEY,c=e(11),a=e(68),f=e(53),d=e(44),p=e(14),v=e(86),u=e(116),g=e(192),x=e(71),E=e(12),S=e(13),w=e(20),B=e(28),_=e(40),O=e(43),b=e(48),T=e(119),m=e(34),y=e(70),I=e(19),R=e(46),M=m.f,C=I.f,k=T.f,A=t.Symbol,N=t.JSON,D=N&&N.stringify,L=p("_hidden"),F=p("toPrimitive"),U={}.propertyIsEnumerable,P=a("symbol-registry"),j=a("symbols"),H=a("op-symbols"),z=Object.prototype,W=typeof A=="function"&&!!y.f,K=t.QObject,Y=!K||!K.prototype||!K.prototype.findChild,$=i&&c(function(){return b(C({},"a",{get:function(){return C(this,"a",{value:7}).a}})).a!=7})?function(X,J,ie){var ye=M(z,J);ye&&delete z[J],C(X,J,ie),ye&&X!==z&&C(z,J,ye)}:C,ee=function(X){var J=j[X]=b(A.prototype);return J._k=X,J},te=W&&typeof A.iterator=="symbol"?function(X){return typeof X=="symbol"}:function(X){return X instanceof A},V=function(X,J,ie){return X===z&&V(H,J,ie),E(X),J=_(J,!0),E(ie),o(j,J)?(ie.enumerable?(o(X,L)&&X[L][J]&&(X[L][J]=!1),ie=b(ie,{enumerable:O(0,!1)})):(o(X,L)||C(X,L,O(1,{})),X[L][J]=!0),$(X,J,ie)):C(X,J,ie)},q=function(X,J){E(X);for(var ie,ye=g(J=B(J)),ke=0,Be=ye.length;Be>ke;)V(X,ie=ye[ke++],J[ie]);return X},ae=function(X){var J=U.call(this,X=_(X,!0));return!(this===z&&o(j,X)&&!o(H,X))&&(!(J||!o(this,X)||!o(j,X)||o(this,L)&&this[L][X])||J)},Q=function(X,J){if(X=B(X),J=_(J,!0),X!==z||!o(j,J)||o(H,J)){var ie=M(X,J);return!ie||!o(j,J)||o(X,L)&&X[L][J]||(ie.enumerable=!0),ie}},re=function(X){for(var J,ie=k(B(X)),ye=[],ke=0;ie.length>ke;)o(j,J=ie[ke++])||J==L||J==s||ye.push(J);return ye},de=function(X){for(var J,ie=X===z,ye=k(ie?H:B(X)),ke=[],Be=0;ye.length>Be;)!o(j,J=ye[Be++])||ie&&!o(z,J)||ke.push(j[J]);return ke};W||(r((A=function(){if(this instanceof A)throw TypeError("Symbol is not a constructor!");var X=d(arguments.length>0?arguments[0]:void 0),J=function(ie){this===z&&J.call(H,ie),o(this,L)&&o(this[L],X)&&(this[L][X]=!1),$(this,X,O(1,ie))};return i&&Y&&$(z,X,{configurable:!0,set:J}),ee(X)}).prototype,"toString",function(){return this._k}),m.f=Q,I.f=V,e(49).f=T.f=re,e(62).f=ae,y.f=de,i&&!e(45)&&r(z,"propertyIsEnumerable",ae,!0),v.f=function(X){return ee(p(X))}),n(n.G+n.W+n.F*!W,{Symbol:A});for(var pe="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ue=0;pe.length>ue;)p(pe[ue++]);for(var ve=R(p.store),ge=0;ve.length>ge;)u(ve[ge++]);n(n.S+n.F*!W,"Symbol",{for:function(X){return o(P,X+="")?P[X]:P[X]=A(X)},keyFor:function(X){if(!te(X))throw TypeError(X+" is not a symbol!");for(var J in P)if(P[J]===X)return J},useSetter:function(){Y=!0},useSimple:function(){Y=!1}}),n(n.S+n.F*!W,"Object",{create:function(X,J){return J===void 0?b(X):q(b(X),J)},defineProperty:V,defineProperties:q,getOwnPropertyDescriptor:Q,getOwnPropertyNames:re,getOwnPropertySymbols:de});var ce=c(function(){y.f(1)});n(n.S+n.F*ce,"Object",{getOwnPropertySymbols:function(X){return y.f(w(X))}}),N&&n(n.S+n.F*(!W||c(function(){var X=A();return D([X])!="[null]"||D({a:X})!="{}"||D(Object(X))!="{}"})),"JSON",{stringify:function(X){for(var J,ie,ye=[X],ke=1;arguments.length>ke;)ye.push(arguments[ke++]);if(ie=J=ye[1],(S(J)||X!==void 0)&&!te(X))return x(J)||(J=function(Be,Te){if(typeof ie=="function"&&(Te=ie.call(this,Be,Te)),!te(Te))return Te}),ye[1]=J,D.apply(N,ye)}}),A.prototype[F]||e(27)(A.prototype,F,A.prototype.valueOf),f(A,"Symbol"),f(Math,"Math",!0),f(t.JSON,"JSON",!0)},function(l,h,e){l.exports=e(68)("native-function-to-string",Function.toString)},function(l,h,e){var t=e(46),o=e(70),i=e(62);l.exports=function(n){var r=t(n),s=o.f;if(s)for(var c,a=s(n),f=i.f,d=0;a.length>d;)f.call(n,c=a[d++])&&r.push(c);return r}},function(l,h,e){var t=e(0);t(t.S,"Object",{create:e(48)})},function(l,h,e){var t=e(0);t(t.S+t.F*!e(18),"Object",{defineProperty:e(19).f})},function(l,h,e){var t=e(0);t(t.S+t.F*!e(18),"Object",{defineProperties:e(118)})},function(l,h,e){var t=e(28),o=e(34).f;e(35)("getOwnPropertyDescriptor",function(){return function(i,n){return o(t(i),n)}})},function(l,h,e){var t=e(20),o=e(50);e(35)("getPrototypeOf",function(){return function(i){return o(t(i))}})},function(l,h,e){var t=e(20),o=e(46);e(35)("keys",function(){return function(i){return o(t(i))}})},function(l,h,e){e(35)("getOwnPropertyNames",function(){return e(119).f})},function(l,h,e){var t=e(13),o=e(41).onFreeze;e(35)("freeze",function(i){return function(n){return i&&t(n)?i(o(n)):n}})},function(l,h,e){var t=e(13),o=e(41).onFreeze;e(35)("seal",function(i){return function(n){return i&&t(n)?i(o(n)):n}})},function(l,h,e){var t=e(13),o=e(41).onFreeze;e(35)("preventExtensions",function(i){return function(n){return i&&t(n)?i(o(n)):n}})},function(l,h,e){var t=e(13);e(35)("isFrozen",function(o){return function(i){return!t(i)||!!o&&o(i)}})},function(l,h,e){var t=e(13);e(35)("isSealed",function(o){return function(i){return!t(i)||!!o&&o(i)}})},function(l,h,e){var t=e(13);e(35)("isExtensible",function(o){return function(i){return!!t(i)&&(!o||o(i))}})},function(l,h,e){var t=e(0);t(t.S+t.F,"Object",{assign:e(120)})},function(l,h,e){var t=e(0);t(t.S,"Object",{is:e(121)})},function(l,h,e){var t=e(0);t(t.S,"Object",{setPrototypeOf:e(90).set})},function(l,h,e){var t=e(63),o={};o[e(14)("toStringTag")]="z",o+""!="[object z]"&&e(21)(Object.prototype,"toString",function(){return"[object "+t(this)+"]"},!0)},function(l,h,e){var t=e(0);t(t.P,"Function",{bind:e(122)})},function(l,h,e){var t=e(19).f,o=Function.prototype,i=/^\s*function ([^ (]*)/;"name"in o||e(18)&&t(o,"name",{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch{return""}}})},function(l,h,e){var t=e(13),o=e(50),i=e(14)("hasInstance"),n=Function.prototype;i in n||e(19).f(n,i,{value:function(r){if(typeof this!="function"||!t(r))return!1;if(!t(this.prototype))return r instanceof this;for(;r=o(r);)if(this.prototype===r)return!0;return!1}})},function(l,h,e){var t=e(0),o=e(124);t(t.G+t.F*(parseInt!=o),{parseInt:o})},function(l,h,e){var t=e(0),o=e(125);t(t.G+t.F*(parseFloat!=o),{parseFloat:o})},function(l,h,e){var t=e(10),o=e(26),i=e(37),n=e(92),r=e(40),s=e(11),c=e(49).f,a=e(34).f,f=e(19).f,d=e(54).trim,p=t.Number,v=p,u=p.prototype,g=i(e(48)(u))=="Number",x="trim"in String.prototype,E=function(_){var O=r(_,!1);if(typeof O=="string"&&O.length>2){var b,T,m,y=(O=x?O.trim():d(O,3)).charCodeAt(0);if(y===43||y===45){if((b=O.charCodeAt(2))===88||b===120)return NaN}else if(y===48){switch(O.charCodeAt(1)){case 66:case 98:T=2,m=49;break;case 79:case 111:T=8,m=55;break;default:return+O}for(var I,R=O.slice(2),M=0,C=R.length;M<C;M++)if((I=R.charCodeAt(M))<48||I>m)return NaN;return parseInt(R,T)}}return+O};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(_){var O=arguments.length<1?0:_,b=this;return b instanceof p&&(g?s(function(){u.valueOf.call(b)}):i(b)!="Number")?n(new v(E(O)),b,p):E(O)};for(var S,w=e(18)?c(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),B=0;w.length>B;B++)o(v,S=w[B])&&!o(p,S)&&f(p,S,a(v,S));p.prototype=u,u.constructor=p,e(21)(t,"Number",p)}},function(l,h,e){var t=e(0),o=e(33),i=e(126),n=e(93),r=1 .toFixed,s=Math.floor,c=[0,0,0,0,0,0],a="Number.toFixed: incorrect invocation!",f=function(u,g){for(var x=-1,E=g;++x<6;)E+=u*c[x],c[x]=E%1e7,E=s(E/1e7)},d=function(u){for(var g=6,x=0;--g>=0;)x+=c[g],c[g]=s(x/u),x=x%u*1e7},p=function(){for(var u=6,g="";--u>=0;)if(g!==""||u===0||c[u]!==0){var x=String(c[u]);g=g===""?x:g+n.call("0",7-x.length)+x}return g},v=function(u,g,x){return g===0?x:g%2==1?v(u,g-1,x*u):v(u*u,g/2,x)};t(t.P+t.F*(!!r&&(8e-5 .toFixed(3)!=="0.000"||.9 .toFixed(0)!=="1"||1.255 .toFixed(2)!=="1.25"||1000000000000000100 .toFixed(0)!=="1000000000000000128")||!e(11)(function(){r.call({})})),"Number",{toFixed:function(u){var g,x,E,S,w=i(this,a),B=o(u),_="",O="0";if(B<0||B>20)throw RangeError(a);if(w!=w)return"NaN";if(w<=-1e21||w>=1e21)return String(w);if(w<0&&(_="-",w=-w),w>1e-21)if(x=(g=function(b){for(var T=0,m=b;m>=4096;)T+=12,m/=4096;for(;m>=2;)T+=1,m/=2;return T}(w*v(2,69,1))-69)<0?w*v(2,-g,1):w/v(2,g,1),x*=4503599627370496,(g=52-g)>0){for(f(0,x),E=B;E>=7;)f(1e7,0),E-=7;for(f(v(10,E,1),0),E=g-1;E>=23;)d(1<<23),E-=23;d(1<<E),f(1,1),d(2),O=p()}else f(0,x),f(1<<-g,0),O=p()+n.call("0",B);return O=B>0?_+((S=O.length)<=B?"0."+n.call("0",B-S)+O:O.slice(0,S-B)+"."+O.slice(S-B)):_+O}})},function(l,h,e){var t=e(0),o=e(11),i=e(126),n=1 .toPrecision;t(t.P+t.F*(o(function(){return n.call(1,void 0)!=="1"})||!o(function(){n.call({})})),"Number",{toPrecision:function(r){var s=i(this,"Number#toPrecision: incorrect invocation!");return r===void 0?n.call(s):n.call(s,r)}})},function(l,h,e){var t=e(0);t(t.S,"Number",{EPSILON:Math.pow(2,-52)})},function(l,h,e){var t=e(0),o=e(10).isFinite;t(t.S,"Number",{isFinite:function(i){return typeof i=="number"&&o(i)}})},function(l,h,e){var t=e(0);t(t.S,"Number",{isInteger:e(127)})},function(l,h,e){var t=e(0);t(t.S,"Number",{isNaN:function(o){return o!=o}})},function(l,h,e){var t=e(0),o=e(127),i=Math.abs;t(t.S,"Number",{isSafeInteger:function(n){return o(n)&&i(n)<=9007199254740991}})},function(l,h,e){var t=e(0);t(t.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(l,h,e){var t=e(0);t(t.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(l,h,e){var t=e(0),o=e(125);t(t.S+t.F*(Number.parseFloat!=o),"Number",{parseFloat:o})},function(l,h,e){var t=e(0),o=e(124);t(t.S+t.F*(Number.parseInt!=o),"Number",{parseInt:o})},function(l,h,e){var t=e(0),o=e(128),i=Math.sqrt,n=Math.acosh;t(t.S+t.F*!(n&&Math.floor(n(Number.MAX_VALUE))==710&&n(1/0)==1/0),"Math",{acosh:function(r){return(r=+r)<1?NaN:r>9490626562425156e-8?Math.log(r)+Math.LN2:o(r-1+i(r-1)*i(r+1))}})},function(l,h,e){var t=e(0),o=Math.asinh;t(t.S+t.F*!(o&&1/o(0)>0),"Math",{asinh:function i(n){return isFinite(n=+n)&&n!=0?n<0?-i(-n):Math.log(n+Math.sqrt(n*n+1)):n}})},function(l,h,e){var t=e(0),o=Math.atanh;t(t.S+t.F*!(o&&1/o(-0)<0),"Math",{atanh:function(i){return(i=+i)==0?i:Math.log((1+i)/(1-i))/2}})},function(l,h,e){var t=e(0),o=e(94);t(t.S,"Math",{cbrt:function(i){return o(i=+i)*Math.pow(Math.abs(i),1/3)}})},function(l,h,e){var t=e(0);t(t.S,"Math",{clz32:function(o){return(o>>>=0)?31-Math.floor(Math.log(o+.5)*Math.LOG2E):32}})},function(l,h,e){var t=e(0),o=Math.exp;t(t.S,"Math",{cosh:function(i){return(o(i=+i)+o(-i))/2}})},function(l,h,e){var t=e(0),o=e(95);t(t.S+t.F*(o!=Math.expm1),"Math",{expm1:o})},function(l,h,e){var t=e(0);t(t.S,"Math",{fround:e(235)})},function(l,h,e){var t=e(94),o=Math.pow,i=o(2,-52),n=o(2,-23),r=o(2,127)*(2-n),s=o(2,-126);l.exports=Math.fround||function(c){var a,f,d=Math.abs(c),p=t(c);return d<s?p*(d/s/n+1/i-1/i)*s*n:(f=(a=(1+n/i)*d)-(a-d))>r||f!=f?p*(1/0):p*f}},function(l,h,e){var t=e(0),o=Math.abs;t(t.S,"Math",{hypot:function(i,n){for(var r,s,c=0,a=0,f=arguments.length,d=0;a<f;)d<(r=o(arguments[a++]))?(c=c*(s=d/r)*s+1,d=r):c+=r>0?(s=r/d)*s:r;return d===1/0?1/0:d*Math.sqrt(c)}})},function(l,h,e){var t=e(0),o=Math.imul;t(t.S+t.F*e(11)(function(){return o(4294967295,5)!=-5||o.length!=2}),"Math",{imul:function(i,n){var r=+i,s=+n,c=65535&r,a=65535&s;return 0|c*a+((65535&r>>>16)*a+c*(65535&s>>>16)<<16>>>0)}})},function(l,h,e){var t=e(0);t(t.S,"Math",{log10:function(o){return Math.log(o)*Math.LOG10E}})},function(l,h,e){var t=e(0);t(t.S,"Math",{log1p:e(128)})},function(l,h,e){var t=e(0);t(t.S,"Math",{log2:function(o){return Math.log(o)/Math.LN2}})},function(l,h,e){var t=e(0);t(t.S,"Math",{sign:e(94)})},function(l,h,e){var t=e(0),o=e(95),i=Math.exp;t(t.S+t.F*e(11)(function(){return!Math.sinh(-2e-17)!=-2e-17}),"Math",{sinh:function(n){return Math.abs(n=+n)<1?(o(n)-o(-n))/2:(i(n-1)-i(-n-1))*(Math.E/2)}})},function(l,h,e){var t=e(0),o=e(95),i=Math.exp;t(t.S,"Math",{tanh:function(n){var r=o(n=+n),s=o(-n);return r==1/0?1:s==1/0?-1:(r-s)/(i(n)+i(-n))}})},function(l,h,e){var t=e(0);t(t.S,"Math",{trunc:function(o){return(o>0?Math.floor:Math.ceil)(o)}})},function(l,h,e){var t=e(0),o=e(47),i=String.fromCharCode,n=String.fromCodePoint;t(t.S+t.F*(!!n&&n.length!=1),"String",{fromCodePoint:function(r){for(var s,c=[],a=arguments.length,f=0;a>f;){if(s=+arguments[f++],o(s,1114111)!==s)throw RangeError(s+" is not a valid code point");c.push(s<65536?i(s):i(55296+((s-=65536)>>10),s%1024+56320))}return c.join("")}})},function(l,h,e){var t=e(0),o=e(28),i=e(16);t(t.S,"String",{raw:function(n){for(var r=o(n.raw),s=i(r.length),c=arguments.length,a=[],f=0;s>f;)a.push(String(r[f++])),f<c&&a.push(String(arguments[f]));return a.join("")}})},function(l,h,e){e(54)("trim",function(t){return function(){return t(this,3)}})},function(l,h,e){var t=e(96)(!0);e(97)(String,"String",function(o){this._t=String(o),this._i=0},function(){var o,i=this._t,n=this._i;return n>=i.length?{value:void 0,done:!0}:(o=t(i,n),this._i+=o.length,{value:o,done:!1})})},function(l,h,e){var t=e(0),o=e(96)(!1);t(t.P,"String",{codePointAt:function(i){return o(this,i)}})},function(l,h,e){var t=e(0),o=e(16),i=e(98),n="".endsWith;t(t.P+t.F*e(100)("endsWith"),"String",{endsWith:function(r){var s=i(this,r,"endsWith"),c=arguments.length>1?arguments[1]:void 0,a=o(s.length),f=c===void 0?a:Math.min(o(c),a),d=String(r);return n?n.call(s,d,f):s.slice(f-d.length,f)===d}})},function(l,h,e){var t=e(0),o=e(98);t(t.P+t.F*e(100)("includes"),"String",{includes:function(i){return!!~o(this,i,"includes").indexOf(i,arguments.length>1?arguments[1]:void 0)}})},function(l,h,e){var t=e(0);t(t.P,"String",{repeat:e(93)})},function(l,h,e){var t=e(0),o=e(16),i=e(98),n="".startsWith;t(t.P+t.F*e(100)("startsWith"),"String",{startsWith:function(r){var s=i(this,r,"startsWith"),c=o(Math.min(arguments.length>1?arguments[1]:void 0,s.length)),a=String(r);return n?n.call(s,a,c):s.slice(c,c+a.length)===a}})},function(l,h,e){e(22)("anchor",function(t){return function(o){return t(this,"a","name",o)}})},function(l,h,e){e(22)("big",function(t){return function(){return t(this,"big","","")}})},function(l,h,e){e(22)("blink",function(t){return function(){return t(this,"blink","","")}})},function(l,h,e){e(22)("bold",function(t){return function(){return t(this,"b","","")}})},function(l,h,e){e(22)("fixed",function(t){return function(){return t(this,"tt","","")}})},function(l,h,e){e(22)("fontcolor",function(t){return function(o){return t(this,"font","color",o)}})},function(l,h,e){e(22)("fontsize",function(t){return function(o){return t(this,"font","size",o)}})},function(l,h,e){e(22)("italics",function(t){return function(){return t(this,"i","","")}})},function(l,h,e){e(22)("link",function(t){return function(o){return t(this,"a","href",o)}})},function(l,h,e){e(22)("small",function(t){return function(){return t(this,"small","","")}})},function(l,h,e){e(22)("strike",function(t){return function(){return t(this,"strike","","")}})},function(l,h,e){e(22)("sub",function(t){return function(){return t(this,"sub","","")}})},function(l,h,e){e(22)("sup",function(t){return function(){return t(this,"sup","","")}})},function(l,h,e){var t=e(0);t(t.S,"Date",{now:function(){return new Date().getTime()}})},function(l,h,e){var t=e(0),o=e(20),i=e(40);t(t.P+t.F*e(11)(function(){return new Date(NaN).toJSON()!==null||Date.prototype.toJSON.call({toISOString:function(){return 1}})!==1}),"Date",{toJSON:function(n){var r=o(this),s=i(r);return typeof s!="number"||isFinite(s)?r.toISOString():null}})},function(l,h,e){var t=e(0),o=e(270);t(t.P+t.F*(Date.prototype.toISOString!==o),"Date",{toISOString:o})},function(l,h,e){var t=e(11),o=Date.prototype.getTime,i=Date.prototype.toISOString,n=function(r){return r>9?r:"0"+r};l.exports=t(function(){return i.call(new Date(-50000000000001))!="0385-07-25T07:06:39.999Z"})||!t(function(){i.call(new Date(NaN))})?function(){if(!isFinite(o.call(this)))throw RangeError("Invalid time value");var r=this,s=r.getUTCFullYear(),c=r.getUTCMilliseconds(),a=s<0?"-":s>9999?"+":"";return a+("00000"+Math.abs(s)).slice(a?-6:-4)+"-"+n(r.getUTCMonth()+1)+"-"+n(r.getUTCDate())+"T"+n(r.getUTCHours())+":"+n(r.getUTCMinutes())+":"+n(r.getUTCSeconds())+"."+(c>99?c:"0"+n(c))+"Z"}:i},function(l,h,e){var t=Date.prototype,o=t.toString,i=t.getTime;new Date(NaN)+""!="Invalid Date"&&e(21)(t,"toString",function(){var n=i.call(this);return n==n?o.call(this):"Invalid Date"})},function(l,h,e){var t=e(14)("toPrimitive"),o=Date.prototype;t in o||e(27)(o,t,e(273))},function(l,h,e){var t=e(12),o=e(40);l.exports=function(i){if(i!=="string"&&i!=="number"&&i!=="default")throw TypeError("Incorrect hint");return o(t(this),i!="number")}},function(l,h,e){var t=e(0);t(t.S,"Array",{isArray:e(71)})},function(l,h,e){var t=e(31),o=e(0),i=e(20),n=e(130),r=e(101),s=e(16),c=e(102),a=e(103);o(o.S+o.F*!e(72)(function(f){Array.from(f)}),"Array",{from:function(f){var d,p,v,u,g=i(f),x=typeof this=="function"?this:Array,E=arguments.length,S=E>1?arguments[1]:void 0,w=S!==void 0,B=0,_=a(g);if(w&&(S=t(S,E>2?arguments[2]:void 0,2)),_==null||x==Array&&r(_))for(p=new x(d=s(g.length));d>B;B++)c(p,B,w?S(g[B],B):g[B]);else for(u=_.call(g),p=new x;!(v=u.next()).done;B++)c(p,B,w?n(u,S,[v.value,B],!0):v.value);return p.length=B,p}})},function(l,h,e){var t=e(0),o=e(102);t(t.S+t.F*e(11)(function(){function i(){}return!(Array.of.call(i)instanceof i)}),"Array",{of:function(){for(var i=0,n=arguments.length,r=new(typeof this=="function"?this:Array)(n);n>i;)o(r,i,arguments[i++]);return r.length=n,r}})},function(l,h,e){var t=e(0),o=e(28),i=[].join;t(t.P+t.F*(e(61)!=Object||!e(29)(i)),"Array",{join:function(n){return i.call(o(this),n===void 0?",":n)}})},function(l,h,e){var t=e(0),o=e(89),i=e(37),n=e(47),r=e(16),s=[].slice;t(t.P+t.F*e(11)(function(){o&&s.call(o)}),"Array",{slice:function(c,a){var f=r(this.length),d=i(this);if(a=a===void 0?f:a,d=="Array")return s.call(this,c,a);for(var p=n(c,f),v=n(a,f),u=r(v-p),g=new Array(u),x=0;x<u;x++)g[x]=d=="String"?this.charAt(p+x):this[p+x];return g}})},function(l,h,e){var t=e(0),o=e(32),i=e(20),n=e(11),r=[].sort,s=[1,2,3];t(t.P+t.F*(n(function(){s.sort(void 0)})||!n(function(){s.sort(null)})||!e(29)(r)),"Array",{sort:function(c){return c===void 0?r.call(i(this)):r.call(i(this),o(c))}})},function(l,h,e){var t=e(0),o=e(36)(0),i=e(29)([].forEach,!0);t(t.P+t.F*!i,"Array",{forEach:function(n){return o(this,n,arguments[1])}})},function(l,h,e){var t=e(13),o=e(71),i=e(14)("species");l.exports=function(n){var r;return o(n)&&(typeof(r=n.constructor)!="function"||r!==Array&&!o(r.prototype)||(r=void 0),t(r)&&(r=r[i])===null&&(r=void 0)),r===void 0?Array:r}},function(l,h,e){var t=e(0),o=e(36)(1);t(t.P+t.F*!e(29)([].map,!0),"Array",{map:function(i){return o(this,i,arguments[1])}})},function(l,h,e){var t=e(0),o=e(36)(2);t(t.P+t.F*!e(29)([].filter,!0),"Array",{filter:function(i){return o(this,i,arguments[1])}})},function(l,h,e){var t=e(0),o=e(36)(3);t(t.P+t.F*!e(29)([].some,!0),"Array",{some:function(i){return o(this,i,arguments[1])}})},function(l,h,e){var t=e(0),o=e(36)(4);t(t.P+t.F*!e(29)([].every,!0),"Array",{every:function(i){return o(this,i,arguments[1])}})},function(l,h,e){var t=e(0),o=e(132);t(t.P+t.F*!e(29)([].reduce,!0),"Array",{reduce:function(i){return o(this,i,arguments.length,arguments[1],!1)}})},function(l,h,e){var t=e(0),o=e(132);t(t.P+t.F*!e(29)([].reduceRight,!0),"Array",{reduceRight:function(i){return o(this,i,arguments.length,arguments[1],!0)}})},function(l,h,e){var t=e(0),o=e(69)(!1),i=[].indexOf,n=!!i&&1/[1].indexOf(1,-0)<0;t(t.P+t.F*(n||!e(29)(i)),"Array",{indexOf:function(r){return n?i.apply(this,arguments)||0:o(this,r,arguments[1])}})},function(l,h,e){var t=e(0),o=e(28),i=e(33),n=e(16),r=[].lastIndexOf,s=!!r&&1/[1].lastIndexOf(1,-0)<0;t(t.P+t.F*(s||!e(29)(r)),"Array",{lastIndexOf:function(c){if(s)return r.apply(this,arguments)||0;var a=o(this),f=n(a.length),d=f-1;for(arguments.length>1&&(d=Math.min(d,i(arguments[1]))),d<0&&(d=f+d);d>=0;d--)if(d in a&&a[d]===c)return d||0;return-1}})},function(l,h,e){var t=e(0);t(t.P,"Array",{copyWithin:e(133)}),e(51)("copyWithin")},function(l,h,e){var t=e(0);t(t.P,"Array",{fill:e(104)}),e(51)("fill")},function(l,h,e){var t=e(0),o=e(36)(5),i=!0;"find"in[]&&Array(1).find(function(){i=!1}),t(t.P+t.F*i,"Array",{find:function(n){return o(this,n,arguments.length>1?arguments[1]:void 0)}}),e(51)("find")},function(l,h,e){var t=e(0),o=e(36)(6),i="findIndex",n=!0;i in[]&&Array(1)[i](function(){n=!1}),t(t.P+t.F*n,"Array",{findIndex:function(r){return o(this,r,arguments.length>1?arguments[1]:void 0)}}),e(51)(i)},function(l,h,e){e(56)("Array")},function(l,h,e){var t=e(10),o=e(92),i=e(19).f,n=e(49).f,r=e(99),s=e(73),c=t.RegExp,a=c,f=c.prototype,d=/a/g,p=/a/g,v=new c(d)!==d;if(e(18)&&(!v||e(11)(function(){return p[e(14)("match")]=!1,c(d)!=d||c(p)==p||c(d,"i")!="/a/i"}))){c=function(E,S){var w=this instanceof c,B=r(E),_=S===void 0;return!w&&B&&E.constructor===c&&_?E:o(v?new a(B&&!_?E.source:E,S):a((B=E instanceof c)?E.source:E,B&&_?s.call(E):S),w?this:f,c)};for(var u=function(E){E in c||i(c,E,{configurable:!0,get:function(){return a[E]},set:function(S){a[E]=S}})},g=n(a),x=0;g.length>x;)u(g[x++]);f.constructor=c,c.prototype=f,e(21)(t,"RegExp",c)}e(56)("RegExp")},function(l,h,e){e(136);var t=e(12),o=e(73),i=e(18),n=/./.toString,r=function(s){e(21)(RegExp.prototype,"toString",s,!0)};e(11)(function(){return n.call({source:"a",flags:"b"})!="/a/b"})?r(function(){var s=t(this);return"/".concat(s.source,"/","flags"in s?s.flags:!i&&s instanceof RegExp?o.call(s):void 0)}):n.name!="toString"&&r(function(){return n.call(this)})},function(l,h,e){var t=e(12),o=e(16),i=e(107),n=e(74);e(75)("match",1,function(r,s,c,a){return[function(f){var d=r(this),p=f==null?void 0:f[s];return p!==void 0?p.call(f,d):new RegExp(f)[s](String(d))},function(f){var d=a(c,f,this);if(d.done)return d.value;var p=t(f),v=String(this);if(!p.global)return n(p,v);var u=p.unicode;p.lastIndex=0;for(var g,x=[],E=0;(g=n(p,v))!==null;){var S=String(g[0]);x[E]=S,S===""&&(p.lastIndex=i(v,o(p.lastIndex),u)),E++}return E===0?null:x}]})},function(l,h,e){var t=e(12),o=e(20),i=e(16),n=e(33),r=e(107),s=e(74),c=Math.max,a=Math.min,f=Math.floor,d=/\$([$&`']|\d\d?|<[^>]*>)/g,p=/\$([$&`']|\d\d?)/g;e(75)("replace",2,function(v,u,g,x){return[function(S,w){var B=v(this),_=S==null?void 0:S[u];return _!==void 0?_.call(S,B,w):g.call(String(B),S,w)},function(S,w){var B=x(g,S,this,w);if(B.done)return B.value;var _=t(S),O=String(this),b=typeof w=="function";b||(w=String(w));var T=_.global;if(T){var m=_.unicode;_.lastIndex=0}for(var y=[];;){var I=s(_,O);if(I===null||(y.push(I),!T))break;String(I[0])===""&&(_.lastIndex=r(O,i(_.lastIndex),m))}for(var R,M="",C=0,k=0;k<y.length;k++){I=y[k];for(var A=String(I[0]),N=c(a(n(I.index),O.length),0),D=[],L=1;L<I.length;L++)D.push((R=I[L])===void 0?R:String(R));var F=I.groups;if(b){var U=[A].concat(D,N,O);F!==void 0&&U.push(F);var P=String(w.apply(void 0,U))}else P=E(A,O,N,D,F,w);N>=C&&(M+=O.slice(C,N)+P,C=N+A.length)}return M+O.slice(C)}];function E(S,w,B,_,O,b){var T=B+S.length,m=_.length,y=p;return O!==void 0&&(O=o(O),y=d),g.call(b,y,function(I,R){var M;switch(R.charAt(0)){case"$":return"$";case"&":return S;case"`":return w.slice(0,B);case"'":return w.slice(T);case"<":M=O[R.slice(1,-1)];break;default:var C=+R;if(C===0)return I;if(C>m){var k=f(C/10);return k===0?I:k<=m?_[k-1]===void 0?R.charAt(1):_[k-1]+R.charAt(1):I}M=_[C-1]}return M===void 0?"":M})}})},function(l,h,e){var t=e(12),o=e(121),i=e(74);e(75)("search",1,function(n,r,s,c){return[function(a){var f=n(this),d=a==null?void 0:a[r];return d!==void 0?d.call(a,f):new RegExp(a)[r](String(f))},function(a){var f=c(s,a,this);if(f.done)return f.value;var d=t(a),p=String(this),v=d.lastIndex;o(v,0)||(d.lastIndex=0);var u=i(d,p);return o(d.lastIndex,v)||(d.lastIndex=v),u===null?-1:u.index}]})},function(l,h,e){var t=e(99),o=e(12),i=e(64),n=e(107),r=e(16),s=e(74),c=e(106),a=e(11),f=Math.min,d=[].push,p="length",v=!a(function(){});e(75)("split",2,function(u,g,x,E){var S;return S="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1)[p]!=4||"ab".split(/(?:ab)*/)[p]!=2||".".split(/(.?)(.?)/)[p]!=4||".".split(/()()/)[p]>1||"".split(/.?/)[p]?function(w,B){var _=String(this);if(w===void 0&&B===0)return[];if(!t(w))return x.call(_,w,B);for(var O,b,T,m=[],y=(w.ignoreCase?"i":"")+(w.multiline?"m":"")+(w.unicode?"u":"")+(w.sticky?"y":""),I=0,R=B===void 0?4294967295:B>>>0,M=new RegExp(w.source,y+"g");(O=c.call(M,_))&&!((b=M.lastIndex)>I&&(m.push(_.slice(I,O.index)),O[p]>1&&O.index<_[p]&&d.apply(m,O.slice(1)),T=O[0][p],I=b,m[p]>=R));)M.lastIndex===O.index&&M.lastIndex++;return I===_[p]?!T&&M.test("")||m.push(""):m.push(_.slice(I)),m[p]>R?m.slice(0,R):m}:"0".split(void 0,0)[p]?function(w,B){return w===void 0&&B===0?[]:x.call(this,w,B)}:x,[function(w,B){var _=u(this),O=w==null?void 0:w[g];return O!==void 0?O.call(w,_,B):S.call(String(_),w,B)},function(w,B){var _=E(S,w,this,B,S!==x);if(_.done)return _.value;var O=o(w),b=String(this),T=i(O,RegExp),m=O.unicode,y=(O.ignoreCase?"i":"")+(O.multiline?"m":"")+(O.unicode?"u":"")+(v?"y":"g"),I=new T(v?O:"^(?:"+O.source+")",y),R=B===void 0?4294967295:B>>>0;if(R===0)return[];if(b.length===0)return s(I,b)===null?[b]:[];for(var M=0,C=0,k=[];C<b.length;){I.lastIndex=v?C:0;var A,N=s(I,v?b:b.slice(C));if(N===null||(A=f(r(I.lastIndex+(v?0:C)),b.length))===M)C=n(b,C,m);else{if(k.push(b.slice(M,C)),k.length===R)return k;for(var D=1;D<=N.length-1;D++)if(k.push(N[D]),k.length===R)return k;C=M=A}}return k.push(b.slice(M)),k}]})},function(l,h,e){var t=e(10),o=e(108).set,i=t.MutationObserver||t.WebKitMutationObserver,n=t.process,r=t.Promise,s=e(37)(n)=="process";l.exports=function(){var c,a,f,d=function(){var g,x;for(s&&(g=n.domain)&&g.exit();c;){x=c.fn,c=c.next;try{x()}catch(E){throw c?f():a=void 0,E}}a=void 0,g&&g.enter()};if(s)f=function(){n.nextTick(d)};else if(!i||t.navigator&&t.navigator.standalone)if(r&&r.resolve){var p=r.resolve(void 0);f=function(){p.then(d)}}else f=function(){o.call(t,d)};else{var v=!0,u=document.createTextNode("");new i(d).observe(u,{characterData:!0}),f=function(){u.data=v=!v}}return function(g){var x={fn:g,next:void 0};a&&(a.next=x),c||(c=x,f()),a=x}}},function(l,h){l.exports=function(e){try{return{e:!1,v:e()}}catch(t){return{e:!0,v:t}}}},function(l,h,e){var t=e(140),o=e(52);l.exports=e(78)("Map",function(i){return function(){return i(this,arguments.length>0?arguments[0]:void 0)}},{get:function(i){var n=t.getEntry(o(this,"Map"),i);return n&&n.v},set:function(i,n){return t.def(o(this,"Map"),i===0?0:i,n)}},t,!0)},function(l,h,e){var t=e(140),o=e(52);l.exports=e(78)("Set",function(i){return function(){return i(this,arguments.length>0?arguments[0]:void 0)}},{add:function(i){return t.def(o(this,"Set"),i=i===0?0:i,i)}},t)},function(l,h,e){var t,o=e(10),i=e(36)(0),n=e(21),r=e(41),s=e(120),c=e(141),a=e(13),f=e(52),d=e(52),p=!o.ActiveXObject&&"ActiveXObject"in o,v=r.getWeak,u=Object.isExtensible,g=c.ufstore,x=function(w){return function(){return w(this,arguments.length>0?arguments[0]:void 0)}},E={get:function(w){if(a(w)){var B=v(w);return B===!0?g(f(this,"WeakMap")).get(w):B?B[this._i]:void 0}},set:function(w,B){return c.def(f(this,"WeakMap"),w,B)}},S=l.exports=e(78)("WeakMap",x,E,c,!0,!0);d&&p&&(s((t=c.getConstructor(x,"WeakMap")).prototype,E),r.NEED=!0,i(["delete","has","get","set"],function(w){var B=S.prototype,_=B[w];n(B,w,function(O,b){if(a(O)&&!u(O)){this._f||(this._f=new t);var T=this._f[w](O,b);return w=="set"?this:T}return _.call(this,O,b)})}))},function(l,h,e){var t=e(141),o=e(52);e(78)("WeakSet",function(i){return function(){return i(this,arguments.length>0?arguments[0]:void 0)}},{add:function(i){return t.def(o(this,"WeakSet"),i,!0)}},t,!1,!0)},function(l,h,e){var t=e(0),o=e(79),i=e(109),n=e(12),r=e(47),s=e(16),c=e(13),a=e(10).ArrayBuffer,f=e(64),d=i.ArrayBuffer,p=i.DataView,v=o.ABV&&a.isView,u=d.prototype.slice,g=o.VIEW;t(t.G+t.W+t.F*(a!==d),{ArrayBuffer:d}),t(t.S+t.F*!o.CONSTR,"ArrayBuffer",{isView:function(x){return v&&v(x)||c(x)&&g in x}}),t(t.P+t.U+t.F*e(11)(function(){return!new d(2).slice(1,void 0).byteLength}),"ArrayBuffer",{slice:function(x,E){if(u!==void 0&&E===void 0)return u.call(n(this),x);for(var S=n(this).byteLength,w=r(x,S),B=r(E===void 0?S:E,S),_=new(f(this,d))(s(B-w)),O=new p(this),b=new p(_),T=0;w<B;)b.setUint8(T++,O.getUint8(w++));return _}}),e(56)("ArrayBuffer")},function(l,h,e){var t=e(0);t(t.G+t.W+t.F*!e(79).ABV,{DataView:e(109).DataView})},function(l,h,e){e(39)("Int8",1,function(t){return function(o,i,n){return t(this,o,i,n)}})},function(l,h,e){e(39)("Uint8",1,function(t){return function(o,i,n){return t(this,o,i,n)}})},function(l,h,e){e(39)("Uint8",1,function(t){return function(o,i,n){return t(this,o,i,n)}},!0)},function(l,h,e){e(39)("Int16",2,function(t){return function(o,i,n){return t(this,o,i,n)}})},function(l,h,e){e(39)("Uint16",2,function(t){return function(o,i,n){return t(this,o,i,n)}})},function(l,h,e){e(39)("Int32",4,function(t){return function(o,i,n){return t(this,o,i,n)}})},function(l,h,e){e(39)("Uint32",4,function(t){return function(o,i,n){return t(this,o,i,n)}})},function(l,h,e){e(39)("Float32",4,function(t){return function(o,i,n){return t(this,o,i,n)}})},function(l,h,e){e(39)("Float64",8,function(t){return function(o,i,n){return t(this,o,i,n)}})},function(l,h,e){var t=e(0),o=e(32),i=e(12),n=(e(10).Reflect||{}).apply,r=Function.apply;t(t.S+t.F*!e(11)(function(){n(function(){})}),"Reflect",{apply:function(s,c,a){var f=o(s),d=i(a);return n?n(f,c,d):r.call(f,c,d)}})},function(l,h,e){var t=e(0),o=e(48),i=e(32),n=e(12),r=e(13),s=e(11),c=e(122),a=(e(10).Reflect||{}).construct,f=s(function(){function p(){}return!(a(function(){},[],p)instanceof p)}),d=!s(function(){a(function(){})});t(t.S+t.F*(f||d),"Reflect",{construct:function(p,v){i(p),n(v);var u=arguments.length<3?p:i(arguments[2]);if(d&&!f)return a(p,v,u);if(p==u){switch(v.length){case 0:return new p;case 1:return new p(v[0]);case 2:return new p(v[0],v[1]);case 3:return new p(v[0],v[1],v[2]);case 4:return new p(v[0],v[1],v[2],v[3])}var g=[null];return g.push.apply(g,v),new(c.apply(p,g))}var x=u.prototype,E=o(r(x)?x:Object.prototype),S=Function.apply.call(p,E,v);return r(S)?S:E}})},function(l,h,e){var t=e(19),o=e(0),i=e(12),n=e(40);o(o.S+o.F*e(11)(function(){Reflect.defineProperty(t.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(r,s,c){i(r),s=n(s,!0),i(c);try{return t.f(r,s,c),!0}catch{return!1}}})},function(l,h,e){var t=e(0),o=e(34).f,i=e(12);t(t.S,"Reflect",{deleteProperty:function(n,r){var s=o(i(n),r);return!(s&&!s.configurable)&&delete n[r]}})},function(l,h,e){var t=e(0),o=e(12),i=function(n){this._t=o(n),this._i=0;var r,s=this._k=[];for(r in n)s.push(r)};e(129)(i,"Object",function(){var n,r=this._k;do if(this._i>=r.length)return{value:void 0,done:!0};while(!((n=r[this._i++])in this._t));return{value:n,done:!1}}),t(t.S,"Reflect",{enumerate:function(n){return new i(n)}})},function(l,h,e){var t=e(34),o=e(50),i=e(26),n=e(0),r=e(13),s=e(12);n(n.S,"Reflect",{get:function c(a,f){var d,p,v=arguments.length<3?a:arguments[2];return s(a)===v?a[f]:(d=t.f(a,f))?i(d,"value")?d.value:d.get!==void 0?d.get.call(v):void 0:r(p=o(a))?c(p,f,v):void 0}})},function(l,h,e){var t=e(34),o=e(0),i=e(12);o(o.S,"Reflect",{getOwnPropertyDescriptor:function(n,r){return t.f(i(n),r)}})},function(l,h,e){var t=e(0),o=e(50),i=e(12);t(t.S,"Reflect",{getPrototypeOf:function(n){return o(i(n))}})},function(l,h,e){var t=e(0);t(t.S,"Reflect",{has:function(o,i){return i in o}})},function(l,h,e){var t=e(0),o=e(12),i=Object.isExtensible;t(t.S,"Reflect",{isExtensible:function(n){return o(n),!i||i(n)}})},function(l,h,e){var t=e(0);t(t.S,"Reflect",{ownKeys:e(143)})},function(l,h,e){var t=e(0),o=e(12),i=Object.preventExtensions;t(t.S,"Reflect",{preventExtensions:function(n){o(n);try{return i&&i(n),!0}catch{return!1}}})},function(l,h,e){var t=e(19),o=e(34),i=e(50),n=e(26),r=e(0),s=e(43),c=e(12),a=e(13);r(r.S,"Reflect",{set:function f(d,p,v){var u,g,x=arguments.length<4?d:arguments[3],E=o.f(c(d),p);if(!E){if(a(g=i(d)))return f(g,p,v,x);E=s(0)}if(n(E,"value")){if(E.writable===!1||!a(x))return!1;if(u=o.f(x,p)){if(u.get||u.set||u.writable===!1)return!1;u.value=v,t.f(x,p,u)}else t.f(x,p,s(0,v));return!0}return E.set!==void 0&&(E.set.call(x,v),!0)}})},function(l,h,e){var t=e(0),o=e(90);o&&t(t.S,"Reflect",{setPrototypeOf:function(i,n){o.check(i,n);try{return o.set(i,n),!0}catch{return!1}}})},function(l,h,e){e(333),l.exports=e(17).Array.includes},function(l,h,e){var t=e(0),o=e(69)(!0);t(t.P,"Array",{includes:function(i){return o(this,i,arguments.length>1?arguments[1]:void 0)}}),e(51)("includes")},function(l,h,e){e(335),l.exports=e(17).Array.flatMap},function(l,h,e){var t=e(0),o=e(336),i=e(20),n=e(16),r=e(32),s=e(131);t(t.P,"Array",{flatMap:function(c){var a,f,d=i(this);return r(c),a=n(d.length),f=s(d,0),o(f,d,d,a,0,1,c,arguments[1]),f}}),e(51)("flatMap")},function(l,h,e){var t=e(71),o=e(13),i=e(16),n=e(31),r=e(14)("isConcatSpreadable");l.exports=function s(c,a,f,d,p,v,u,g){for(var x,E,S=p,w=0,B=!!u&&n(u,g,3);w<d;){if(w in f){if(x=B?B(f[w],w,a):f[w],E=!1,o(x)&&(E=(E=x[r])!==void 0?!!E:t(x)),E&&v>0)S=s(c,a,x,i(x.length),S,v-1)-1;else{if(S>=9007199254740991)throw TypeError();c[S]=x}S++}w++}return S}},function(l,h,e){e(338),l.exports=e(17).String.padStart},function(l,h,e){var t=e(0),o=e(144),i=e(77),n=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(i);t(t.P+t.F*n,"String",{padStart:function(r){return o(this,r,arguments.length>1?arguments[1]:void 0,!0)}})},function(l,h,e){e(340),l.exports=e(17).String.padEnd},function(l,h,e){var t=e(0),o=e(144),i=e(77),n=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(i);t(t.P+t.F*n,"String",{padEnd:function(r){return o(this,r,arguments.length>1?arguments[1]:void 0,!1)}})},function(l,h,e){e(342),l.exports=e(17).String.trimLeft},function(l,h,e){e(54)("trimLeft",function(t){return function(){return t(this,1)}},"trimStart")},function(l,h,e){e(344),l.exports=e(17).String.trimRight},function(l,h,e){e(54)("trimRight",function(t){return function(){return t(this,2)}},"trimEnd")},function(l,h,e){e(346),l.exports=e(86).f("asyncIterator")},function(l,h,e){e(116)("asyncIterator")},function(l,h,e){e(348),l.exports=e(17).Object.getOwnPropertyDescriptors},function(l,h,e){var t=e(0),o=e(143),i=e(28),n=e(34),r=e(102);t(t.S,"Object",{getOwnPropertyDescriptors:function(s){for(var c,a,f=i(s),d=n.f,p=o(f),v={},u=0;p.length>u;)(a=d(f,c=p[u++]))!==void 0&&r(v,c,a);return v}})},function(l,h,e){e(350),l.exports=e(17).Object.values},function(l,h,e){var t=e(0),o=e(145)(!1);t(t.S,"Object",{values:function(i){return o(i)}})},function(l,h,e){e(352),l.exports=e(17).Object.entries},function(l,h,e){var t=e(0),o=e(145)(!0);t(t.S,"Object",{entries:function(i){return o(i)}})},function(l,h,e){e(137),e(354),l.exports=e(17).Promise.finally},function(l,h,e){var t=e(0),o=e(17),i=e(10),n=e(64),r=e(139);t(t.P+t.R,"Promise",{finally:function(s){var c=n(this,o.Promise||i.Promise),a=typeof s=="function";return this.then(a?function(f){return r(c,s()).then(function(){return f})}:s,a?function(f){return r(c,s()).then(function(){throw f})}:s)}})},function(l,h,e){e(356),e(357),e(358),l.exports=e(17)},function(l,h,e){var t=e(10),o=e(0),i=e(77),n=[].slice,r=/MSIE .\./.test(i),s=function(c){return function(a,f){var d=arguments.length>2,p=!!d&&n.call(arguments,2);return c(d?function(){(typeof a=="function"?a:Function(a)).apply(this,p)}:a,f)}};o(o.G+o.B+o.F*r,{setTimeout:s(t.setTimeout),setInterval:s(t.setInterval)})},function(l,h,e){var t=e(0),o=e(108);t(t.G+t.B,{setImmediate:o.set,clearImmediate:o.clear})},function(l,h,e){for(var t=e(105),o=e(46),i=e(21),n=e(10),r=e(27),s=e(55),c=e(14),a=c("iterator"),f=c("toStringTag"),d=s.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},v=o(p),u=0;u<v.length;u++){var g,x=v[u],E=p[x],S=n[x],w=S&&S.prototype;if(w&&(w[a]||r(w,a,d),w[f]||r(w,f,x),s[x]=d,E))for(g in t)w[g]||i(w,g,t[g],!0)}},function(l,h,e){var t,o,i;o=[h,e(30),e(2),e(3),e(363),e(365),e(366),e(7)],(i=typeof(t=function(n,r,s,c,a,f,d,p){var v=e(8),u=e(1);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=u(r),s=u(s),c=u(c),d=u(d),p=v(p);var g=function(){function x(E){var S=this;(0,s.default)(this,x);var w=function(){};p.isObject(E)&&p.isFunction(E.onReady)&&(w=E.onReady);var B=new d.default(E);this.isReady=B.isReady.then(function(){S.exportAPI(B),w()})}return(0,c.default)(x,[{key:"exportAPI",value:function(E){var S=this;["configuration"].forEach(function(w){S[w]=E[w]}),this.destroy=function(){for(var w in Object.values(E.moduleInstances).forEach(function(B){p.isFunction(B.destroy)&&B.destroy(),B.listeners.removeAll()}),E=null,S)Object.prototype.hasOwnProperty.call(S,w)&&delete S[w];Object.setPrototypeOf(S,null)},Object.setPrototypeOf(this,E.moduleInstances.API.methods),delete this.exportAPI,Object.entries({blocks:{clear:"clear",render:"render"},caret:{focus:"focus"},events:{on:"on",off:"off",emit:"emit"},saver:{save:"save"}}).forEach(function(w){var B=(0,r.default)(w,2),_=B[0],O=B[1];Object.entries(O).forEach(function(b){var T=(0,r.default)(b,2),m=T[0],y=T[1];S[y]=E.moduleInstances.API.methods[_][m]})})}}],[{key:"version",get:function(){return"2.23.2"}}]),x}();n.default=g,g.displayName="EditorJS",l.exports=h.default})=="function"?t.apply(h,o):t)===void 0||(l.exports=i)},function(l,h){l.exports=function(e){if(Array.isArray(e))return e}},function(l,h){l.exports=function(e,t){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(e)){var o=[],i=!0,n=!1,r=void 0;try{for(var s,c=e[Symbol.iterator]();!(i=(s=c.next()).done)&&(o.push(s.value),!t||o.length!==t);i=!0);}catch(a){n=!0,r=a}finally{try{i||c.return==null||c.return()}finally{if(n)throw r}}return o}}},function(l,h){l.exports=function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}},function(l,h,e){(h=l.exports=function(...i){return o(...i)}).__esModule=!0;const t=e(364),o=t.default;Object.assign(h,t)},function(l,h,e){Object.defineProperty(h,"__esModule",{value:!0}),h.default=function(){},h.revert=function(){}},function(l,h,e){var t,o,i;o=[],(i=typeof(t=function(){Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(n){for(var r=(this.document||this.ownerDocument).querySelectorAll(n),s=r.length;--s>=0&&r.item(s)!==this;);return s>-1}),Element.prototype.closest||(Element.prototype.closest=function(n){var r=this;if(!document.documentElement.contains(r))return null;do{if(r.matches(n))return r;r=r.parentElement||r.parentNode}while(r!==null);return null}),Element.prototype.prepend||(Element.prototype.prepend=function(n){var r=document.createDocumentFragment();Array.isArray(n)||(n=[n]),n.forEach(function(s){var c=s instanceof Node;r.appendChild(c?s:document.createTextNode(s))}),this.insertBefore(r,this.firstChild)})})=="function"?t.apply(h,o):t)===void 0||(l.exports=i)},function(l,h,e){var t,o,i;o=[h,e(23),e(24),e(2),e(3),e(15),e(7),e(59),e(150),e(111)],(i=typeof(t=function(n,r,s,c,a,f,d,p,v,u){var g=e(8),x=e(1);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=x(r),s=x(s),c=x(c),a=x(a),f=x(f),d=g(d),p=x(p),u=x(u);var E=e(374),S=[];E.keys().forEach(function(B){B.match(/^\.\/[^_][\w/]*\.([tj])s$/)&&S.push(E(B))});var w=function(){function B(b){var T,m,y=this;(0,c.default)(this,B),this.moduleInstances={},this.eventsDispatcher=new u.default,this.isReady=new Promise(function(I,R){T=I,m=R}),Promise.resolve().then((0,s.default)(r.default.mark(function I(){return r.default.wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return y.configuration=b,R.next=3,y.validate();case 3:return R.next=5,y.init();case 5:return R.next=7,y.start();case 7:d.logLabeled("I'm ready! (\uFF89\u25D5\u30EE\u25D5)\uFF89*:\uFF65\uFF9F\u2727","log","","color: #E24A75"),setTimeout((0,s.default)(r.default.mark(function M(){var C,k,A;return r.default.wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return N.next=2,y.render();case 2:y.configuration.autofocus&&(C=y.moduleInstances,k=C.BlockManager,(A=C.Caret).setToBlock(k.blocks[0],A.positions.START),k.highlightCurrentNode()),y.moduleInstances.UI.removeLoader(),T();case 5:case"end":return N.stop()}},M)})),500);case 9:case"end":return R.stop()}},I)}))).catch(function(I){d.log("Editor.js is not ready because of ".concat(I),"error"),m(I)})}var _,O;return(0,a.default)(B,[{key:"validate",value:(O=(0,s.default)(r.default.mark(function b(){var T,m,y;return r.default.wrap(function(I){for(;;)switch(I.prev=I.next){case 0:if(T=this.config,m=T.holderId,y=T.holder,!m||!y){I.next=3;break}throw Error("\xABholderId\xBB and \xABholder\xBB param can't assign at the same time.");case 3:if(!d.isString(y)||f.default.get(y)){I.next=5;break}throw Error("element with ID \xAB".concat(y,"\xBB is missing. Pass correct holder's ID."));case 5:if(!y||!d.isObject(y)||f.default.isElement(y)){I.next=7;break}throw Error("\xABholder\xBB value must be an Element node");case 7:case"end":return I.stop()}},b,this)})),function(){return O.apply(this,arguments)})},{key:"init",value:function(){this.constructModules(),this.configureModules()}},{key:"start",value:(_=(0,s.default)(r.default.mark(function b(){var T,m=this;return r.default.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return T=["Tools","UI","BlockManager","Paste","BlockSelection","RectangleSelection","CrossBlockSelection","ReadOnly"],y.next=3,T.reduce(function(I,R){return I.then((0,s.default)(r.default.mark(function M(){return r.default.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.prev=0,C.next=3,m.moduleInstances[R].prepare();case 3:C.next=10;break;case 5:if(C.prev=5,C.t0=C.catch(0),!(C.t0 instanceof v.CriticalError)){C.next=9;break}throw new Error(C.t0.message);case 9:d.log("Module ".concat(R," was skipped because of %o"),"warn",C.t0);case 10:case"end":return C.stop()}},M,null,[[0,5]])})))},Promise.resolve());case 3:case"end":return y.stop()}},b)})),function(){return _.apply(this,arguments)})},{key:"render",value:function(){return this.moduleInstances.Renderer.render(this.config.data.blocks)}},{key:"constructModules",value:function(){var b=this;S.forEach(function(T){var m=d.isFunction(T)?T:T.default;try{b.moduleInstances[m.displayName]=new m({config:b.configuration,eventsDispatcher:b.eventsDispatcher})}catch(y){d.log("Module ".concat(m.displayName," skipped because"),"error",y)}})}},{key:"configureModules",value:function(){for(var b in this.moduleInstances)Object.prototype.hasOwnProperty.call(this.moduleInstances,b)&&(this.moduleInstances[b].state=this.getModulesDiff(b))}},{key:"getModulesDiff",value:function(b){var T={};for(var m in this.moduleInstances)m!==b&&(T[m]=this.moduleInstances[m]);return T}},{key:"configuration",set:function(b){var T,m;d.isObject(b)?this.config=Object.assign({},b):this.config={holder:b},d.deprecationAssert(!!this.config.holderId,"config.holderId","config.holder"),this.config.holderId&&!this.config.holder&&(this.config.holder=this.config.holderId,this.config.holderId=null),this.config.holder==null&&(this.config.holder="editorjs"),this.config.logLevel||(this.config.logLevel=d.LogLevels.VERBOSE),d.setLogLevel(this.config.logLevel),d.deprecationAssert(Boolean(this.config.initialBlock),"config.initialBlock","config.defaultBlock"),this.config.defaultBlock=this.config.defaultBlock||this.config.initialBlock||"paragraph",this.config.minHeight=this.config.minHeight!==void 0?this.config.minHeight:300;var y={type:this.config.defaultBlock,data:{}};this.config.placeholder=this.config.placeholder||!1,this.config.sanitizer=this.config.sanitizer||{p:!0,b:!0,a:!0},this.config.hideToolbar=!!this.config.hideToolbar&&this.config.hideToolbar,this.config.tools=this.config.tools||{},this.config.i18n=this.config.i18n||{},this.config.data=this.config.data||{blocks:[]},this.config.onReady=this.config.onReady||function(){},this.config.onChange=this.config.onChange||function(){},this.config.inlineToolbar=this.config.inlineToolbar===void 0||this.config.inlineToolbar,!d.isEmpty(this.config.data)&&this.config.data.blocks&&this.config.data.blocks.length!==0||(this.config.data={blocks:[y]}),this.config.readOnly=this.config.readOnly||!1,!((T=this.config.i18n)===null||T===void 0)&&T.messages&&p.default.setDictionary(this.config.i18n.messages),this.config.i18n.direction=((m=this.config.i18n)===null||m===void 0?void 0:m.direction)||"ltr"},get:function(){return this.config}}]),B}();n.default=w,w.displayName="Core",l.exports=h.default})=="function"?t.apply(h,o):t)===void 0||(l.exports=i)},function(l,h,e){var t=e(148);l.exports=function(o){if(Array.isArray(o))return t(o)}},function(l,h){l.exports=function(e){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(e))return Array.from(e)}},function(l,h){l.exports=function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}},function(l,h){l.exports=function(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}},function(l,h){l.exports=function(e){return Function.toString.call(e).indexOf("[native code]")!==-1}},function(l,h,e){var t=e(110),o=e(373);function i(n,r,s){return o()?l.exports=i=Reflect.construct:l.exports=i=function(c,a,f){var d=[null];d.push.apply(d,a);var p=new(Function.bind.apply(c,d));return f&&t(p,f.prototype),p},i.apply(null,arguments)}l.exports=i},function(l,h){l.exports=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}},function(l,h,e){var t={"./api":81,"./api/":81,"./api/blocks":153,"./api/blocks.ts":153,"./api/caret":154,"./api/caret.ts":154,"./api/events":155,"./api/events.ts":155,"./api/i18n":156,"./api/i18n.ts":156,"./api/index":81,"./api/index.ts":81,"./api/inlineToolbar":157,"./api/inlineToolbar.ts":157,"./api/listeners":158,"./api/listeners.ts":158,"./api/notifier":159,"./api/notifier.ts":159,"./api/readonly":160,"./api/readonly.ts":160,"./api/sanitizer":161,"./api/sanitizer.ts":161,"./api/saver":162,"./api/saver.ts":162,"./api/selection":163,"./api/selection.ts":163,"./api/styles":164,"./api/styles.ts":164,"./api/toolbar":165,"./api/toolbar.ts":165,"./api/tooltip":166,"./api/tooltip.ts":166,"./api/ui":167,"./api/ui.ts":167,"./blockEvents":168,"./blockEvents.ts":168,"./blockManager":169,"./blockManager.ts":169,"./blockSelection":170,"./blockSelection.ts":170,"./caret":171,"./caret.ts":171,"./crossBlockSelection":172,"./crossBlockSelection.ts":172,"./dragNDrop":173,"./dragNDrop.ts":173,"./modificationsObserver":174,"./modificationsObserver.ts":174,"./paste":175,"./paste.ts":175,"./readonly":176,"./readonly.ts":176,"./rectangleSelection":177,"./rectangleSelection.ts":177,"./renderer":178,"./renderer.ts":178,"./saver":179,"./saver.ts":179,"./toolbar":83,"./toolbar/":83,"./toolbar/blockSettings":180,"./toolbar/blockSettings.ts":180,"./toolbar/conversion":181,"./toolbar/conversion.ts":181,"./toolbar/index":83,"./toolbar/index.ts":83,"./toolbar/inline":182,"./toolbar/inline.ts":182,"./tools":183,"./tools.ts":183,"./ui":185,"./ui.ts":185};function o(n){var r=i(n);return e(r)}function i(n){if(!e.o(t,n)){var r=new Error("Cannot find module '"+n+"'");throw r.code="MODULE_NOT_FOUND",r}return t[n]}o.keys=function(){return Object.keys(t)},o.resolve=i,l.exports=o,o.id=374},function(l,h,e){var t,o,i;o=[h,e(2),e(3),e(7)],(i=typeof(t=function(n,r,s,c){var a=e(8),f=e(1);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=f(r),s=f(s),c=a(c);var d=function(){function p(){(0,r.default)(this,p),this.allListeners=[]}return(0,s.default)(p,[{key:"on",value:function(v,u,g){var x=arguments.length>3&&arguments[3]!==void 0&&arguments[3],E=c.generateId("l"),S={id:E,element:v,eventType:u,handler:g,options:x},w=this.findOne(v,u,g);if(!w)return this.allListeners.push(S),v.addEventListener(u,g,x),E}},{key:"off",value:function(v,u,g,x){var E=this,S=this.findAll(v,u,g);S.forEach(function(w,B){var _=E.allListeners.indexOf(S[B]);_>-1&&(E.allListeners.splice(_,1),w.element.removeEventListener(w.eventType,w.handler,w.options))})}},{key:"offById",value:function(v){var u=this.findById(v);u&&u.element.removeEventListener(u.eventType,u.handler,u.options)}},{key:"findOne",value:function(v,u,g){var x=this.findAll(v,u,g);return x.length>0?x[0]:null}},{key:"findAll",value:function(v,u,g){var x=v?this.findByEventTarget(v):[];return v&&u&&g?x.filter(function(E){return E.eventType===u&&E.handler===g}):v&&u?x.filter(function(E){return E.eventType===u}):x}},{key:"removeAll",value:function(){this.allListeners.map(function(v){v.element.removeEventListener(v.eventType,v.handler,v.options)}),this.allListeners=[]}},{key:"destroy",value:function(){this.removeAll()}},{key:"findByEventTarget",value:function(v){return this.allListeners.filter(function(u){if(u.element===v)return u})}},{key:"findByType",value:function(v){return this.allListeners.filter(function(u){if(u.eventType===v)return u})}},{key:"findByHandler",value:function(v){return this.allListeners.filter(function(u){if(u.handler===v)return u})}},{key:"findById",value:function(v){return this.allListeners.find(function(u){return u.id===v})}}]),p}();n.default=d,d.displayName="Listeners",l.exports=h.default})=="function"?t.apply(h,o):t)===void 0||(l.exports=i)},function(l,h,e){var t,o,i;o=[h,e(2),e(3),e(377)],(i=typeof(t=function(n,r,s,c){var a=e(1);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=a(r),s=a(s),c=a(c);var f=function(){function d(){(0,r.default)(this,d)}return(0,s.default)(d,[{key:"show",value:function(p){c.default.show(p)}}]),d}();n.default=f,f.displayName="Notifier",l.exports=h.default})=="function"?t.apply(h,o):t)===void 0||(l.exports=i)},function(l,h,e){l.exports=function(t){var o={};function i(n){if(o[n])return o[n].exports;var r=o[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=o,i.d=function(n,r,s){i.o(n,r)||Object.defineProperty(n,r,{enumerable:!0,get:s})},i.r=function(n){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},i.t=function(n,r){if(1&r&&(n=i(n)),8&r||4&r&&typeof n=="object"&&n&&n.__esModule)return n;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:n}),2&r&&typeof n!="string")for(var c in n)i.d(s,c,function(a){return n[a]}.bind(null,c));return s},i.n=function(n){var r=n&&n.__esModule?function(){return n.default}:function(){return n};return i.d(r,"a",r),r},i.o=function(n,r){return Object.prototype.hasOwnProperty.call(n,r)},i.p="/",i(i.s=0)}([function(t,o,i){i(1),t.exports=function(){var n=i(6),r=null;return{show:function(s){if(s.message){(function(){if(r)return!0;r=n.getWrapper(),document.body.appendChild(r)})();var c=null,a=s.time||8e3;switch(s.type){case"confirm":c=n.confirm(s);break;case"prompt":c=n.prompt(s);break;default:c=n.alert(s),window.setTimeout(function(){c.remove()},a)}r.appendChild(c),c.classList.add("cdx-notify--bounce-in")}}}}()},function(t,o,i){var n=i(2);typeof n=="string"&&(n=[[t.i,n,""]]),i(4)(n,{hmr:!0,transform:void 0,insertInto:void 0}),n.locals&&(t.exports=n.locals)},function(t,o,i){(t.exports=i(3)(!1)).push([t.i,`.cdx-notify--error{background:#fffbfb!important}.cdx-notify--error::before{background:#fb5d5d!important}.cdx-notify__input{max-width:130px;padding:5px 10px;background:#f7f7f7;border:0;border-radius:3px;font-size:13px;color:#656b7c;outline:0}.cdx-notify__input:-ms-input-placeholder{color:#656b7c}.cdx-notify__input::placeholder{color:#656b7c}.cdx-notify__input:focus:-ms-input-placeholder{color:rgba(101,107,124,.3)}.cdx-notify__input:focus::placeholder{color:rgba(101,107,124,.3)}.cdx-notify__button{border:none;border-radius:3px;font-size:13px;padding:5px 10px;cursor:pointer}.cdx-notify__button:last-child{margin-left:10px}.cdx-notify__button--cancel{background:#f2f5f7;box-shadow:0 2px 1px 0 rgba(16,19,29,0);color:#656b7c}.cdx-notify__button--cancel:hover{background:#eee}.cdx-notify__button--confirm{background:#34c992;box-shadow:0 1px 1px 0 rgba(18,49,35,.05);color:#fff}.cdx-notify__button--confirm:hover{background:#33b082}.cdx-notify__btns-wrapper{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;margin-top:5px}.cdx-notify__cross{position:absolute;top:5px;right:5px;width:10px;height:10px;padding:5px;opacity:.54;cursor:pointer}.cdx-notify__cross::after,.cdx-notify__cross::before{content:'';position:absolute;left:9px;top:5px;height:12px;width:2px;background:#575d67}.cdx-notify__cross::before{transform:rotate(-45deg)}.cdx-notify__cross::after{transform:rotate(45deg)}.cdx-notify__cross:hover{opacity:1}.cdx-notifies{position:fixed;z-index:2;bottom:20px;left:20px;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",sans-serif}.cdx-notify{position:relative;width:220px;margin-top:15px;padding:13px 16px;background:#fff;box-shadow:0 11px 17px 0 rgba(23,32,61,.13);border-radius:5px;font-size:14px;line-height:1.4em;word-wrap:break-word}.cdx-notify::before{content:'';position:absolute;display:block;top:0;left:0;width:3px;height:calc(100% - 6px);margin:3px;border-radius:5px;background:0 0}@keyframes bounceIn{0%{opacity:0;transform:scale(.3)}50%{opacity:1;transform:scale(1.05)}70%{transform:scale(.9)}100%{transform:scale(1)}}.cdx-notify--bounce-in{animation-name:bounceIn;animation-duration:.6s;animation-iteration-count:1}.cdx-notify--success{background:#fafffe!important}.cdx-notify--success::before{background:#41ffb1!important}`,""])},function(t,o){t.exports=function(i){var n=[];return n.toString=function(){return this.map(function(r){var s=function(c,a){var f,d=c[1]||"",p=c[3];if(!p)return d;if(a&&typeof btoa=="function"){var v=(f=p,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(f))))+" */"),u=p.sources.map(function(g){return"/*# sourceURL="+p.sourceRoot+g+" */"});return[d].concat(u).concat([v]).join(`
`)}return[d].join(`
`)}(r,i);return r[2]?"@media "+r[2]+"{"+s+"}":s}).join("")},n.i=function(r,s){typeof r=="string"&&(r=[[null,r,""]]);for(var c={},a=0;a<this.length;a++){var f=this[a][0];typeof f=="number"&&(c[f]=!0)}for(a=0;a<r.length;a++){var d=r[a];typeof d[0]=="number"&&c[d[0]]||(s&&!d[2]?d[2]=s:s&&(d[2]="("+d[2]+") and ("+s+")"),n.push(d))}},n}},function(t,o,i){var n,r,s={},c=(n=function(){return window&&document&&document.all&&!window.atob},function(){return r===void 0&&(r=n.apply(this,arguments)),r}),a=function(T){var m={};return function(y){if(typeof y=="function")return y();if(m[y]===void 0){var I=function(R){return document.querySelector(R)}.call(this,y);if(window.HTMLIFrameElement&&I instanceof window.HTMLIFrameElement)try{I=I.contentDocument.head}catch{I=null}m[y]=I}return m[y]}}(),f=null,d=0,p=[],v=i(5);function u(T,m){for(var y=0;y<T.length;y++){var I=T[y],R=s[I.id];if(R){R.refs++;for(var M=0;M<R.parts.length;M++)R.parts[M](I.parts[M]);for(;M<I.parts.length;M++)R.parts.push(B(I.parts[M],m))}else{var C=[];for(M=0;M<I.parts.length;M++)C.push(B(I.parts[M],m));s[I.id]={id:I.id,refs:1,parts:C}}}}function g(T,m){for(var y=[],I={},R=0;R<T.length;R++){var M=T[R],C=m.base?M[0]+m.base:M[0],k={css:M[1],media:M[2],sourceMap:M[3]};I[C]?I[C].parts.push(k):y.push(I[C]={id:C,parts:[k]})}return y}function x(T,m){var y=a(T.insertInto);if(!y)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var I=p[p.length-1];if(T.insertAt==="top")I?I.nextSibling?y.insertBefore(m,I.nextSibling):y.appendChild(m):y.insertBefore(m,y.firstChild),p.push(m);else if(T.insertAt==="bottom")y.appendChild(m);else{if(typeof T.insertAt!="object"||!T.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var R=a(T.insertInto+" "+T.insertAt.before);y.insertBefore(m,R)}}function E(T){if(T.parentNode===null)return!1;T.parentNode.removeChild(T);var m=p.indexOf(T);m>=0&&p.splice(m,1)}function S(T){var m=document.createElement("style");return T.attrs.type===void 0&&(T.attrs.type="text/css"),w(m,T.attrs),x(T,m),m}function w(T,m){Object.keys(m).forEach(function(y){T.setAttribute(y,m[y])})}function B(T,m){var y,I,R,M;if(m.transform&&T.css){if(!(M=m.transform(T.css)))return function(){};T.css=M}if(m.singleton){var C=d++;y=f||(f=S(m)),I=b.bind(null,y,C,!1),R=b.bind(null,y,C,!0)}else T.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(y=function(k){var A=document.createElement("link");return k.attrs.type===void 0&&(k.attrs.type="text/css"),k.attrs.rel="stylesheet",w(A,k.attrs),x(k,A),A}(m),I=function(k,A,N){var D=N.css,L=N.sourceMap,F=A.convertToAbsoluteUrls===void 0&&L;(A.convertToAbsoluteUrls||F)&&(D=v(D)),L&&(D+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(L))))+" */");var U=new Blob([D],{type:"text/css"}),P=k.href;k.href=URL.createObjectURL(U),P&&URL.revokeObjectURL(P)}.bind(null,y,m),R=function(){E(y),y.href&&URL.revokeObjectURL(y.href)}):(y=S(m),I=function(k,A){var N=A.css,D=A.media;if(D&&k.setAttribute("media",D),k.styleSheet)k.styleSheet.cssText=N;else{for(;k.firstChild;)k.removeChild(k.firstChild);k.appendChild(document.createTextNode(N))}}.bind(null,y),R=function(){E(y)});return I(T),function(k){if(k){if(k.css===T.css&&k.media===T.media&&k.sourceMap===T.sourceMap)return;I(T=k)}else R()}}t.exports=function(T,m){if(typeof DEBUG!="undefined"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(m=m||{}).attrs=typeof m.attrs=="object"?m.attrs:{},m.singleton||typeof m.singleton=="boolean"||(m.singleton=c()),m.insertInto||(m.insertInto="head"),m.insertAt||(m.insertAt="bottom");var y=g(T,m);return u(y,m),function(I){for(var R=[],M=0;M<y.length;M++){var C=y[M];(k=s[C.id]).refs--,R.push(k)}for(I&&u(g(I,m),m),M=0;M<R.length;M++){var k;if((k=R[M]).refs===0){for(var A=0;A<k.parts.length;A++)k.parts[A]();delete s[k.id]}}}};var _,O=(_=[],function(T,m){return _[T]=m,_.filter(Boolean).join(`
`)});function b(T,m,y,I){var R=y?"":I.css;if(T.styleSheet)T.styleSheet.cssText=O(m,R);else{var M=document.createTextNode(R),C=T.childNodes;C[m]&&T.removeChild(C[m]),C.length?T.insertBefore(M,C[m]):T.appendChild(M)}}},function(t,o){t.exports=function(i){var n=typeof window!="undefined"&&window.location;if(!n)throw new Error("fixUrls requires window.location");if(!i||typeof i!="string")return i;var r=n.protocol+"//"+n.host,s=r+n.pathname.replace(/\/[^\/]*$/,"/");return i.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(c,a){var f,d=a.trim().replace(/^"(.*)"$/,function(p,v){return v}).replace(/^'(.*)'$/,function(p,v){return v});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(d)?c:(f=d.indexOf("//")===0?d:d.indexOf("/")===0?r+d:s+d.replace(/^\.\//,""),"url("+JSON.stringify(f)+")")})}},function(t,o,i){var n,r,s,c,a,f;t.exports=(n="cdx-notify",r="cdx-notify__cross",s="cdx-notify__button--confirm",c="cdx-notify__button",a="cdx-notify__btns-wrapper",{alert:f=function(d){var p=document.createElement("DIV"),v=document.createElement("DIV"),u=d.message,g=d.style;return p.classList.add(n),g&&p.classList.add(n+"--"+g),p.innerHTML=u,v.classList.add(r),v.addEventListener("click",p.remove.bind(p)),p.appendChild(v),p},confirm:function(d){var p=f(d),v=document.createElement("div"),u=document.createElement("button"),g=document.createElement("button"),x=p.querySelector("."+r),E=d.cancelHandler,S=d.okHandler;return v.classList.add(a),u.innerHTML=d.okText||"Confirm",g.innerHTML=d.cancelText||"Cancel",u.classList.add(c),g.classList.add(c),u.classList.add(s),g.classList.add("cdx-notify__button--cancel"),E&&typeof E=="function"&&(g.addEventListener("click",E),x.addEventListener("click",E)),S&&typeof S=="function"&&u.addEventListener("click",S),u.addEventListener("click",p.remove.bind(p)),g.addEventListener("click",p.remove.bind(p)),v.appendChild(u),v.appendChild(g),p.appendChild(v),p},prompt:function(d){var p=f(d),v=document.createElement("div"),u=document.createElement("button"),g=document.createElement("input"),x=p.querySelector("."+r),E=d.cancelHandler,S=d.okHandler;return v.classList.add(a),u.innerHTML=d.okText||"Ok",u.classList.add(c),u.classList.add(s),g.classList.add("cdx-notify__input"),d.placeholder&&g.setAttribute("placeholder",d.placeholder),d.default&&(g.value=d.default),d.inputType&&(g.type=d.inputType),E&&typeof E=="function"&&x.addEventListener("click",E),S&&typeof S=="function"&&u.addEventListener("click",function(){S(g.value)}),u.addEventListener("click",p.remove.bind(p)),v.appendChild(g),v.appendChild(u),p.appendChild(v),p},getWrapper:function(){var d=document.createElement("DIV");return d.classList.add("cdx-notifies"),d}})}])},function(l,h,e){var t,o;(o=typeof(t=function(){function i(p){var v=p.tags;if(!Object.keys(v).map(function(u){return typeof v[u]}).every(function(u){return u==="object"||u==="boolean"||u==="function"}))throw new Error("The configuration was invalid");this.config=p}var n=["P","LI","TD","TH","DIV","H1","H2","H3","H4","H5","H6","PRE"];function r(p){return n.indexOf(p.nodeName)!==-1}var s=["A","B","STRONG","I","EM","SUB","SUP","U","STRIKE"];function c(p){return s.indexOf(p.nodeName)!==-1}function a(p,v,u){return typeof p.tags[v]=="function"?p.tags[v](u):p.tags[v]}function f(p,v){return v===void 0||typeof v=="boolean"&&!v}function d(p,v,u){var g=p.name.toLowerCase();return v!==!0&&(typeof v[g]=="function"?!v[g](p.value,u):v[g]===void 0||v[g]===!1||typeof v[g]=="string"&&v[g]!==p.value)}return i.prototype.clean=function(p){const v=document.implementation.createHTMLDocument(),u=v.createElement("div");return u.innerHTML=p,this._sanitize(v,u),u.innerHTML},i.prototype._sanitize=function(p,v){var u=function(T,m){return T.createTreeWalker(m,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT,null,!1)}(p,v),g=u.firstChild();if(g)do if(g.nodeType!==Node.TEXT_NODE){if(g.nodeType===Node.COMMENT_NODE){v.removeChild(g),this._sanitize(p,v);break}var x,E=c(g);E&&(x=Array.prototype.some.call(g.childNodes,r));var S=!!v.parentNode,w=r(v)&&r(g)&&S,B=g.nodeName.toLowerCase(),_=a(this.config,B,g);if(E&&x||f(0,_)||!this.config.keepNestedBlockElements&&w){if(g.nodeName!=="SCRIPT"&&g.nodeName!=="STYLE")for(;g.childNodes.length>0;)v.insertBefore(g.childNodes[0],g);v.removeChild(g),this._sanitize(p,v);break}for(var O=0;O<g.attributes.length;O+=1){var b=g.attributes[O];d(b,_,g)&&(g.removeAttribute(b.name),O-=1)}this._sanitize(p,g)}else if(g.data.trim()===""&&(g.previousElementSibling&&r(g.previousElementSibling)||g.nextElementSibling&&r(g.nextElementSibling))){v.removeChild(g),this._sanitize(p,v);break}while(g=u.nextSibling())},i})=="function"?t.call(h,e,h,l):t)===void 0||(l.exports=o)},function(l,h,e){l.exports=function(t){var o={};function i(n){if(o[n])return o[n].exports;var r=o[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=o,i.d=function(n,r,s){i.o(n,r)||Object.defineProperty(n,r,{enumerable:!0,get:s})},i.r=function(n){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},i.t=function(n,r){if(1&r&&(n=i(n)),8&r||4&r&&typeof n=="object"&&n&&n.__esModule)return n;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:n}),2&r&&typeof n!="string")for(var c in n)i.d(s,c,function(a){return n[a]}.bind(null,c));return s},i.n=function(n){var r=n&&n.__esModule?function(){return n.default}:function(){return n};return i.d(r,"a",r),r},i.o=function(n,r){return Object.prototype.hasOwnProperty.call(n,r)},i.p="",i(i.s=0)}([function(t,o,i){t.exports=i(1)},function(t,o,i){i.r(o),i.d(o,"default",function(){return n});class n{constructor(){this.nodes={wrapper:null,content:null},this.showed=!1,this.offsetTop=10,this.offsetLeft=10,this.offsetRight=10,this.hidingDelay=0,this.handleWindowScroll=()=>{this.showed&&this.hide(!0)},this.loadStyles(),this.prepare(),window.addEventListener("scroll",this.handleWindowScroll,{passive:!0})}get CSS(){return{tooltip:"ct",tooltipContent:"ct__content",tooltipShown:"ct--shown",placement:{left:"ct--left",bottom:"ct--bottom",right:"ct--right",top:"ct--top"}}}show(s,c,a){this.nodes.wrapper||this.prepare(),this.hidingTimeout&&clearTimeout(this.hidingTimeout);const f=Object.assign({placement:"bottom",marginTop:0,marginLeft:0,marginRight:0,marginBottom:0,delay:70,hidingDelay:0},a);if(f.hidingDelay&&(this.hidingDelay=f.hidingDelay),this.nodes.content.innerHTML="",typeof c=="string")this.nodes.content.appendChild(document.createTextNode(c));else{if(!(c instanceof Node))throw Error("[CodeX Tooltip] Wrong type of \xABcontent\xBB passed. It should be an instance of Node or String. But "+typeof c+" given.");this.nodes.content.appendChild(c)}switch(this.nodes.wrapper.classList.remove(...Object.values(this.CSS.placement)),f.placement){case"top":this.placeTop(s,f);break;case"left":this.placeLeft(s,f);break;case"right":this.placeRight(s,f);break;case"bottom":default:this.placeBottom(s,f)}f&&f.delay?this.showingTimeout=setTimeout(()=>{this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0},f.delay):(this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0)}hide(s=!1){if(this.hidingDelay&&!s)return this.hidingTimeout&&clearTimeout(this.hidingTimeout),void(this.hidingTimeout=setTimeout(()=>{this.hide(!0)},this.hidingDelay));this.nodes.wrapper.classList.remove(this.CSS.tooltipShown),this.showed=!1,this.showingTimeout&&clearTimeout(this.showingTimeout)}onHover(s,c,a){s.addEventListener("mouseenter",()=>{this.show(s,c,a)}),s.addEventListener("mouseleave",()=>{this.hide()})}destroy(){this.nodes.wrapper.remove(),window.removeEventListener("scroll",this.handleWindowScroll)}prepare(){this.nodes.wrapper=this.make("div",this.CSS.tooltip),this.nodes.content=this.make("div",this.CSS.tooltipContent),this.append(this.nodes.wrapper,this.nodes.content),this.append(document.body,this.nodes.wrapper)}loadStyles(){const s="codex-tooltips-style";if(document.getElementById(s))return;const c=i(2),a=this.make("style",null,{textContent:c.toString(),id:s});this.prepend(document.head,a)}placeBottom(s,c){const a=s.getBoundingClientRect(),f=a.left+s.clientWidth/2-this.nodes.wrapper.offsetWidth/2,d=a.bottom+window.pageYOffset+this.offsetTop+c.marginTop;this.applyPlacement("bottom",f,d)}placeTop(s,c){const a=s.getBoundingClientRect(),f=a.left+s.clientWidth/2-this.nodes.wrapper.offsetWidth/2,d=a.top+window.pageYOffset-this.nodes.wrapper.clientHeight-this.offsetTop;this.applyPlacement("top",f,d)}placeLeft(s,c){const a=s.getBoundingClientRect(),f=a.left-this.nodes.wrapper.offsetWidth-this.offsetLeft-c.marginLeft,d=a.top+window.pageYOffset+s.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("left",f,d)}placeRight(s,c){const a=s.getBoundingClientRect(),f=a.right+this.offsetRight+c.marginRight,d=a.top+window.pageYOffset+s.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("right",f,d)}applyPlacement(s,c,a){this.nodes.wrapper.classList.add(this.CSS.placement[s]),this.nodes.wrapper.style.left=c+"px",this.nodes.wrapper.style.top=a+"px"}make(s,c=null,a={}){const f=document.createElement(s);Array.isArray(c)?f.classList.add(...c):c&&f.classList.add(c);for(const d in a)a.hasOwnProperty(d)&&(f[d]=a[d]);return f}append(s,c){Array.isArray(c)?c.forEach(a=>s.appendChild(a)):s.appendChild(c)}prepend(s,c){Array.isArray(c)?(c=c.reverse()).forEach(a=>s.prepend(a)):s.prepend(c)}}},function(t,o){t.exports=`.ct{z-index:999;opacity:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;-webkit-transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1),-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);will-change:opacity,top,left;-webkit-box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);border-radius:9px}.ct,.ct:before{position:absolute;top:0;left:0}.ct:before{content:"";bottom:0;right:0;background-color:#1d202b;z-index:-1;border-radius:4px}@supports(-webkit-mask-box-image:url("")){.ct:before{border-radius:0;-webkit-mask-box-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M10.71 0h2.58c3.02 0 4.64.42 6.1 1.2a8.18 8.18 0 013.4 3.4C23.6 6.07 24 7.7 24 10.71v2.58c0 3.02-.42 4.64-1.2 6.1a8.18 8.18 0 01-3.4 3.4c-1.47.8-3.1 1.21-6.11 1.21H10.7c-3.02 0-4.64-.42-6.1-1.2a8.18 8.18 0 01-3.4-3.4C.4 17.93 0 16.3 0 13.29V10.7c0-3.02.42-4.64 1.2-6.1a8.18 8.18 0 013.4-3.4C6.07.4 7.7 0 10.71 0z"/></svg>') 48% 41% 37.9% 53.3%}}@media (--mobile){.ct{display:none}}.ct__content{padding:6px 10px;color:#cdd1e0;font-size:12px;text-align:center;letter-spacing:.02em;line-height:1em}.ct:after{content:"";width:8px;height:8px;position:absolute;background-color:#1d202b;z-index:-1}.ct--bottom{-webkit-transform:translateY(5px);transform:translateY(5px)}.ct--bottom:after{top:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--top{-webkit-transform:translateY(-5px);transform:translateY(-5px)}.ct--top:after{top:auto;bottom:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--left{-webkit-transform:translateX(-5px);transform:translateX(-5px)}.ct--left:after{top:50%;left:auto;right:0;-webkit-transform:translate(41.6%,-50%) rotate(-45deg);transform:translate(41.6%,-50%) rotate(-45deg)}.ct--right{-webkit-transform:translateX(5px);transform:translateX(5px)}.ct--right:after{top:50%;left:0;-webkit-transform:translate(-41.6%,-50%) rotate(-45deg);transform:translate(-41.6%,-50%) rotate(-45deg)}.ct--shown{opacity:1;-webkit-transform:none;transform:none}`}]).default},function(l,h,e){var t,o,i;o=[h,e(2),e(3),e(15),e(7),e(25)],(i=typeof(t=function(n,r,s,c,a,f){var d=e(8),p=e(1);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=p(r),s=p(s),c=p(c),a=d(a),f=p(f);var v=function(){function u(g,x){(0,r.default)(this,u),this.cursor=-1,this.items=[],this.items=g||[],this.focusedCssClass=x}return(0,s.default)(u,[{key:"setItems",value:function(g){this.items=g}},{key:"next",value:function(){this.cursor=this.leafNodesAndReturnIndex(u.directions.RIGHT)}},{key:"previous",value:function(){this.cursor=this.leafNodesAndReturnIndex(u.directions.LEFT)}},{key:"dropCursor",value:function(){this.cursor!==-1&&(this.items[this.cursor].classList.remove(this.focusedCssClass),this.cursor=-1)}},{key:"leafNodesAndReturnIndex",value:function(g){var x=this;if(this.items.length===0)return this.cursor;var E=this.cursor;return E===-1?E=g===u.directions.RIGHT?-1:0:this.items[E].classList.remove(this.focusedCssClass),E=g===u.directions.RIGHT?(E+1)%this.items.length:(this.items.length+E-1)%this.items.length,c.default.canSetCaret(this.items[E])&&a.delay(function(){return f.default.setCursor(x.items[E])},50)(),this.items[E].classList.add(this.focusedCssClass),E}},{key:"currentItem",get:function(){return this.cursor===-1?null:this.items[this.cursor]}}]),u}();n.default=v,v.displayName="DomIterator",v.directions={RIGHT:"right",LEFT:"left"},l.exports=h.default})=="function"?t.apply(h,o):t)===void 0||(l.exports=i)},function(l,h,e){var t=e(4);l.exports=function(o,i){for(;!Object.prototype.hasOwnProperty.call(o,i)&&(o=t(o))!==null;);return o}},function(l,h,e){var t,o,i;o=[h,e(2),e(3),e(7),e(15),e(66)],(i=typeof(t=function(n,r,s,c,a,f){var d=e(8),p=e(1);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=p(r),s=p(s),c=d(c),a=p(a);var v=function(){function u(g){(0,r.default)(this,u),this.blocks=[],this.workingArea=g}return(0,s.default)(u,[{key:"push",value:function(g){this.blocks.push(g),this.insertToDOM(g)}},{key:"swap",value:function(g,x){var E=this.blocks[x];a.default.swap(this.blocks[g].holder,E.holder),this.blocks[x]=this.blocks[g],this.blocks[g]=E}},{key:"move",value:function(g,x){var E=this.blocks.splice(x,1)[0],S=g-1,w=Math.max(0,S),B=this.blocks[w];g>0?this.insertToDOM(E,"afterend",B):this.insertToDOM(E,"beforebegin",B),this.blocks.splice(g,0,E);var _=this.composeBlockEvent("move",{fromIndex:x,toIndex:g});E.call(f.BlockToolAPI.MOVED,_)}},{key:"insert",value:function(g,x){var E=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(this.length){g>this.length&&(g=this.length),E&&(this.blocks[g].holder.remove(),this.blocks[g].call(f.BlockToolAPI.REMOVED));var S=E?1:0;if(this.blocks.splice(g,S,x),g>0){var w=this.blocks[g-1];this.insertToDOM(x,"afterend",w)}else{var B=this.blocks[g+1];B?this.insertToDOM(x,"beforebegin",B):this.insertToDOM(x)}}else this.push(x)}},{key:"remove",value:function(g){isNaN(g)&&(g=this.length-1),this.blocks[g].holder.remove(),this.blocks[g].call(f.BlockToolAPI.REMOVED),this.blocks.splice(g,1)}},{key:"removeAll",value:function(){this.workingArea.innerHTML="",this.blocks.forEach(function(g){return g.call(f.BlockToolAPI.REMOVED)}),this.blocks.length=0}},{key:"insertAfter",value:function(g,x){var E=this.blocks.indexOf(g);this.insert(E+1,x)}},{key:"get",value:function(g){return this.blocks[g]}},{key:"indexOf",value:function(g){return this.blocks.indexOf(g)}},{key:"insertToDOM",value:function(g,x,E){x?E.holder.insertAdjacentElement(x,g.holder):this.workingArea.appendChild(g.holder),g.call(f.BlockToolAPI.RENDERED)}},{key:"composeBlockEvent",value:function(g,x){return new CustomEvent(g,{detail:x})}},{key:"length",get:function(){return this.blocks.length}},{key:"array",get:function(){return this.blocks}},{key:"nodes",get:function(){return c.array(this.workingArea.children)}}],[{key:"set",value:function(g,x,E){return isNaN(Number(x))?(Reflect.set(g,x,E),!0):(g.insert(+x,E),!0)}},{key:"get",value:function(g,x){return isNaN(Number(x))?Reflect.get(g,x):g.get(+x)}}]),u}();n.default=v,v.displayName="Blocks",l.exports=h.default})=="function"?t.apply(h,o):t)===void 0||(l.exports=i)},function(l,h,e){var t,o,i;o=[h],(i=typeof(t=function(n){var r;Object.defineProperty(n,"__esModule",{value:!0}),n.BlockMutationType=void 0,n.BlockMutationType=r,function(s){s.Added="block-added",s.Removed="block-removed",s.Moved="block-moved",s.Changed="block-changed"}(r||(n.BlockMutationType=r={}))})=="function"?t.apply(h,o):t)===void 0||(l.exports=i)},function(l,h,e){l.exports=function(t){var o={};function i(n){if(o[n])return o[n].exports;var r=o[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=o,i.d=function(n,r,s){i.o(n,r)||Object.defineProperty(n,r,{enumerable:!0,get:s})},i.r=function(n){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},i.t=function(n,r){if(1&r&&(n=i(n)),8&r||4&r&&typeof n=="object"&&n&&n.__esModule)return n;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:n}),2&r&&typeof n!="string")for(var c in n)i.d(s,c,function(a){return n[a]}.bind(null,c));return s},i.n=function(n){var r=n&&n.__esModule?function(){return n.default}:function(){return n};return i.d(r,"a",r),r},i.o=function(n,r){return Object.prototype.hasOwnProperty.call(n,r)},i.p="",i(i.s=0)}([function(t,o,i){function n(c,a){for(var f=0;f<a.length;f++){var d=a[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,d.key,d)}}function r(c,a,f){return a&&n(c.prototype,a),f&&n(c,f),c}i.r(o);var s=function(){function c(a){var f=this;(function(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")})(this,c),this.commands={},this.keys={},this.name=a.name,this.parseShortcutName(a.name),this.element=a.on,this.callback=a.callback,this.executeShortcut=function(d){f.execute(d)},this.element.addEventListener("keydown",this.executeShortcut,!1)}return r(c,null,[{key:"supportedCommands",get:function(){return{SHIFT:["SHIFT"],CMD:["CMD","CONTROL","COMMAND","WINDOWS","CTRL"],ALT:["ALT","OPTION"]}}},{key:"keyCodes",get:function(){return{0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,BACKSPACE:8,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46}}}]),r(c,[{key:"parseShortcutName",value:function(a){a=a.split("+");for(var f=0;f<a.length;f++){a[f]=a[f].toUpperCase();var d=!1;for(var p in c.supportedCommands)if(c.supportedCommands[p].includes(a[f])){d=this.commands[p]=!0;break}d||(this.keys[a[f]]=!0)}for(var v in c.supportedCommands)this.commands[v]||(this.commands[v]=!1)}},{key:"execute",value:function(a){var f,d={CMD:a.ctrlKey||a.metaKey,SHIFT:a.shiftKey,ALT:a.altKey},p=!0;for(f in this.commands)this.commands[f]!==d[f]&&(p=!1);var v,u=!0;for(v in this.keys)u=u&&a.keyCode===c.keyCodes[v];p&&u&&this.callback(a)}},{key:"remove",value:function(){this.element.removeEventListener("keydown",this.executeShortcut)}}]),c}();o.default=s}]).default},function(l,h,e){var t,o,i;o=[h,e(2),e(3),e(113),e(5),e(6),e(4),e(15),e(7),e(60),e(66),e(59),e(84),e(114),e(82),e(111)],(i=typeof(t=function(n,r,s,c,a,f,d,p,v,u,g,x,E,S,w,B){var _,O=e(8),b=e(1);function T(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.ToolboxEvent=void 0,r=b(r),s=b(s),c=b(c),a=b(a),f=b(f),d=b(d),p=b(p),v=O(v),u=b(u),x=b(x),S=b(S),w=b(w),B=b(B),n.ToolboxEvent=_,function(y){y.Opened="toolbox-opened",y.Closed="toolbox-closed",y.BlockAdded="toolbox-block-added"}(_||(n.ToolboxEvent=_={}));var m=function(y){(0,a.default)(M,y);var I,R=(I=M,function(){var C,k=(0,d.default)(I);if(T()){var A=(0,d.default)(this).constructor;C=Reflect.construct(k,arguments,A)}else C=k.apply(this,arguments);return(0,f.default)(this,C)});function M(C){var k,A=C.api,N=C.tools;return(0,r.default)(this,M),(k=R.call(this)).opened=!1,k.nodes={toolbox:null,buttons:[]},k.displayedToolsCount=0,k.flipper=null,k.clickListenerId=null,k.api=A,k.tools=N,k.tooltip=new w.default,k}return(0,s.default)(M,[{key:"make",value:function(){return this.nodes.toolbox=p.default.make("div",M.CSS.toolbox),this.addTools(),this.enableFlipper(),this.nodes.toolbox}},{key:"destroy",value:function(){(0,c.default)((0,d.default)(M.prototype),"destroy",this).call(this),this.flipper&&(this.flipper.deactivate(),this.flipper=null),this.nodes&&this.nodes.toolbox&&(this.nodes.toolbox.remove(),this.nodes.toolbox=null,this.nodes.buttons=[]),this.api.listeners.offById(this.clickListenerId),this.removeAllShortcuts(),this.tooltip.destroy()}},{key:"toolButtonActivate",value:function(C,k){this.insertNewBlock(k)}},{key:"open",value:function(){this.isEmpty||(this.emit(_.Opened),this.nodes.toolbox.classList.add(M.CSS.toolboxOpened),this.opened=!0,this.flipper.activate())}},{key:"close",value:function(){this.emit(_.Closed),this.nodes.toolbox.classList.remove(M.CSS.toolboxOpened),this.opened=!1,this.flipper.deactivate()}},{key:"toggle",value:function(){this.opened?this.close():this.open()}},{key:"addTools",value:function(){var C=this;Array.from(this.tools.values()).forEach(function(k){return C.addTool(k)})}},{key:"addTool",value:function(C){var k=this,A=C.toolbox;if(A)if(!A||A.icon){var N=p.default.make("li",[M.CSS.toolboxButton]);N.dataset.tool=C.name,N.innerHTML=A.icon,p.default.append(this.nodes.toolbox,N),this.nodes.toolbox.appendChild(N),this.nodes.buttons.push(N),this.clickListenerId=this.api.listeners.on(N,"click",function(F){k.toolButtonActivate(F,C.name)});var D=this.drawTooltip(C);this.tooltip.onHover(N,D,{placement:"bottom",hidingDelay:200});var L=C.shortcut;L&&this.enableShortcut(C.name,L),this.displayedToolsCount++}else v.log("Toolbar icon is missed. Tool %o skipped","warn",C.name)}},{key:"drawTooltip",value:function(C){var k=C.toolbox||{},A=x.default.t(E.I18nInternalNS.toolNames,k.title||C.name),N=C.shortcut,D=p.default.make("div",M.CSS.buttonTooltip),L=document.createTextNode(v.capitalize(A));return D.appendChild(L),N&&(N=v.beautifyShortcut(N),D.appendChild(p.default.make("div",M.CSS.buttonShortcut,{textContent:N}))),D}},{key:"enableShortcut",value:function(C,k){var A=this;S.default.add({name:k,on:this.api.ui.nodes.redactor,handler:function(N){N.preventDefault(),A.insertNewBlock(C)}})}},{key:"removeAllShortcuts",value:function(){var C=this;Array.from(this.tools.values()).forEach(function(k){var A=k.shortcut;A&&S.default.remove(C.api.ui.nodes.redactor,A)})}},{key:"enableFlipper",value:function(){var C=Array.from(this.nodes.toolbox.childNodes);this.flipper=new u.default({items:C,focusedItemClass:M.CSS.toolboxButtonActive})}},{key:"insertNewBlock",value:function(C){var k=this.api.blocks.getCurrentBlockIndex(),A=this.api.blocks.getBlockByIndex(k);if(A){var N=A.isEmpty?k:k+1,D=this.api.blocks.insert(C,void 0,void 0,N,void 0,A.isEmpty);D.call(g.BlockToolAPI.APPEND_CALLBACK),this.api.caret.setToBlock(N),this.emit(_.BlockAdded,{block:D}),this.api.toolbar.close()}}},{key:"isEmpty",get:function(){return this.displayedToolsCount===0}},{key:"flipperHasFocus",get:function(){return this.flipper&&this.flipper.currentItem!==null}}],[{key:"CSS",get:function(){return{toolbox:"ce-toolbox",toolboxButton:"ce-toolbox__button",toolboxButtonActive:"ce-toolbox__button--active",toolboxOpened:"ce-toolbox--opened",buttonTooltip:"ce-toolbox-button-tooltip",buttonShortcut:"ce-toolbox-button-tooltip__shortcut"}}}]),M}(B.default);n.default=m,m.displayName="Toolbox"})=="function"?t.apply(h,o):t)===void 0||(l.exports=i)},function(l,h,e){l.exports=function(t){var o={};function i(n){if(o[n])return o[n].exports;var r=o[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=o,i.d=function(n,r,s){i.o(n,r)||Object.defineProperty(n,r,{enumerable:!0,get:s})},i.r=function(n){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},i.t=function(n,r){if(1&r&&(n=i(n)),8&r||4&r&&typeof n=="object"&&n&&n.__esModule)return n;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:n}),2&r&&typeof n!="string")for(var c in n)i.d(s,c,function(a){return n[a]}.bind(null,c));return s},i.n=function(n){var r=n&&n.__esModule?function(){return n.default}:function(){return n};return i.d(r,"a",r),r},i.o=function(n,r){return Object.prototype.hasOwnProperty.call(n,r)},i.p="/",i(i.s=0)}([function(t,o,i){function n(c,a){for(var f=0;f<a.length;f++){var d=a[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,d.key,d)}}function r(c,a,f){return a&&n(c.prototype,a),f&&n(c,f),c}i(1).toString();var s=function(){function c(a){var f=a.data,d=a.config,p=a.api,v=a.readOnly;(function(u,g){if(!(u instanceof g))throw new TypeError("Cannot call a class as a function")})(this,c),this.api=p,this.readOnly=v,this._CSS={block:this.api.styles.block,wrapper:"ce-paragraph"},this.readOnly||(this.onKeyUp=this.onKeyUp.bind(this)),this._placeholder=d.placeholder?d.placeholder:c.DEFAULT_PLACEHOLDER,this._data={},this._element=this.drawView(),this._preserveBlank=d.preserveBlank!==void 0&&d.preserveBlank,this.data=f}return r(c,null,[{key:"DEFAULT_PLACEHOLDER",get:function(){return""}}]),r(c,[{key:"onKeyUp",value:function(a){a.code!=="Backspace"&&a.code!=="Delete"||this._element.textContent===""&&(this._element.innerHTML="")}},{key:"drawView",value:function(){var a=document.createElement("DIV");return a.classList.add(this._CSS.wrapper,this._CSS.block),a.contentEditable=!1,a.dataset.placeholder=this.api.i18n.t(this._placeholder),this.readOnly||(a.contentEditable=!0,a.addEventListener("keyup",this.onKeyUp)),a}},{key:"render",value:function(){return this._element}},{key:"merge",value:function(a){var f={text:this.data.text+a.text};this.data=f}},{key:"validate",value:function(a){return!(a.text.trim()===""&&!this._preserveBlank)}},{key:"save",value:function(a){return{text:a.innerHTML}}},{key:"onPaste",value:function(a){var f={text:a.detail.data.innerHTML};this.data=f}},{key:"data",get:function(){var a=this._element.innerHTML;return this._data.text=a,this._data},set:function(a){this._data=a||{},this._element.innerHTML=this._data.text||""}}],[{key:"conversionConfig",get:function(){return{export:"text",import:"text"}}},{key:"sanitize",get:function(){return{text:{br:!0}}}},{key:"isReadOnlySupported",get:function(){return!0}},{key:"pasteConfig",get:function(){return{tags:["P"]}}},{key:"toolbox",get:function(){return{icon:i(5).default,title:"Text"}}}]),c}();t.exports=s},function(t,o,i){var n=i(2),r=i(3);typeof(r=r.__esModule?r.default:r)=="string"&&(r=[[t.i,r,""]]),n(r,{insert:"head",singleton:!1}),t.exports=r.locals||{}},function(t,o,i){var n,r=function(){var S={};return function(w){if(S[w]===void 0){var B=document.querySelector(w);if(window.HTMLIFrameElement&&B instanceof window.HTMLIFrameElement)try{B=B.contentDocument.head}catch{B=null}S[w]=B}return S[w]}}(),s=[];function c(S){for(var w=-1,B=0;B<s.length;B++)if(s[B].identifier===S){w=B;break}return w}function a(S,w){for(var B={},_=[],O=0;O<S.length;O++){var b=S[O],T=w.base?b[0]+w.base:b[0],m=B[T]||0,y="".concat(T," ").concat(m);B[T]=m+1;var I=c(y),R={css:b[1],media:b[2],sourceMap:b[3]};I!==-1?(s[I].references++,s[I].updater(R)):s.push({identifier:y,updater:E(R,w),references:1}),_.push(y)}return _}function f(S){var w=document.createElement("style"),B=S.attributes||{};if(B.nonce===void 0){var _=i.nc;_&&(B.nonce=_)}if(Object.keys(B).forEach(function(b){w.setAttribute(b,B[b])}),typeof S.insert=="function")S.insert(w);else{var O=r(S.insert||"head");if(!O)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");O.appendChild(w)}return w}var d,p=(d=[],function(S,w){return d[S]=w,d.filter(Boolean).join(`
`)});function v(S,w,B,_){var O=B?"":_.media?"@media ".concat(_.media," {").concat(_.css,"}"):_.css;if(S.styleSheet)S.styleSheet.cssText=p(w,O);else{var b=document.createTextNode(O),T=S.childNodes;T[w]&&S.removeChild(T[w]),T.length?S.insertBefore(b,T[w]):S.appendChild(b)}}function u(S,w,B){var _=B.css,O=B.media,b=B.sourceMap;if(O?S.setAttribute("media",O):S.removeAttribute("media"),b&&btoa&&(_+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(b))))," */")),S.styleSheet)S.styleSheet.cssText=_;else{for(;S.firstChild;)S.removeChild(S.firstChild);S.appendChild(document.createTextNode(_))}}var g=null,x=0;function E(S,w){var B,_,O;if(w.singleton){var b=x++;B=g||(g=f(w)),_=v.bind(null,B,b,!1),O=v.bind(null,B,b,!0)}else B=f(w),_=u.bind(null,B,w),O=function(){(function(T){if(T.parentNode===null)return!1;T.parentNode.removeChild(T)})(B)};return _(S),function(T){if(T){if(T.css===S.css&&T.media===S.media&&T.sourceMap===S.sourceMap)return;_(S=T)}else O()}}t.exports=function(S,w){(w=w||{}).singleton||typeof w.singleton=="boolean"||(w.singleton=(n===void 0&&(n=Boolean(window&&document&&document.all&&!window.atob)),n));var B=a(S=S||[],w);return function(_){if(_=_||[],Object.prototype.toString.call(_)==="[object Array]"){for(var O=0;O<B.length;O++){var b=c(B[O]);s[b].references--}for(var T=a(_,w),m=0;m<B.length;m++){var y=c(B[m]);s[y].references===0&&(s[y].updater(),s.splice(y,1))}B=T}}}},function(t,o,i){(o=i(4)(!1)).push([t.i,`.ce-paragraph {
    line-height: 1.6em;
    outline: none;
}

.ce-paragraph[data-placeholder]:empty::before{
  content: attr(data-placeholder);
  color: #707684;
  font-weight: normal;
  opacity: 0;
}

/** Show placeholder at the first paragraph if Editor is empty */
.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty::before {
  opacity: 1;
}

.codex-editor--toolbox-opened .ce-block:first-child .ce-paragraph[data-placeholder]:empty::before,
.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty:focus::before {
  opacity: 0;
}

.ce-paragraph p:first-of-type{
    margin-top: 0;
}

.ce-paragraph p:last-of-type{
    margin-bottom: 0;
}
`,""]),t.exports=o},function(t,o,i){t.exports=function(n){var r=[];return r.toString=function(){return this.map(function(s){var c=function(a,f){var d,p,v,u=a[1]||"",g=a[3];if(!g)return u;if(f&&typeof btoa=="function"){var x=(d=g,p=btoa(unescape(encodeURIComponent(JSON.stringify(d)))),v="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(p),"/*# ".concat(v," */")),E=g.sources.map(function(S){return"/*# sourceURL=".concat(g.sourceRoot||"").concat(S," */")});return[u].concat(E).concat([x]).join(`
`)}return[u].join(`
`)}(s,n);return s[2]?"@media ".concat(s[2]," {").concat(c,"}"):c}).join("")},r.i=function(s,c,a){typeof s=="string"&&(s=[[null,s,""]]);var f={};if(a)for(var d=0;d<this.length;d++){var p=this[d][0];p!=null&&(f[p]=!0)}for(var v=0;v<s.length;v++){var u=[].concat(s[v]);a&&f[u[0]]||(c&&(u[2]?u[2]="".concat(c," and ").concat(u[2]):u[2]=c),r.push(u))}},r}},function(t,o,i){i.r(o),o.default=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0.2 -0.3 9 11.4" width="12" height="14">
  <path d="M0 2.77V.92A1 1 0 01.2.28C.35.1.56 0 .83 0h7.66c.28.01.48.1.63.28.14.17.21.38.21.64v1.85c0 .26-.08.48-.23.66-.15.17-.37.26-.66.26-.28 0-.5-.09-.64-.26a1 1 0 01-.21-.66V1.69H5.6v7.58h.5c.25 0 .45.08.6.23.17.16.25.35.25.6s-.08.45-.24.6a.87.87 0 01-.62.22H3.21a.87.87 0 01-.61-.22.78.78 0 01-.24-.6c0-.25.08-.44.24-.6a.85.85 0 01.61-.23h.5V1.7H1.73v1.08c0 .26-.08.48-.23.66-.15.17-.37.26-.66.26-.28 0-.5-.09-.64-.26A1 1 0 010 2.77z"/>
</svg>
`}])},function(l,h,e){var t,o,i;o=[h,e(2),e(3),e(15)],(i=typeof(t=function(n,r,s,c){var a=e(1);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=a(r),s=a(s),c=a(c);var f=function(){function d(){(0,r.default)(this,d),this.commandName="bold",this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--bold"},this.nodes={button:void 0}}return(0,s.default)(d,[{key:"render",value:function(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.appendChild(c.default.svg("bold",12,14)),this.nodes.button}},{key:"surround",value:function(p){document.execCommand(this.commandName)}},{key:"checkState",value:function(p){var v=document.queryCommandState(this.commandName);return this.nodes.button.classList.toggle(this.CSS.buttonActive,v),v}},{key:"shortcut",get:function(){return"CMD+B"}}],[{key:"sanitize",get:function(){return{b:{}}}}]),d}();n.default=f,f.displayName="BoldInlineTool",f.isInline=!0,f.title="Bold",l.exports=h.default})=="function"?t.apply(h,o):t)===void 0||(l.exports=i)},function(l,h,e){var t,o,i;o=[h,e(2),e(3),e(15)],(i=typeof(t=function(n,r,s,c){var a=e(1);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=a(r),s=a(s),c=a(c);var f=function(){function d(){(0,r.default)(this,d),this.commandName="italic",this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--italic"},this.nodes={button:null}}return(0,s.default)(d,[{key:"render",value:function(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.appendChild(c.default.svg("italic",4,11)),this.nodes.button}},{key:"surround",value:function(p){document.execCommand(this.commandName)}},{key:"checkState",value:function(p){var v=document.queryCommandState(this.commandName);return this.nodes.button.classList.toggle(this.CSS.buttonActive,v),v}},{key:"shortcut",get:function(){return"CMD+I"}}],[{key:"sanitize",get:function(){return{i:{}}}}]),d}();n.default=f,f.displayName="ItalicInlineTool",f.isInline=!0,f.title="Italic",l.exports=h.default})=="function"?t.apply(h,o):t)===void 0||(l.exports=i)},function(l,h,e){var t,o,i;o=[h,e(2),e(3),e(25),e(15),e(7)],(i=typeof(t=function(n,r,s,c,a,f){var d=e(8),p=e(1);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=p(r),s=p(s),c=p(c),a=p(a),f=d(f);var v=function(){function u(g){var x=g.api;(0,r.default)(this,u),this.commandLink="createLink",this.commandUnlink="unlink",this.ENTER_KEY=13,this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--link",buttonUnlink:"ce-inline-tool--unlink",input:"ce-inline-tool-input",inputShowed:"ce-inline-tool-input--showed"},this.nodes={button:null,input:null},this.inputOpened=!1,this.toolbar=x.toolbar,this.inlineToolbar=x.inlineToolbar,this.notifier=x.notifier,this.i18n=x.i18n,this.selection=new c.default}return(0,s.default)(u,[{key:"render",value:function(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.appendChild(a.default.svg("link",14,10)),this.nodes.button.appendChild(a.default.svg("unlink",15,11)),this.nodes.button}},{key:"renderActions",value:function(){var g=this;return this.nodes.input=document.createElement("input"),this.nodes.input.placeholder=this.i18n.t("Add a link"),this.nodes.input.classList.add(this.CSS.input),this.nodes.input.addEventListener("keydown",function(x){x.keyCode===g.ENTER_KEY&&g.enterPressed(x)}),this.nodes.input}},{key:"surround",value:function(g){if(g){this.inputOpened?(this.selection.restore(),this.selection.removeFakeBackground()):(this.selection.setFakeBackground(),this.selection.save());var x=this.selection.findParentTag("A");if(x)return this.selection.expandToTag(x),this.unlink(),this.closeActions(),this.checkState(),void this.toolbar.close()}this.toggleActions()}},{key:"checkState",value:function(g){var x=this.selection.findParentTag("A");if(x){this.nodes.button.classList.add(this.CSS.buttonUnlink),this.nodes.button.classList.add(this.CSS.buttonActive),this.openActions();var E=x.getAttribute("href");this.nodes.input.value=E!=="null"?E:"",this.selection.save()}else this.nodes.button.classList.remove(this.CSS.buttonUnlink),this.nodes.button.classList.remove(this.CSS.buttonActive);return!!x}},{key:"clear",value:function(){this.closeActions()}},{key:"toggleActions",value:function(){this.inputOpened?this.closeActions(!1):this.openActions(!0)}},{key:"openActions",value:function(){var g=arguments.length>0&&arguments[0]!==void 0&&arguments[0];this.nodes.input.classList.add(this.CSS.inputShowed),g&&this.nodes.input.focus(),this.inputOpened=!0}},{key:"closeActions",value:function(){var g=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];if(this.selection.isFakeBackgroundEnabled){var x=new c.default;x.save(),this.selection.restore(),this.selection.removeFakeBackground(),x.restore()}this.nodes.input.classList.remove(this.CSS.inputShowed),this.nodes.input.value="",g&&this.selection.clearSaved(),this.inputOpened=!1}},{key:"enterPressed",value:function(g){var x=this.nodes.input.value||"";return x.trim()?this.validateURL(x)?(x=this.prepareLink(x),this.selection.restore(),this.selection.removeFakeBackground(),this.insertLink(x),g.preventDefault(),g.stopPropagation(),g.stopImmediatePropagation(),this.selection.collapseToEnd(),void this.inlineToolbar.close()):(this.notifier.show({message:"Pasted link is not valid.",style:"error"}),void f.log("Incorrect Link pasted","warn",x)):(this.selection.restore(),this.unlink(),g.preventDefault(),void this.closeActions())}},{key:"validateURL",value:function(g){return!/\s/.test(g)}},{key:"prepareLink",value:function(g){return g=g.trim(),g=this.addProtocol(g)}},{key:"addProtocol",value:function(g){if(/^(\w+):(\/\/)?/.test(g))return g;var x=/^\/[^/\s]/.test(g),E=g.substring(0,1)==="#",S=/^\/\/[^/\s]/.test(g);return x||E||S||(g="http://"+g),g}},{key:"insertLink",value:function(g){var x=this.selection.findParentTag("A");x&&this.selection.expandToTag(x),document.execCommand(this.commandLink,!1,g)}},{key:"unlink",value:function(){document.execCommand(this.commandUnlink)}},{key:"shortcut",get:function(){return"CMD+K"}}],[{key:"sanitize",get:function(){return{a:{href:!0,target:"_blank",rel:"nofollow"}}}}]),u}();n.default=v,v.displayName="LinkInlineTool",v.isInline=!0,v.title="Link",l.exports=h.default})=="function"?t.apply(h,o):t)===void 0||(l.exports=i)},function(l,h,e){var t,o,i;o=[h,e(2),e(3),e(15)],(i=typeof(t=function(n,r,s,c){var a=e(1);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=a(r),s=a(s),c=a(c);var f=function(){function d(p){var v=p.data,u=p.api;(0,r.default)(this,d),this.CSS={wrapper:"ce-stub",info:"ce-stub__info",title:"ce-stub__title",subtitle:"ce-stub__subtitle"},this.api=u,this.title=v.title||this.api.i18n.t("Error"),this.subtitle=this.api.i18n.t("The block can not be displayed correctly."),this.savedData=v.savedData,this.wrapper=this.make()}return(0,s.default)(d,[{key:"render",value:function(){return this.wrapper}},{key:"save",value:function(){return this.savedData}},{key:"make",value:function(){var p=c.default.make("div",this.CSS.wrapper),v=c.default.svg("sad-face",52,52),u=c.default.make("div",this.CSS.info),g=c.default.make("div",this.CSS.title,{textContent:this.title}),x=c.default.make("div",this.CSS.subtitle,{textContent:this.subtitle});return p.appendChild(v),u.appendChild(g),u.appendChild(x),p.appendChild(u),p}}]),d}();n.default=f,f.displayName="Stub",f.isReadOnlySupported=!0,l.exports=h.default})=="function"?t.apply(h,o):t)===void 0||(l.exports=i)},function(l,h,e){var t,o,i;o=[h,e(2),e(3),e(67),e(392),e(393),e(394)],(i=typeof(t=function(n,r,s,c,a,f,d){var p=e(1);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=p(r),s=p(s),a=p(a),f=p(f),d=p(d);var v=function(g,x){var E={};for(var S in g)Object.prototype.hasOwnProperty.call(g,S)&&x.indexOf(S)<0&&(E[S]=g[S]);if(g!=null&&typeof Object.getOwnPropertySymbols=="function"){var w=0;for(S=Object.getOwnPropertySymbols(g);w<S.length;w++)x.indexOf(S[w])<0&&Object.prototype.propertyIsEnumerable.call(g,S[w])&&(E[S[w]]=g[S[w]])}return E},u=function(){function g(x,E,S){(0,r.default)(this,g),this.api=S,this.config=x,this.editorConfig=E}return(0,s.default)(g,[{key:"get",value:function(x){var E=this.config[x],S=E.class,w=E.isInternal,B=w!==void 0&&w,_=v(E,["class","isInternal"]);return new(this.getConstructor(S))({name:x,constructable:S,config:_,api:this.api,isDefault:x===this.editorConfig.defaultBlock,defaultPlaceholder:this.editorConfig.placeholder,isInternal:B})}},{key:"getConstructor",value:function(x){switch(!0){case x[c.InternalInlineToolSettings.IsInline]:return a.default;case x[c.InternalTuneSettings.IsTune]:return f.default;default:return d.default}}}]),g}();n.default=u,u.displayName="ToolsFactory",l.exports=h.default})=="function"?t.apply(h,o):t)===void 0||(l.exports=i)},function(l,h,e){var t,o,i;o=[h,e(2),e(3),e(5),e(6),e(4),e(67)],(i=typeof(t=function(n,r,s,c,a,f,d){var p=e(8),v=e(1);function u(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=v(r),s=v(s),c=v(c),a=v(a),f=v(f);var g=function(x){(0,c.default)(w,x);var E,S=(E=w,function(){var B,_=(0,f.default)(E);if(u()){var O=(0,f.default)(this).constructor;B=Reflect.construct(_,arguments,O)}else B=_.apply(this,arguments);return(0,a.default)(this,B)});function w(){var B;return(0,r.default)(this,w),(B=S.apply(this,arguments)).type=d.ToolType.Inline,B}return(0,s.default)(w,[{key:"create",value:function(){return new this.constructable({api:this.api.getMethodsForTool(this),config:this.settings})}},{key:"title",get:function(){return this.constructable[d.InternalInlineToolSettings.Title]}}]),w}((d=p(d)).default);n.default=g,g.displayName="InlineTool",l.exports=h.default})=="function"?t.apply(h,o):t)===void 0||(l.exports=i)},function(l,h,e){var t,o,i;o=[h,e(2),e(3),e(5),e(6),e(4),e(67)],(i=typeof(t=function(n,r,s,c,a,f,d){var p=e(8),v=e(1);function u(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=v(r),s=v(s),c=v(c),a=v(a),f=v(f);var g=function(x){(0,c.default)(w,x);var E,S=(E=w,function(){var B,_=(0,f.default)(E);if(u()){var O=(0,f.default)(this).constructor;B=Reflect.construct(_,arguments,O)}else B=_.apply(this,arguments);return(0,a.default)(this,B)});function w(){var B;return(0,r.default)(this,w),(B=S.apply(this,arguments)).type=d.ToolType.Tune,B}return(0,s.default)(w,[{key:"create",value:function(B,_){return new this.constructable({api:this.api.getMethodsForTool(this),config:this.settings,block:_,data:B})}}]),w}((d=p(d)).default);n.default=g,g.displayName="BlockTune",l.exports=h.default})=="function"?t.apply(h,o):t)===void 0||(l.exports=i)},function(l,h,e){var t,o,i;o=[h,e(2),e(3),e(113),e(5),e(6),e(4),e(80),e(67),e(7),e(184)],(i=typeof(t=function(n,r,s,c,a,f,d,p,v,u,g){var x=e(8),E=e(1);function S(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=E(r),s=E(s),c=E(c),a=E(a),f=E(f),d=E(d),p=E(p),v=x(v),u=x(u),g=E(g);var w=function(_,O,b,T){var m,y=arguments.length,I=y<3?O:T===null?T=Object.getOwnPropertyDescriptor(O,b):T;if((typeof Reflect=="undefined"?"undefined":(0,p.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")I=Reflect.decorate(_,O,b,T);else for(var R=_.length-1;R>=0;R--)(m=_[R])&&(I=(y<3?m(I):y>3?m(O,b,I):m(O,b))||I);return y>3&&I&&Object.defineProperty(O,b,I),I},B=function(_){(0,a.default)(T,_);var O,b=(O=T,function(){var m,y=(0,d.default)(O);if(S()){var I=(0,d.default)(this).constructor;m=Reflect.construct(y,arguments,I)}else m=y.apply(this,arguments);return(0,f.default)(this,m)});function T(){var m;return(0,r.default)(this,T),(m=b.apply(this,arguments)).type=v.ToolType.Block,m.inlineTools=new g.default,m.tunes=new g.default,m}return(0,s.default)(T,[{key:"create",value:function(m,y,I){return new this.constructable({data:m,block:y,readOnly:I,api:this.api.getMethodsForTool(this),config:this.settings})}},{key:"isReadOnlySupported",get:function(){return this.constructable[v.InternalBlockToolSettings.IsReadOnlySupported]===!0}},{key:"isLineBreaksEnabled",get:function(){return this.constructable[v.InternalBlockToolSettings.IsEnabledLineBreaks]}},{key:"toolbox",get:function(){var m=this.constructable[v.InternalBlockToolSettings.Toolbox],y=this.config[v.UserSettings.Toolbox];if(!u.isEmpty(m)&&(y!=null?y:m)!==!1)return Object.assign({},m,y)}},{key:"conversionConfig",get:function(){return this.constructable[v.InternalBlockToolSettings.ConversionConfig]}},{key:"enabledInlineTools",get:function(){return this.config[v.UserSettings.EnabledInlineTools]||!1}},{key:"enabledBlockTunes",get:function(){return this.config[v.UserSettings.EnabledBlockTunes]}},{key:"pasteConfig",get:function(){return this.constructable[v.InternalBlockToolSettings.PasteConfig]||{}}},{key:"sanitizeConfig",get:function(){var m=(0,c.default)((0,d.default)(T.prototype),"sanitizeConfig",this),y=this.baseSanitizeConfig;if(u.isEmpty(m))return y;var I={};for(var R in m)if(Object.prototype.hasOwnProperty.call(m,R)){var M=m[R];u.isObject(M)?I[R]=Object.assign({},y,M):I[R]=M}return I}},{key:"baseSanitizeConfig",get:function(){var m={};return Array.from(this.inlineTools.values()).forEach(function(y){return Object.assign(m,y.sanitizeConfig)}),Array.from(this.tunes.values()).forEach(function(y){return Object.assign(m,y.sanitizeConfig)}),m}}]),T}(v.default);n.default=B,B.displayName="BlockTool",w([u.cacheable],B.prototype,"sanitizeConfig",null),w([u.cacheable],B.prototype,"baseSanitizeConfig",null),l.exports=h.default})=="function"?t.apply(h,o):t)===void 0||(l.exports=i)},function(l,h,e){var t,o,i;o=[h,e(2),e(3),e(15)],(i=typeof(t=function(n,r,s,c){var a=e(1);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=a(r),s=a(s),c=a(c);var f=function(){function d(p){var v=p.api;(0,r.default)(this,d),this.CSS={button:"ce-settings__button",wrapper:"ce-tune-move-down",animation:"wobble"},this.api=v}return(0,s.default)(d,[{key:"render",value:function(){var p=this,v=c.default.make("div",[this.CSS.button,this.CSS.wrapper],{});return v.appendChild(c.default.svg("arrow-down",14,14)),this.api.listeners.on(v,"click",function(u){return p.handleClick(u,v)},!1),this.api.tooltip.onHover(v,this.api.i18n.t("Move down"),{hidingDelay:300}),v}},{key:"handleClick",value:function(p,v){var u=this,g=this.api.blocks.getCurrentBlockIndex(),x=this.api.blocks.getBlockByIndex(g+1);if(!x)return v.classList.add(this.CSS.animation),void window.setTimeout(function(){v.classList.remove(u.CSS.animation)},500);var E=x.holder,S=E.getBoundingClientRect(),w=Math.abs(window.innerHeight-E.offsetHeight);S.top<window.innerHeight&&(w=window.scrollY+E.offsetHeight),window.scrollTo(0,w),this.api.blocks.move(g+1),this.api.toolbar.toggleBlockSettings(!0),this.api.tooltip.hide()}}]),d}();n.default=f,f.displayName="MoveDownTune",f.isTune=!0,l.exports=h.default})=="function"?t.apply(h,o):t)===void 0||(l.exports=i)},function(l,h,e){var t,o,i;o=[h,e(2),e(3),e(15)],(i=typeof(t=function(n,r,s,c){var a=e(1);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=a(r),s=a(s),c=a(c);var f=function(){function d(p){var v=this,u=p.api;(0,r.default)(this,d),this.CSS={button:"ce-settings__button",buttonDelete:"ce-settings__button--delete",buttonConfirm:"ce-settings__button--confirm"},this.nodes={button:null},this.api=u,this.resetConfirmation=function(){v.setConfirmation(!1)}}return(0,s.default)(d,[{key:"render",value:function(){var p=this;return this.nodes.button=c.default.make("div",[this.CSS.button,this.CSS.buttonDelete],{}),this.nodes.button.appendChild(c.default.svg("cross",12,12)),this.api.listeners.on(this.nodes.button,"click",function(v){return p.handleClick(v)},!1),this.api.tooltip.onHover(this.nodes.button,this.api.i18n.t("Delete"),{hidingDelay:300}),this.nodes.button}},{key:"handleClick",value:function(p){this.needConfirmation?(this.api.events.off("block-settings-closed",this.resetConfirmation),this.api.blocks.delete(),this.api.toolbar.close(),this.api.tooltip.hide(),p.stopPropagation()):(this.setConfirmation(!0),this.api.events.on("block-settings-closed",this.resetConfirmation))}},{key:"setConfirmation",value:function(p){this.needConfirmation=p,this.nodes.button.classList.add(this.CSS.buttonConfirm)}}]),d}();n.default=f,f.displayName="DeleteTune",f.isTune=!0,l.exports=h.default})=="function"?t.apply(h,o):t)===void 0||(l.exports=i)},function(l,h,e){var t,o,i;o=[h,e(2),e(3),e(15)],(i=typeof(t=function(n,r,s,c){var a=e(1);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=a(r),s=a(s),c=a(c);var f=function(){function d(p){var v=p.api;(0,r.default)(this,d),this.CSS={button:"ce-settings__button",wrapper:"ce-tune-move-up",animation:"wobble"},this.api=v}return(0,s.default)(d,[{key:"render",value:function(){var p=this,v=c.default.make("div",[this.CSS.button,this.CSS.wrapper],{});return v.appendChild(c.default.svg("arrow-up",14,14)),this.api.listeners.on(v,"click",function(u){return p.handleClick(u,v)},!1),this.api.tooltip.onHover(v,this.api.i18n.t("Move up"),{hidingDelay:300}),v}},{key:"handleClick",value:function(p,v){var u=this,g=this.api.blocks.getCurrentBlockIndex(),x=this.api.blocks.getBlockByIndex(g),E=this.api.blocks.getBlockByIndex(g-1);if(g===0||!x||!E)return v.classList.add(this.CSS.animation),void window.setTimeout(function(){v.classList.remove(u.CSS.animation)},500);var S,w=x.holder,B=E.holder,_=w.getBoundingClientRect(),O=B.getBoundingClientRect();S=O.top>0?Math.abs(_.top)-Math.abs(O.top):window.innerHeight-Math.abs(_.top)+Math.abs(O.top),window.scrollBy(0,-1*S),this.api.blocks.move(g-1),this.api.toolbar.toggleBlockSettings(!0),this.api.tooltip.hide()}}]),d}();n.default=f,f.displayName="MoveUpTune",f.isTune=!0,l.exports=h.default})=="function"?t.apply(h,o):t)===void 0||(l.exports=i)},function(l,h,e){e.r(h),h.default=`<?xml version="1.0" encoding="utf-8"?>
<svg xmlns="http://www.w3.org/2000/svg">
<symbol id="arrow-down" viewBox="0 0 14 14">
  <path transform="matrix(1 0 0 -1 0 14)" d="M8.024 4.1v8.6a1.125 1.125 0 0 1-2.25 0V4.1L2.18 7.695A1.125 1.125 0 1 1 .59 6.104L6.103.588c.44-.439 1.151-.439 1.59 0l5.516 5.516a1.125 1.125 0 0 1-1.59 1.59L8.023 4.1z"/>

</symbol>
<symbol id="arrow-up" viewBox="0 0 14 14">
    <path d="M8.024 4.1v8.6a1.125 1.125 0 0 1-2.25 0V4.1L2.18 7.695A1.125 1.125 0 1 1 .59 6.104L6.103.588c.44-.439 1.151-.439 1.59 0l5.516 5.516a1.125 1.125 0 0 1-1.59 1.59L8.023 4.1z"/>

</symbol>
<symbol id="bold" viewBox="0 0 12 14"><path d="M5.997 14H1.72c-.618 0-1.058-.138-1.323-.415C.132 13.308 0 12.867 0 12.262V1.738C0 1.121.135.676.406.406.676.136 1.114 0 1.719 0h4.536c.669 0 1.248.041 1.738.124.49.083.93.242 1.318.478a3.458 3.458 0 0 1 1.461 1.752c.134.366.2.753.2 1.16 0 1.401-.7 2.426-2.1 3.075 1.84.586 2.76 1.726 2.76 3.42 0 .782-.2 1.487-.602 2.114a3.61 3.61 0 0 1-1.623 1.39 5.772 5.772 0 0 1-1.471.377c-.554.073-1.2.11-1.939.11zm-.21-6.217h-2.95v4.087h3.046c1.916 0 2.874-.69 2.874-2.072 0-.707-.248-1.22-.745-1.537-.496-.319-1.238-.478-2.225-.478zM2.837 2.13v3.619h2.597c.707 0 1.252-.067 1.638-.2.385-.134.68-.389.883-.765.16-.267.239-.566.239-.897 0-.707-.252-1.176-.755-1.409-.503-.232-1.27-.348-2.301-.348H2.836z"/>
</symbol>
<symbol id="cross" viewBox="0 0 237 237">
  <path transform="rotate(45 280.675 51.325)" d="M191 191V73c0-5.523 4.477-10 10-10h25c5.523 0 10 4.477 10 10v118h118c5.523 0 10 4.477 10 10v25c0 5.523-4.477 10-10 10H236v118c0 5.523-4.477 10-10 10h-25c-5.523 0-10-4.477-10-10V236H73c-5.523 0-10-4.477-10-10v-25c0-5.523 4.477-10 10-10h118z"/>

</symbol>
<symbol id="dots" viewBox="0 0 16 16">
  <g transform="translate(4 1.5)" fill-rule="evenodd">
    <circle cx="1.3" cy="1.3" r="1.3"/>
    <circle cx="6.5" cy="1.3" r="1.3"/>
    <circle cx="6.5" cy="6.5" r="1.3"/>
    <circle cx="1.3" cy="6.5" r="1.3"/>
    <circle cx="6.5" cy="11.7" r="1.3"/>
    <circle cx="1.3" cy="11.7" r="1.3"/>
  </g>

</symbol>
<symbol id="italic" viewBox="0 0 4 11">
    <path d="M3.289 4.17L2.164 9.713c-.078.384-.238.674-.48.87-.243.198-.52.296-.831.296-.312 0-.545-.1-.699-.302-.153-.202-.192-.49-.116-.864L1.15 4.225c.077-.38.232-.665.466-.857a1.25 1.25 0 01.818-.288c.312 0 .55.096.713.288.163.192.21.46.141.801zm-.667-2.09c-.295 0-.53-.09-.706-.273-.176-.181-.233-.439-.173-.77.055-.302.207-.55.457-.745C2.45.097 2.716 0 3 0c.273 0 .5.088.68.265.179.176.238.434.177.771-.06.327-.21.583-.45.767-.24.185-.502.277-.785.277z"/>

</symbol>
<symbol id="link" viewBox="0 0 14 10">
  <path d="M6 0v2H5a3 3 0 000 6h1v2H5A5 5 0 115 0h1zm2 0h1a5 5 0 110 10H8V8h1a3 3 0 000-6H8V0zM5 4h4a1 1 0 110 2H5a1 1 0 110-2z"/>

</symbol>
<symbol id="plus" viewBox="0 0 16 16">
  <g transform="translate(1 1.5)" fill-rule="evenodd">
    <rect x="6" width="2" height="13" rx="1"/>
    <rect x=".5" y="5.5" width="13" height="2" rx="1"/>
  </g>

</symbol>
<symbol id="sad-face" viewBox="0 0 52 52">
    <path fill="#D76B6B" fill-rule="nonzero" d="M26 52C11.64 52 0 40.36 0 26S11.64 0 26 0s26 11.64 26 26-11.64 26-26 26zm0-3.25c12.564 0 22.75-10.186 22.75-22.75S38.564 3.25 26 3.25 3.25 13.436 3.25 26 13.436 48.75 26 48.75zM15.708 33.042a2.167 2.167 0 1 1 0-4.334 2.167 2.167 0 0 1 0 4.334zm23.834 0a2.167 2.167 0 1 1 0-4.334 2.167 2.167 0 0 1 0 4.334zm-15.875 5.452a1.083 1.083 0 1 1-1.834-1.155c1.331-2.114 3.49-3.179 6.334-3.179 2.844 0 5.002 1.065 6.333 3.18a1.083 1.083 0 1 1-1.833 1.154c-.913-1.45-2.366-2.167-4.5-2.167s-3.587.717-4.5 2.167z"/>

</symbol>
<symbol id="toggler-down">
  <path d="M6.5 9.294a.792.792 0 01-.562-.232L2.233 5.356a.794.794 0 011.123-1.123L6.5 7.377l3.144-3.144a.794.794 0 011.123 1.123L7.062 9.062a.792.792 0 01-.562.232z"/>

</symbol>
<symbol id="unlink" viewBox="0 0 15 11">
  <path d="M13.073 2.099l-1.448 1.448A3 3 0 009 2H8V0h1c1.68 0 3.166.828 4.073 2.099zM6.929 4l-.879.879L7.172 6H5a1 1 0 110-2h1.929zM6 0v2H5a3 3 0 100 6h1v2H5A5 5 0 115 0h1zm6.414 7l2.122 2.121-1.415 1.415L11 8.414l-2.121 2.122L7.464 9.12 9.586 7 7.464 4.879 8.88 3.464 11 5.586l2.121-2.122 1.415 1.415L12.414 7z"/>

</symbol></svg>`},function(l,h){l.exports='.codex-editor{position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;z-index:1}.codex-editor .hide,.codex-editor__redactor--hidden{display:none}.codex-editor__redactor [contenteditable]:empty:after{content:"\\feff "}@media (min-width:651px){.codex-editor--narrow .codex-editor__redactor{margin-right:50px}}@media (min-width:651px){.codex-editor--narrow.codex-editor--rtl .codex-editor__redactor{margin-left:50px;margin-right:0}}@media (min-width:651px){.codex-editor--narrow .ce-toolbar__actions{right:-5px}}.codex-editor__loader{position:relative;height:30vh}.codex-editor__loader:before{content:"";position:absolute;left:50%;top:50%;width:30px;height:30px;margin-top:-15px;margin-left:-15px;border-radius:50%;border:2px solid rgba(201,201,204,.48);border-top-color:transparent;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-animation:editor-loader-spin .8s linear infinite;animation:editor-loader-spin .8s linear infinite;will-change:transform}.codex-editor-copyable{position:absolute;height:1px;width:1px;top:-400%;opacity:.001}.codex-editor-overlay{position:fixed;top:0;left:0;right:0;bottom:0;z-index:999;pointer-events:none;overflow:hidden}.codex-editor-overlay__container{position:relative;pointer-events:auto;z-index:0}.codex-editor-overlay__rectangle{position:absolute;pointer-events:none;background-color:rgba(46,170,220,.2);border:1px solid transparent}.codex-editor svg{fill:currentColor;vertical-align:middle;max-height:100%}::-moz-selection{background-color:#d4ecff}::selection{background-color:#d4ecff}.codex-editor--toolbox-opened [contentEditable=true][data-placeholder]:focus:before{opacity:0!important}@-webkit-keyframes editor-loader-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes editor-loader-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.ce-toolbar{position:absolute;left:0;right:0;top:0;-webkit-transition:opacity .1s ease;transition:opacity .1s ease;will-change:opacity,transform;display:none}@media (max-width:650px){.ce-toolbar{position:absolute;background-color:#fff;border:1px solid #e8e8eb;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px rgba(13,20,33,.13);border-radius:6px;z-index:2}}@media (max-width:650px) and (max-width:650px){.ce-toolbar{-webkit-box-shadow:0 8px 6px -6px rgba(33,48,73,.19);box-shadow:0 8px 6px -6px rgba(33,48,73,.19);border-bottom-color:#c7c7c7}}@media (max-width:650px){.ce-toolbar{padding:3px;margin-top:5px}.ce-toolbar--left-oriented:before{left:15px;margin-left:0}.ce-toolbar--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar--opened{display:block}@media (max-width:650px){.ce-toolbar--opened{display:-webkit-box;display:-ms-flexbox;display:flex}}.ce-toolbar__content{max-width:650px;margin:0 auto;position:relative}@media (max-width:650px){.ce-toolbar__content{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-line-pack:center;align-content:center;margin:0;max-width:100%}}.ce-toolbar__plus{color:#1d202b;cursor:pointer;width:26px;height:26px;border-radius:3px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}@media (max-width:650px){.ce-toolbar__plus{width:36px;height:36px}}.ce-toolbar__plus{-ms-flex-negative:0;flex-shrink:0}.ce-toolbar__plus--active,.ce-toolbar__plus:hover{background-color:#eff2f5}.ce-toolbar__plus--active{-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-toolbar__plus-shortcut{opacity:.6;word-spacing:-2px;margin-top:5px}.ce-toolbar__plus--hidden{display:none}@media (max-width:650px){.ce-toolbar__plus{display:-webkit-inline-box!important;display:-ms-inline-flexbox!important;display:inline-flex!important;position:static;-webkit-transform:none!important;transform:none!important}}.ce-toolbar__actions{position:absolute;right:100%;opacity:0;display:-webkit-box;display:-ms-flexbox;display:flex}@media (max-width:650px){.ce-toolbar__actions{position:absolute;right:auto;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}}.ce-toolbar__actions--opened{opacity:1}.ce-toolbar__actions-buttons{text-align:right}.ce-toolbar__settings-btn{color:#1d202b;width:26px;height:26px;border-radius:3px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}@media (max-width:650px){.ce-toolbar__settings-btn{width:36px;height:36px}}.ce-toolbar__settings-btn{width:18px;margin:0 5px;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ce-toolbar__settings-btn--active,.ce-toolbar__settings-btn:hover{background-color:#eff2f5}.ce-toolbar__settings-btn--active{-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.codex-editor--toolbox-opened .ce-toolbar__actions{display:none}@media (min-width:651px){.codex-editor--narrow .ce-toolbar__plus{left:5px}}.ce-toolbox{position:absolute;visibility:hidden;-webkit-transition:opacity .1s ease;transition:opacity .1s ease;will-change:opacity;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row}@media (max-width:650px){.ce-toolbox{position:static;-webkit-transform:none!important;transform:none!important;-webkit-box-align:center;-ms-flex-align:center;align-items:center;overflow-x:auto}}.ce-toolbox--opened{opacity:1;visibility:visible}.ce-toolbox__button{color:#1d202b;cursor:pointer;width:26px;height:26px;border-radius:3px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}@media (max-width:650px){.ce-toolbox__button{width:36px;height:36px}}.ce-toolbox__button{-ms-flex-negative:0;flex-shrink:0;margin-left:5px}.ce-toolbox__button--active,.ce-toolbox__button:hover{background-color:#eff2f5}.ce-toolbox__button--active{-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-toolbox-button-tooltip__shortcut{opacity:.6;word-spacing:-3px;margin-top:3px}@media (min-width:651px){.codex-editor--narrow .ce-toolbox{background:#fff;z-index:2}}.ce-inline-toolbar{position:absolute;background-color:#fff;border:1px solid #e8e8eb;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px rgba(13,20,33,.13);border-radius:6px;z-index:2}@media (max-width:650px){.ce-inline-toolbar{-webkit-box-shadow:0 8px 6px -6px rgba(33,48,73,.19);box-shadow:0 8px 6px -6px rgba(33,48,73,.19);border-bottom-color:#c7c7c7}}.ce-inline-toolbar{-webkit-transform:translateX(-50%) translateY(8px) scale(.9);transform:translateX(-50%) translateY(8px) scale(.9);opacity:0;visibility:hidden;-webkit-transition:opacity .25s ease,-webkit-transform .15s ease;transition:opacity .25s ease,-webkit-transform .15s ease;transition:transform .15s ease,opacity .25s ease;transition:transform .15s ease,opacity .25s ease,-webkit-transform .15s ease;will-change:transform,opacity;top:0;left:0;z-index:3}.ce-inline-toolbar--left-oriented:before{left:15px;margin-left:0}.ce-inline-toolbar--right-oriented:before{left:auto;right:15px;margin-left:0}.ce-inline-toolbar--showed{opacity:1;visibility:visible;-webkit-transform:translateX(-50%);transform:translateX(-50%)}.ce-inline-toolbar--left-oriented{-webkit-transform:translateX(-23px) translateY(8px) scale(.9);transform:translateX(-23px) translateY(8px) scale(.9)}.ce-inline-toolbar--left-oriented.ce-inline-toolbar--showed{-webkit-transform:translateX(-23px);transform:translateX(-23px)}.ce-inline-toolbar--right-oriented{-webkit-transform:translateX(-100%) translateY(8px) scale(.9);transform:translateX(-100%) translateY(8px) scale(.9);margin-left:23px}.ce-inline-toolbar--right-oriented.ce-inline-toolbar--showed{-webkit-transform:translateX(-100%);transform:translateX(-100%)}.ce-inline-toolbar [hidden]{display:none!important}.ce-inline-toolbar__toggler-and-button-wrapper{width:100%;padding:0 6px}.ce-inline-toolbar__buttons,.ce-inline-toolbar__toggler-and-button-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;height:34px;padding:0 9px 0 10px;margin:0 6px 0 -6px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;border-right:1px solid rgba(201,201,204,.48)}.ce-inline-toolbar__dropdown:hover{background:#eff2f5}.ce-inline-toolbar__dropdown--hidden{display:none}.ce-inline-toolbar__dropdown-content{display:-webkit-box;display:-ms-flexbox;display:flex;font-weight:500;font-size:14px}.ce-inline-toolbar__dropdown-content svg{height:12px}.ce-inline-toolbar__dropdown .icon--toggler-down{margin-left:4px}.ce-inline-toolbar__shortcut{opacity:.6;word-spacing:-3px;margin-top:3px}.ce-inline-tool{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:34px;height:34px;line-height:34px;padding:0!important;text-align:center;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:#000;margin:0}.ce-inline-tool:hover{background-color:#eff2f5}.ce-inline-tool{border-radius:0;line-height:normal;width:auto;padding:0 5px!important;min-width:24px}.ce-inline-tool--active{color:#388ae5}.ce-inline-tool--focused{-webkit-box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);background:rgba(34,186,255,.08)!important}.ce-inline-tool--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-inline-tool:not(:last-of-type){margin-right:2px}.ce-inline-tool .icon{height:12px}.ce-inline-tool--link .icon--unlink,.ce-inline-tool--unlink .icon--link{display:none}.ce-inline-tool--unlink .icon--unlink{display:inline-block;margin-bottom:-1px}.ce-inline-tool-input{outline:none;border:0;border-radius:0 0 4px 4px;margin:0;font-size:13px;padding:10px;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;display:none;font-weight:500;border-top:1px solid rgba(201,201,204,.48)}.ce-inline-tool-input::-webkit-input-placeholder{color:#707684}.ce-inline-tool-input::-moz-placeholder{color:#707684}.ce-inline-tool-input:-ms-input-placeholder{color:#707684}.ce-inline-tool-input::-ms-input-placeholder{color:#707684}.ce-inline-tool-input::placeholder{color:#707684}.ce-inline-tool-input--showed{display:block}.ce-conversion-toolbar{position:absolute;background-color:#fff;border:1px solid #e8e8eb;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px rgba(13,20,33,.13);border-radius:6px;z-index:2}@media (max-width:650px){.ce-conversion-toolbar{-webkit-box-shadow:0 8px 6px -6px rgba(33,48,73,.19);box-shadow:0 8px 6px -6px rgba(33,48,73,.19);border-bottom-color:#c7c7c7}}.ce-conversion-toolbar{opacity:0;visibility:hidden;will-change:transform,opacity;-webkit-transition:opacity .1s ease,-webkit-transform .1s ease;transition:opacity .1s ease,-webkit-transform .1s ease;transition:transform .1s ease,opacity .1s ease;transition:transform .1s ease,opacity .1s ease,-webkit-transform .1s ease;-webkit-transform:translateY(-8px);transform:translateY(-8px);left:-1px;width:150px;margin-top:5px;-webkit-box-sizing:content-box;box-sizing:content-box}.ce-conversion-toolbar--left-oriented:before{left:15px;margin-left:0}.ce-conversion-toolbar--right-oriented:before{left:auto;right:15px;margin-left:0}.ce-conversion-toolbar--showed{opacity:1;visibility:visible;-webkit-transform:none;transform:none}.ce-conversion-toolbar [hidden]{display:none!important}.ce-conversion-toolbar__buttons{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-conversion-toolbar__label{color:#707684;font-size:11px;font-weight:500;letter-spacing:.33px;padding:10px 10px 5px;text-transform:uppercase}.ce-conversion-tool{display:-webkit-box;display:-ms-flexbox;display:flex;padding:5px 10px;font-size:14px;line-height:20px;font-weight:500;cursor:pointer;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ce-conversion-tool--hidden{display:none}.ce-conversion-tool--focused{-webkit-box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);background:rgba(34,186,255,.08)!important}.ce-conversion-tool--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-conversion-tool:hover{background:#eff2f5}.ce-conversion-tool__icon{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;width:20px;height:20px;border:1px solid rgba(201,201,204,.48);border-radius:3px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:10px;background:#fff}.ce-conversion-tool__icon svg{width:11px;height:11px}.ce-conversion-tool--last{margin-right:0!important}.ce-conversion-tool--active{color:#388ae5!important;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-settings{position:absolute;background-color:#fff;border:1px solid #e8e8eb;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px rgba(13,20,33,.13);border-radius:6px;z-index:2}@media (max-width:650px){.ce-settings{-webkit-box-shadow:0 8px 6px -6px rgba(33,48,73,.19);box-shadow:0 8px 6px -6px rgba(33,48,73,.19);border-bottom-color:#c7c7c7}}.ce-settings{right:-1px;top:30px;min-width:114px;-webkit-box-sizing:content-box;box-sizing:content-box}.ce-settings--left-oriented:before{left:15px;margin-left:0}.ce-settings--right-oriented:before{left:auto;right:15px;margin-left:0}@media (max-width:650px){.ce-settings{bottom:40px;right:auto;top:auto}}.ce-settings:before{left:auto;right:12px}@media (max-width:650px){.ce-settings:before{bottom:-5px;top:auto}}.ce-settings{display:none}.ce-settings--opened{display:block;-webkit-animation-duration:.1s;animation-duration:.1s;-webkit-animation-name:panelShowing;animation-name:panelShowing}.ce-settings__plugin-zone:not(:empty){padding:3px 3px 0}.ce-settings__default-zone:not(:empty){padding:3px}.ce-settings__button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:34px;height:34px;line-height:34px;padding:0!important;text-align:center;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:#000;margin:0}.ce-settings__button:hover{background-color:#eff2f5}.ce-settings__button--active{color:#388ae5}.ce-settings__button--focused{-webkit-box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);background:rgba(34,186,255,.08)!important}.ce-settings__button--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-settings__button:not(:nth-child(3n+3)){margin-right:3px}.ce-settings__button:nth-child(n+4){margin-top:3px}.ce-settings__button{line-height:32px}.ce-settings__button--disabled{cursor:not-allowed!important;opacity:.3}.ce-settings__button--selected{color:#388ae5}.ce-settings__button--delete{-webkit-transition:background-color .3s ease;transition:background-color .3s ease;will-change:background-color}.ce-settings__button--delete .icon{-webkit-transition:-webkit-transform .2s ease-out;transition:-webkit-transform .2s ease-out;transition:transform .2s ease-out;transition:transform .2s ease-out,-webkit-transform .2s ease-out;will-change:transform}.ce-settings__button--confirm{background-color:#e24a4a!important;color:#fff}.ce-settings__button--confirm:hover{background-color:#d54a4a!important}.ce-settings__button--confirm .icon{-webkit-transform:rotate(90deg);transform:rotate(90deg)}.ce-block:first-of-type{margin-top:0}.ce-block--selected .ce-block__content{background:#e1f2ff}.ce-block--selected .ce-block__content [contenteditable]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ce-block--selected .ce-block__content .ce-stub,.ce-block--selected .ce-block__content img{opacity:.55}.ce-block--stretched .ce-block__content{max-width:none}.ce-block__content{position:relative;max-width:650px;margin:0 auto;-webkit-transition:background-color .15s ease;transition:background-color .15s ease}.ce-block--drop-target .ce-block__content:before{content:"";position:absolute;top:100%;left:-20px;margin-top:-1px;height:8px;width:8px;border:solid #388ae5;border-width:1px 1px 0 0;-webkit-transform-origin:right;transform-origin:right;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.ce-block--drop-target .ce-block__content:after{content:"";position:absolute;top:100%;height:1px;width:100%;color:#388ae5;background:repeating-linear-gradient(90deg,#388ae5,#388ae5 1px,#fff 0,#fff 6px)}.ce-block a{cursor:pointer;text-decoration:underline}.ce-block b{font-weight:700}.ce-block i{font-style:italic}@media (min-width:651px){.codex-editor--narrow .ce-block--focused{margin-right:-50px;padding-right:50px}}.wobble{-webkit-animation-name:wobble;animation-name:wobble;-webkit-animation-duration:.4s;animation-duration:.4s}@-webkit-keyframes wobble{0%{-webkit-transform:translateZ(0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-5%,0,0) rotate(-5deg);transform:translate3d(-5%,0,0) rotate(-5deg)}30%{-webkit-transform:translate3d(2%,0,0) rotate(3deg);transform:translate3d(2%,0,0) rotate(3deg)}45%{-webkit-transform:translate3d(-3%,0,0) rotate(-3deg);transform:translate3d(-3%,0,0) rotate(-3deg)}60%{-webkit-transform:translate3d(2%,0,0) rotate(2deg);transform:translate3d(2%,0,0) rotate(2deg)}75%{-webkit-transform:translate3d(-1%,0,0) rotate(-1deg);transform:translate3d(-1%,0,0) rotate(-1deg)}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}@keyframes wobble{0%{-webkit-transform:translateZ(0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-5%,0,0) rotate(-5deg);transform:translate3d(-5%,0,0) rotate(-5deg)}30%{-webkit-transform:translate3d(2%,0,0) rotate(3deg);transform:translate3d(2%,0,0) rotate(3deg)}45%{-webkit-transform:translate3d(-3%,0,0) rotate(-3deg);transform:translate3d(-3%,0,0) rotate(-3deg)}60%{-webkit-transform:translate3d(2%,0,0) rotate(2deg);transform:translate3d(2%,0,0) rotate(2deg)}75%{-webkit-transform:translate3d(-1%,0,0) rotate(-1deg);transform:translate3d(-1%,0,0) rotate(-1deg)}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}@-webkit-keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scaleX(1);transform:scaleX(1)}}@keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scaleX(1);transform:scaleX(1)}}@-webkit-keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scaleX(1);transform:scaleX(1)}}@keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scaleX(1);transform:scaleX(1)}}@-webkit-keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scaleX(1);transform:scaleX(1)}}@keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scaleX(1);transform:scaleX(1)}}@-webkit-keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}.cdx-block{padding:.4em 0}.cdx-block::-webkit-input-placeholder{line-height:normal!important}.cdx-input{border:1px solid rgba(201,201,204,.48);-webkit-box-shadow:inset 0 1px 2px 0 rgba(35,44,72,.06);box-shadow:inset 0 1px 2px 0 rgba(35,44,72,.06);border-radius:3px;padding:10px 12px;outline:none;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box}.cdx-input[data-placeholder]:before{position:static!important;display:inline-block;width:0;white-space:nowrap;pointer-events:none}.cdx-settings-button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:34px;height:34px;line-height:34px;padding:0!important;text-align:center;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:#000;margin:0}.cdx-settings-button:hover{background-color:#eff2f5}.cdx-settings-button--focused{-webkit-box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);background:rgba(34,186,255,.08)!important}.cdx-settings-button--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.cdx-settings-button:not(:nth-child(3n+3)){margin-right:3px}.cdx-settings-button:nth-child(n+4){margin-top:3px}.cdx-settings-button--active{color:#388ae5}.cdx-loader{position:relative;border:1px solid rgba(201,201,204,.48)}.cdx-loader:before{content:"";position:absolute;left:50%;top:50%;width:18px;height:18px;margin:-11px 0 0 -11px;border:2px solid rgba(201,201,204,.48);border-left-color:#388ae5;border-radius:50%;-webkit-animation:cdxRotation 1.2s linear infinite;animation:cdxRotation 1.2s linear infinite}@-webkit-keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.cdx-button{padding:13px;border-radius:3px;border:1px solid rgba(201,201,204,.48);font-size:14.9px;background:#fff;-webkit-box-shadow:0 2px 2px 0 rgba(18,30,57,.04);box-shadow:0 2px 2px 0 rgba(18,30,57,.04);color:#707684;text-align:center;cursor:pointer}.cdx-button:hover{background:#fbfcfe;-webkit-box-shadow:0 1px 3px 0 rgba(18,30,57,.08);box-shadow:0 1px 3px 0 rgba(18,30,57,.08)}.cdx-button svg{height:20px;margin-right:.2em;margin-top:-2px}.ce-stub{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:100%;padding:3.5em 0;margin:17px 0;border-radius:3px;background:#fcf7f7;color:#b46262}.ce-stub__info{margin-left:20px}.ce-stub__title{margin-bottom:3px;font-weight:600;font-size:18px;text-transform:capitalize}.ce-stub__subtitle{font-size:16px}.codex-editor.codex-editor--rtl{direction:rtl}.codex-editor.codex-editor--rtl .cdx-list{padding-left:0;padding-right:40px}.codex-editor.codex-editor--rtl .ce-toolbar__plus{right:-26px;left:auto}.codex-editor.codex-editor--rtl .ce-toolbar__actions{right:auto;left:-26px}@media (max-width:650px){.codex-editor.codex-editor--rtl .ce-toolbar__actions{margin-left:0;margin-right:auto;padding-right:0;padding-left:10px}}.codex-editor.codex-editor--rtl .ce-settings{left:5px;right:auto}.codex-editor.codex-editor--rtl .ce-settings:before{right:auto;left:25px}.codex-editor.codex-editor--rtl .ce-settings__button:not(:nth-child(3n+3)){margin-left:3px;margin-right:0}.codex-editor.codex-editor--rtl .ce-conversion-tool__icon{margin-right:0;margin-left:10px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown{border-right:0 solid transparent;border-left:1px solid rgba(201,201,204,.48);margin:0 -6px 0 6px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown .icon--toggler-down{margin-left:0;margin-right:4px}@media (min-width:651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__plus{left:0;right:5px}}@media (min-width:651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__actions{left:-5px}}'},function(l,h,e){e.r(h),e.d(h,"nanoid",function(){return r}),e.d(h,"customAlphabet",function(){return n}),e.d(h,"customRandom",function(){return i}),e.d(h,"urlAlphabet",function(){return t}),e.d(h,"random",function(){return o});let t="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",o=s=>crypto.getRandomValues(new Uint8Array(s)),i=(s,c,a)=>{let f=(2<<Math.log(s.length-1)/Math.LN2)-1,d=-~(1.6*f*c/s.length);return()=>{let p="";for(;;){let v=a(d),u=d;for(;u--;)if(p+=s[v[u]&f]||"",p.length===c)return p}}},n=(s,c)=>i(s,c,o),r=(s=21)=>{let c="",a=crypto.getRandomValues(new Uint8Array(s));for(;s--;){let f=63&a[s];c+=f<36?f.toString(36):f<62?(f-26).toString(36).toUpperCase():f<63?"_":"-"}return c}}])})})(pt);var Et=Je(pt.exports),ht={exports:{}};(function(me,Ne){(function(l,h){me.exports=h()})(window,function(){return function(l){var h={};function e(t){if(h[t])return h[t].exports;var o=h[t]={i:t,l:!1,exports:{}};return l[t].call(o.exports,o,o.exports,e),o.l=!0,o.exports}return e.m=l,e.c=h,e.d=function(t,o,i){e.o(t,o)||Object.defineProperty(t,o,{enumerable:!0,get:i})},e.r=function(t){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,o){if(1&o&&(t=e(t)),8&o||4&o&&typeof t=="object"&&t&&t.__esModule)return t;var i=Object.create(null);if(e.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&o&&typeof t!="string")for(var n in t)e.d(i,n,function(r){return t[r]}.bind(null,n));return i},e.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(o,"a",o),o},e.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)},e.p="/",e(e.s=0)}([function(l,h,e){function t(n){return(t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(n)}function o(n,r){for(var s=0;s<r.length;s++){var c=r[s];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(n,c.key,c)}}e(1).toString();/**
 * Header block for the Editor.js.
 *
 * @author CodeX (team@ifmo.su)
 * @copyright CodeX 2018
 * @license MIT
 * @version 2.0.0
 */var i=function(){function n(a){var f=a.data,d=a.config,p=a.api,v=a.readOnly;(function(u,g){if(!(u instanceof g))throw new TypeError("Cannot call a class as a function")})(this,n),this.api=p,this.readOnly=v,this._CSS={block:this.api.styles.block,settingsButton:this.api.styles.settingsButton,settingsButtonActive:this.api.styles.settingsButtonActive,wrapper:"ce-header"},this._settings=d,this._data=this.normalizeData(f),this.settingsButtons=[],this._element=this.getTag()}var r,s,c;return r=n,c=[{key:"conversionConfig",get:function(){return{export:"text",import:"text"}}},{key:"sanitize",get:function(){return{level:!1,text:{}}}},{key:"isReadOnlySupported",get:function(){return!0}},{key:"pasteConfig",get:function(){return{tags:["H1","H2","H3","H4","H5","H6"]}}},{key:"toolbox",get:function(){return{icon:e(6).default,title:"Heading"}}}],(s=[{key:"normalizeData",value:function(a){var f={};return t(a)!=="object"&&(a={}),f.text=a.text||"",f.level=parseInt(a.level)||this.defaultLevel.number,f}},{key:"render",value:function(){return this._element}},{key:"renderSettings",value:function(){var a=this,f=document.createElement("DIV");return this.levels.length<=1||this.levels.forEach(function(d){var p=document.createElement("SPAN");p.classList.add(a._CSS.settingsButton),a.currentLevel.number===d.number&&p.classList.add(a._CSS.settingsButtonActive),p.innerHTML=d.svg,p.dataset.level=d.number,p.addEventListener("click",function(){a.setLevel(d.number)}),f.appendChild(p),a.settingsButtons.push(p)}),f}},{key:"setLevel",value:function(a){var f=this;this.data={level:a,text:this.data.text},this.settingsButtons.forEach(function(d){d.classList.toggle(f._CSS.settingsButtonActive,parseInt(d.dataset.level)===a)})}},{key:"merge",value:function(a){var f={text:this.data.text+a.text,level:this.data.level};this.data=f}},{key:"validate",value:function(a){return a.text.trim()!==""}},{key:"save",value:function(a){return{text:a.innerHTML,level:this.currentLevel.number}}},{key:"getTag",value:function(){var a=document.createElement(this.currentLevel.tag);return a.innerHTML=this._data.text||"",a.classList.add(this._CSS.wrapper),a.contentEditable=this.readOnly?"false":"true",a.dataset.placeholder=this.api.i18n.t(this._settings.placeholder||""),a}},{key:"onPaste",value:function(a){var f=a.detail.data,d=this.defaultLevel.number;switch(f.tagName){case"H1":d=1;break;case"H2":d=2;break;case"H3":d=3;break;case"H4":d=4;break;case"H5":d=5;break;case"H6":d=6}this._settings.levels&&(d=this._settings.levels.reduce(function(p,v){return Math.abs(v-d)<Math.abs(p-d)?v:p})),this.data={level:d,text:f.innerHTML}}},{key:"data",get:function(){return this._data.text=this._element.innerHTML,this._data.level=this.currentLevel.number,this._data},set:function(a){if(this._data=this.normalizeData(a),a.level!==void 0&&this._element.parentNode){var f=this.getTag();f.innerHTML=this._element.innerHTML,this._element.parentNode.replaceChild(f,this._element),this._element=f}a.text!==void 0&&(this._element.innerHTML=this._data.text||"")}},{key:"currentLevel",get:function(){var a=this,f=this.levels.find(function(d){return d.number===a._data.level});return f||(f=this.defaultLevel),f}},{key:"defaultLevel",get:function(){var a=this;if(this._settings.defaultLevel){var f=this.levels.find(function(d){return d.number===a._settings.defaultLevel});if(f)return f;console.warn("(\u0E07'\u0300-'\u0301)\u0E07 Heading Tool: the default level specified was not found in available levels")}return this.levels[1]}},{key:"levels",get:function(){var a=this,f=[{number:1,tag:"H1",svg:'<svg width="16" height="14" xmlns="http://www.w3.org/2000/svg"><path d="M2.14 1.494V4.98h4.62V1.494c0-.498.098-.871.293-1.12A.927.927 0 0 1 7.82 0c.322 0 .583.123.782.37.2.246.3.62.3 1.124v9.588c0 .503-.101.88-.303 1.128a.957.957 0 0 1-.779.374.921.921 0 0 1-.77-.378c-.193-.251-.29-.626-.29-1.124V6.989H2.14v4.093c0 .503-.1.88-.302 1.128a.957.957 0 0 1-.778.374.921.921 0 0 1-.772-.378C.096 11.955 0 11.58 0 11.082V1.494C0 .996.095.623.285.374A.922.922 0 0 1 1.06 0c.321 0 .582.123.782.37.199.246.299.62.299 1.124zm11.653 9.985V5.27c-1.279.887-2.14 1.33-2.583 1.33a.802.802 0 0 1-.563-.228.703.703 0 0 1-.245-.529c0-.232.08-.402.241-.511.161-.11.446-.25.854-.424.61-.259 1.096-.532 1.462-.818a5.84 5.84 0 0 0 .97-.962c.282-.355.466-.573.552-.655.085-.082.246-.123.483-.123.267 0 .481.093.642.28.161.186.242.443.242.77v7.813c0 .914-.345 1.371-1.035 1.371-.307 0-.554-.093-.74-.28-.187-.186-.28-.461-.28-.825z"/></svg>'},{number:2,tag:"H2",svg:'<svg width="18" height="14" xmlns="http://www.w3.org/2000/svg"><path d="M2.152 1.494V4.98h4.646V1.494c0-.498.097-.871.293-1.12A.934.934 0 0 1 7.863 0c.324 0 .586.123.786.37.2.246.301.62.301 1.124v9.588c0 .503-.101.88-.304 1.128a.964.964 0 0 1-.783.374.928.928 0 0 1-.775-.378c-.194-.251-.29-.626-.29-1.124V6.989H2.152v4.093c0 .503-.101.88-.304 1.128a.964.964 0 0 1-.783.374.928.928 0 0 1-.775-.378C.097 11.955 0 11.58 0 11.082V1.494C0 .996.095.623.286.374A.929.929 0 0 1 1.066 0c.323 0 .585.123.786.37.2.246.3.62.3 1.124zm10.99 9.288h3.527c.351 0 .62.072.804.216.185.144.277.34.277.588 0 .22-.073.408-.22.56-.146.154-.368.23-.665.23h-4.972c-.338 0-.601-.093-.79-.28a.896.896 0 0 1-.284-.659c0-.162.06-.377.182-.645s.255-.478.399-.631a38.617 38.617 0 0 1 1.621-1.598c.482-.444.827-.735 1.034-.875.369-.261.676-.523.922-.787.245-.263.432-.534.56-.81.129-.278.193-.549.193-.815 0-.288-.069-.546-.206-.773a1.428 1.428 0 0 0-.56-.53 1.618 1.618 0 0 0-.774-.19c-.59 0-1.054.26-1.392.777-.045.068-.12.252-.226.554-.106.302-.225.534-.358.696-.133.162-.328.243-.585.243a.76.76 0 0 1-.56-.223c-.149-.148-.223-.351-.223-.608 0-.31.07-.635.21-.972.139-.338.347-.645.624-.92a3.093 3.093 0 0 1 1.054-.665c.426-.169.924-.253 1.496-.253.69 0 1.277.108 1.764.324.315.144.592.343.83.595.24.252.425.544.558.875.133.33.2.674.2 1.03 0 .558-.14 1.066-.416 1.523-.277.457-.56.815-.848 1.074-.288.26-.771.666-1.45 1.22-.677.554-1.142.984-1.394 1.29a3.836 3.836 0 0 0-.331.44z"/></svg>'},{number:3,tag:"H3",svg:'<svg width="18" height="14" xmlns="http://www.w3.org/2000/svg"><path d="M2.152 1.494V4.98h4.646V1.494c0-.498.097-.871.293-1.12A.934.934 0 0 1 7.863 0c.324 0 .586.123.786.37.2.246.301.62.301 1.124v9.588c0 .503-.101.88-.304 1.128a.964.964 0 0 1-.783.374.928.928 0 0 1-.775-.378c-.194-.251-.29-.626-.29-1.124V6.989H2.152v4.093c0 .503-.101.88-.304 1.128a.964.964 0 0 1-.783.374.928.928 0 0 1-.775-.378C.097 11.955 0 11.58 0 11.082V1.494C0 .996.095.623.286.374A.929.929 0 0 1 1.066 0c.323 0 .585.123.786.37.2.246.3.62.3 1.124zm11.61 4.919c.418 0 .778-.123 1.08-.368.301-.245.452-.597.452-1.055 0-.35-.12-.65-.36-.902-.241-.252-.566-.378-.974-.378-.277 0-.505.038-.684.116a1.1 1.1 0 0 0-.426.306 2.31 2.31 0 0 0-.296.49c-.093.2-.178.388-.255.565a.479.479 0 0 1-.245.225.965.965 0 0 1-.409.081.706.706 0 0 1-.5-.22c-.152-.148-.228-.345-.228-.59 0-.236.071-.484.214-.745a2.72 2.72 0 0 1 .627-.746 3.149 3.149 0 0 1 1.024-.568 4.122 4.122 0 0 1 1.368-.214c.44 0 .842.06 1.205.18.364.12.679.294.947.52.267.228.47.49.606.79.136.3.204.622.204.967 0 .454-.099.843-.296 1.168-.198.324-.48.64-.848.95.354.19.653.408.895.653.243.245.426.516.548.813.123.298.184.619.184.964 0 .413-.083.812-.248 1.198-.166.386-.41.73-.732 1.031a3.49 3.49 0 0 1-1.147.708c-.443.17-.932.256-1.467.256a3.512 3.512 0 0 1-1.464-.293 3.332 3.332 0 0 1-1.699-1.64c-.142-.314-.214-.573-.214-.777 0-.263.085-.475.255-.636a.89.89 0 0 1 .637-.242c.127 0 .25.037.367.112a.53.53 0 0 1 .232.27c.236.63.489 1.099.759 1.405.27.306.65.46 1.14.46a1.714 1.714 0 0 0 1.46-.824c.17-.273.256-.588.256-.947 0-.53-.145-.947-.436-1.249-.29-.302-.694-.453-1.212-.453-.09 0-.231.01-.422.028-.19.018-.313.027-.367.027-.25 0-.443-.062-.579-.187-.136-.125-.204-.299-.204-.521 0-.218.081-.394.245-.528.163-.134.406-.2.728-.2h.28z"/></svg>'},{number:4,tag:"H4",svg:'<svg width="20" height="14" xmlns="http://www.w3.org/2000/svg"><path d="M2.152 1.494V4.98h4.646V1.494c0-.498.097-.871.293-1.12A.934.934 0 0 1 7.863 0c.324 0 .586.123.786.37.2.246.301.62.301 1.124v9.588c0 .503-.101.88-.304 1.128a.964.964 0 0 1-.783.374.928.928 0 0 1-.775-.378c-.194-.251-.29-.626-.29-1.124V6.989H2.152v4.093c0 .503-.101.88-.304 1.128a.964.964 0 0 1-.783.374.928.928 0 0 1-.775-.378C.097 11.955 0 11.58 0 11.082V1.494C0 .996.095.623.286.374A.929.929 0 0 1 1.066 0c.323 0 .585.123.786.37.2.246.3.62.3 1.124zm13.003 10.09v-1.252h-3.38c-.427 0-.746-.097-.96-.29-.213-.193-.32-.456-.32-.788 0-.085.016-.171.048-.259.031-.088.078-.18.141-.276.063-.097.128-.19.195-.28.068-.09.15-.2.25-.33l3.568-4.774a5.44 5.44 0 0 1 .576-.683.763.763 0 0 1 .542-.212c.682 0 1.023.39 1.023 1.171v5.212h.29c.346 0 .623.047.832.142.208.094.313.3.313.62 0 .26-.086.45-.256.568-.17.12-.427.179-.768.179h-.41v1.252c0 .346-.077.603-.23.771-.152.168-.356.253-.612.253a.78.78 0 0 1-.61-.26c-.154-.173-.232-.427-.232-.764zm-2.895-2.76h2.895V4.91L12.26 8.823z"/></svg>'},{number:5,tag:"H5",svg:'<svg width="18" height="14" xmlns="http://www.w3.org/2000/svg"><path d="M2.152 1.494V4.98h4.646V1.494c0-.498.097-.871.293-1.12A.934.934 0 0 1 7.863 0c.324 0 .586.123.786.37.2.246.301.62.301 1.124v9.588c0 .503-.101.88-.304 1.128a.964.964 0 0 1-.783.374.928.928 0 0 1-.775-.378c-.194-.251-.29-.626-.29-1.124V6.989H2.152v4.093c0 .503-.101.88-.304 1.128a.964.964 0 0 1-.783.374.928.928 0 0 1-.775-.378C.097 11.955 0 11.58 0 11.082V1.494C0 .996.095.623.286.374A.929.929 0 0 1 1.066 0c.323 0 .585.123.786.37.2.246.3.62.3 1.124zm14.16 2.645h-3.234l-.388 2.205c.644-.344 1.239-.517 1.783-.517.436 0 .843.082 1.222.245.38.164.712.39.998.677.286.289.51.63.674 1.025.163.395.245.82.245 1.273 0 .658-.148 1.257-.443 1.797-.295.54-.72.97-1.276 1.287-.556.318-1.197.477-1.923.477-.813 0-1.472-.15-1.978-.45-.506-.3-.865-.643-1.076-1.031-.21-.388-.316-.727-.316-1.018 0-.177.073-.345.22-.504a.725.725 0 0 1 .556-.238c.381 0 .665.22.85.66.182.404.427.719.736.943.309.225.654.337 1.035.337.35 0 .656-.09.919-.272.263-.182.466-.431.61-.749.142-.318.214-.678.214-1.082 0-.436-.078-.808-.232-1.117a1.607 1.607 0 0 0-.62-.69 1.674 1.674 0 0 0-.864-.229c-.39 0-.67.048-.837.143-.168.095-.41.262-.725.5-.316.239-.576.358-.78.358a.843.843 0 0 1-.592-.242c-.173-.16-.259-.344-.259-.548 0-.022.025-.177.075-.463l.572-3.26c.063-.39.181-.675.354-.852.172-.177.454-.265.844-.265h3.595c.708 0 1.062.27 1.062.81a.711.711 0 0 1-.26.572c-.172.145-.426.218-.762.218z"/></svg>'},{number:6,tag:"H6",svg:'<svg width="18" height="14" xmlns="http://www.w3.org/2000/svg"><path d="M2.152 1.494V4.98h4.646V1.494c0-.498.097-.871.293-1.12A.934.934 0 0 1 7.863 0c.324 0 .586.123.786.37.2.246.301.62.301 1.124v9.588c0 .503-.101.88-.304 1.128a.964.964 0 0 1-.783.374.928.928 0 0 1-.775-.378c-.194-.251-.29-.626-.29-1.124V6.989H2.152v4.093c0 .503-.101.88-.304 1.128a.964.964 0 0 1-.783.374.928.928 0 0 1-.775-.378C.097 11.955 0 11.58 0 11.082V1.494C0 .996.095.623.286.374A.929.929 0 0 1 1.066 0c.323 0 .585.123.786.37.2.246.3.62.3 1.124zM12.53 7.058a3.093 3.093 0 0 1 1.004-.814 2.734 2.734 0 0 1 1.214-.264c.43 0 .827.08 1.19.24.365.161.684.39.957.686.274.296.485.645.635 1.048a3.6 3.6 0 0 1 .223 1.262c0 .637-.145 1.216-.437 1.736-.292.52-.699.926-1.221 1.218-.522.292-1.114.438-1.774.438-.76 0-1.416-.186-1.967-.557-.552-.37-.974-.919-1.265-1.645-.292-.726-.438-1.613-.438-2.662 0-.855.088-1.62.265-2.293.176-.674.43-1.233.76-1.676.33-.443.73-.778 1.2-1.004.47-.226 1.006-.339 1.608-.339.579 0 1.089.113 1.53.34.44.225.773.506.997.84.224.335.335.656.335.964 0 .185-.07.354-.21.505a.698.698 0 0 1-.536.227.874.874 0 0 1-.529-.18 1.039 1.039 0 0 1-.36-.498 1.42 1.42 0 0 0-.495-.655 1.3 1.3 0 0 0-.786-.247c-.24 0-.479.069-.716.207a1.863 1.863 0 0 0-.6.56c-.33.479-.525 1.333-.584 2.563zm1.832 4.213c.456 0 .834-.186 1.133-.56.298-.373.447-.862.447-1.468 0-.412-.07-.766-.21-1.062a1.584 1.584 0 0 0-.577-.678 1.47 1.47 0 0 0-.807-.234c-.28 0-.548.074-.804.224-.255.149-.461.365-.617.647a2.024 2.024 0 0 0-.234.994c0 .61.158 1.12.475 1.527.316.407.714.61 1.194.61z"/></svg>'}];return this._settings.levels?f.filter(function(d){return a._settings.levels.includes(d.number)}):f}}])&&o(r.prototype,s),c&&o(r,c),n}();l.exports=i},function(l,h,e){var t=e(2);typeof t=="string"&&(t=[[l.i,t,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};e(4)(t,o),t.locals&&(l.exports=t.locals)},function(l,h,e){(l.exports=e(3)(!1)).push([l.i,`/**
 * Plugin styles
 */
.ce-header {
  padding: 0.6em 0 3px;
  margin: 0;
  line-height: 1.25em;
  outline: none;
}

.ce-header p,
.ce-header div{
  padding: 0 !important;
  margin: 0 !important;
}

/**
 * Styles for Plugin icon in Toolbar
 */
.ce-header__icon {}

.ce-header[contentEditable=true][data-placeholder]::before{
  position: absolute;
  content: attr(data-placeholder);
  color: #707684;
  font-weight: normal;
  display: none;
  cursor: text;
}

.ce-header[contentEditable=true][data-placeholder]:empty::before {
  display: block;
}

.ce-header[contentEditable=true][data-placeholder]:empty:focus::before {
  display: none;
}
`,""])},function(l,h){l.exports=function(e){var t=[];return t.toString=function(){return this.map(function(o){var i=function(n,r){var s=n[1]||"",c=n[3];if(!c)return s;if(r&&typeof btoa=="function"){var a=(d=c,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(d))))+" */"),f=c.sources.map(function(p){return"/*# sourceURL="+c.sourceRoot+p+" */"});return[s].concat(f).concat([a]).join(`
`)}var d;return[s].join(`
`)}(o,e);return o[2]?"@media "+o[2]+"{"+i+"}":i}).join("")},t.i=function(o,i){typeof o=="string"&&(o=[[null,o,""]]);for(var n={},r=0;r<this.length;r++){var s=this[r][0];typeof s=="number"&&(n[s]=!0)}for(r=0;r<o.length;r++){var c=o[r];typeof c[0]=="number"&&n[c[0]]||(i&&!c[2]?c[2]=i:i&&(c[2]="("+c[2]+") and ("+i+")"),t.push(c))}},t}},function(l,h,e){var t,o,i={},n=(t=function(){return window&&document&&document.all&&!window.atob},function(){return o===void 0&&(o=t.apply(this,arguments)),o}),r=function(T){return document.querySelector(T)},s=function(T){var m={};return function(y){if(typeof y=="function")return y();if(m[y]===void 0){var I=r.call(this,y);if(window.HTMLIFrameElement&&I instanceof window.HTMLIFrameElement)try{I=I.contentDocument.head}catch{I=null}m[y]=I}return m[y]}}(),c=null,a=0,f=[],d=e(5);function p(T,m){for(var y=0;y<T.length;y++){var I=T[y],R=i[I.id];if(R){R.refs++;for(var M=0;M<R.parts.length;M++)R.parts[M](I.parts[M]);for(;M<I.parts.length;M++)R.parts.push(S(I.parts[M],m))}else{var C=[];for(M=0;M<I.parts.length;M++)C.push(S(I.parts[M],m));i[I.id]={id:I.id,refs:1,parts:C}}}}function v(T,m){for(var y=[],I={},R=0;R<T.length;R++){var M=T[R],C=m.base?M[0]+m.base:M[0],k={css:M[1],media:M[2],sourceMap:M[3]};I[C]?I[C].parts.push(k):y.push(I[C]={id:C,parts:[k]})}return y}function u(T,m){var y=s(T.insertInto);if(!y)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var I=f[f.length-1];if(T.insertAt==="top")I?I.nextSibling?y.insertBefore(m,I.nextSibling):y.appendChild(m):y.insertBefore(m,y.firstChild),f.push(m);else if(T.insertAt==="bottom")y.appendChild(m);else{if(typeof T.insertAt!="object"||!T.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var R=s(T.insertInto+" "+T.insertAt.before);y.insertBefore(m,R)}}function g(T){if(T.parentNode===null)return!1;T.parentNode.removeChild(T);var m=f.indexOf(T);m>=0&&f.splice(m,1)}function x(T){var m=document.createElement("style");return T.attrs.type===void 0&&(T.attrs.type="text/css"),E(m,T.attrs),u(T,m),m}function E(T,m){Object.keys(m).forEach(function(y){T.setAttribute(y,m[y])})}function S(T,m){var y,I,R,M;if(m.transform&&T.css){if(!(M=m.transform(T.css)))return function(){};T.css=M}if(m.singleton){var C=a++;y=c||(c=x(m)),I=_.bind(null,y,C,!1),R=_.bind(null,y,C,!0)}else T.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(y=function(k){var A=document.createElement("link");return k.attrs.type===void 0&&(k.attrs.type="text/css"),k.attrs.rel="stylesheet",E(A,k.attrs),u(k,A),A}(m),I=b.bind(null,y,m),R=function(){g(y),y.href&&URL.revokeObjectURL(y.href)}):(y=x(m),I=O.bind(null,y),R=function(){g(y)});return I(T),function(k){if(k){if(k.css===T.css&&k.media===T.media&&k.sourceMap===T.sourceMap)return;I(T=k)}else R()}}l.exports=function(T,m){if(typeof DEBUG!="undefined"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(m=m||{}).attrs=typeof m.attrs=="object"?m.attrs:{},m.singleton||typeof m.singleton=="boolean"||(m.singleton=n()),m.insertInto||(m.insertInto="head"),m.insertAt||(m.insertAt="bottom");var y=v(T,m);return p(y,m),function(I){for(var R=[],M=0;M<y.length;M++){var C=y[M];(k=i[C.id]).refs--,R.push(k)}for(I&&p(v(I,m),m),M=0;M<R.length;M++){var k;if((k=R[M]).refs===0){for(var A=0;A<k.parts.length;A++)k.parts[A]();delete i[k.id]}}}};var w,B=(w=[],function(T,m){return w[T]=m,w.filter(Boolean).join(`
`)});function _(T,m,y,I){var R=y?"":I.css;if(T.styleSheet)T.styleSheet.cssText=B(m,R);else{var M=document.createTextNode(R),C=T.childNodes;C[m]&&T.removeChild(C[m]),C.length?T.insertBefore(M,C[m]):T.appendChild(M)}}function O(T,m){var y=m.css,I=m.media;if(I&&T.setAttribute("media",I),T.styleSheet)T.styleSheet.cssText=y;else{for(;T.firstChild;)T.removeChild(T.firstChild);T.appendChild(document.createTextNode(y))}}function b(T,m,y){var I=y.css,R=y.sourceMap,M=m.convertToAbsoluteUrls===void 0&&R;(m.convertToAbsoluteUrls||M)&&(I=d(I)),R&&(I+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(R))))+" */");var C=new Blob([I],{type:"text/css"}),k=T.href;T.href=URL.createObjectURL(C),k&&URL.revokeObjectURL(k)}},function(l,h){l.exports=function(e){var t=typeof window!="undefined"&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||typeof e!="string")return e;var o=t.protocol+"//"+t.host,i=o+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(n,r){var s,c=r.trim().replace(/^"(.*)"$/,function(a,f){return f}).replace(/^'(.*)'$/,function(a,f){return f});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(c)?n:(s=c.indexOf("//")===0?c:c.indexOf("/")===0?o+c:i+c.replace(/^\.\//,""),"url("+JSON.stringify(s)+")")})}},function(l,h,e){e.r(h),h.default=`<svg width="10" height="14" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 14">
  <path d="M7.6 8.15H2.25v4.525a1.125 1.125 0 0 1-2.25 0V1.125a1.125 1.125 0 1 1 2.25 0V5.9H7.6V1.125a1.125 1.125 0 0 1 2.25 0v11.55a1.125 1.125 0 0 1-2.25 0V8.15z"/>
</svg>
`}])})})(ht);var Tt=Je(ht.exports),vt={exports:{}};(function(me,Ne){(function(l,h){me.exports=h()})(window,function(){return function(l){var h={};function e(t){if(h[t])return h[t].exports;var o=h[t]={i:t,l:!1,exports:{}};return l[t].call(o.exports,o,o.exports,e),o.l=!0,o.exports}return e.m=l,e.c=h,e.d=function(t,o,i){e.o(t,o)||Object.defineProperty(t,o,{enumerable:!0,get:i})},e.r=function(t){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,o){if(1&o&&(t=e(t)),8&o||4&o&&typeof t=="object"&&t&&t.__esModule)return t;var i=Object.create(null);if(e.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&o&&typeof t!="string")for(var n in t)e.d(i,n,function(r){return t[r]}.bind(null,n));return i},e.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(o,"a",o),o},e.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)},e.p="/",e(e.s=0)}([function(l,h,e){function t(n){return function(r){if(Array.isArray(r)){for(var s=0,c=new Array(r.length);s<r.length;s++)c[s]=r[s];return c}}(n)||function(r){if(Symbol.iterator in Object(r)||Object.prototype.toString.call(r)==="[object Arguments]")return Array.from(r)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function o(n,r){for(var s=0;s<r.length;s++){var c=r[s];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(n,c.key,c)}}e(1).toString();var i=function(){function n(a){var f=a.data,d=(a.config,a.api),p=a.readOnly;(function(v,u){if(!(v instanceof u))throw new TypeError("Cannot call a class as a function")})(this,n),this.api=d,this.readOnly=p,this.blockIndex=this.api.blocks.getCurrentBlockIndex()+1,this.CSS={baseClass:this.api.styles.block,loading:this.api.styles.loader,input:this.api.styles.input,settingsButton:this.api.styles.settingsButton,settingsButtonActive:this.api.styles.settingsButtonActive,wrapper:"cdx-simple-image",imageHolder:"cdx-simple-image__picture",caption:"cdx-simple-image__caption"},this.nodes={wrapper:null,imageHolder:null,image:null,caption:null},this.data={url:f.url||"",caption:f.caption||"",withBorder:f.withBorder!==void 0&&f.withBorder,withBackground:f.withBackground!==void 0&&f.withBackground,stretched:f.stretched!==void 0&&f.stretched},this.settings=[{name:"withBorder",icon:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M15.8 10.592v2.043h2.35v2.138H15.8v2.232h-2.25v-2.232h-2.4v-2.138h2.4v-2.28h2.25v.237h1.15-1.15zM1.9 8.455v-3.42c0-1.154.985-2.09 2.2-2.09h4.2v2.137H4.15v3.373H1.9zm0 2.137h2.25v3.325H8.3v2.138H4.1c-1.215 0-2.2-.936-2.2-2.09v-3.373zm15.05-2.137H14.7V5.082h-4.15V2.945h4.2c1.215 0 2.2.936 2.2 2.09v3.42z"/></svg>'},{name:"stretched",icon:'<svg width="17" height="10" viewBox="0 0 17 10" xmlns="http://www.w3.org/2000/svg"><path d="M13.568 5.925H4.056l1.703 1.703a1.125 1.125 0 0 1-1.59 1.591L.962 6.014A1.069 1.069 0 0 1 .588 4.26L4.38.469a1.069 1.069 0 0 1 1.512 1.511L4.084 3.787h9.606l-1.85-1.85a1.069 1.069 0 1 1 1.512-1.51l3.792 3.791a1.069 1.069 0 0 1-.475 1.788L13.514 9.16a1.125 1.125 0 0 1-1.59-1.591l1.644-1.644z"/></svg>'},{name:"withBackground",icon:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.043 8.265l3.183-3.183h-2.924L4.75 10.636v2.923l4.15-4.15v2.351l-2.158 2.159H8.9v2.137H4.7c-1.215 0-2.2-.936-2.2-2.09v-8.93c0-1.154.985-2.09 2.2-2.09h10.663l.033-.033.034.034c1.178.04 2.12.96 2.12 2.089v3.23H15.3V5.359l-2.906 2.906h-2.35zM7.951 5.082H4.75v3.201l3.201-3.2zm5.099 7.078v3.04h4.15v-3.04h-4.15zm-1.1-2.137h6.35c.635 0 1.15.489 1.15 1.092v5.13c0 .603-.515 1.092-1.15 1.092h-6.35c-.635 0-1.15-.489-1.15-1.092v-5.13c0-.603.515-1.092 1.15-1.092z"/></svg>'}]}var r,s,c;return r=n,c=[{key:"sanitize",get:function(){return{url:{},withBorder:{},withBackground:{},stretched:{},caption:{br:!0}}}},{key:"isReadOnlySupported",get:function(){return!0}},{key:"pasteConfig",get:function(){return{patterns:{image:/https?:\/\/\S+\.(gif|jpe?g|tiff|png|webp)$/i},tags:["img"],files:{mimeTypes:["image/*"]}}}}],(s=[{key:"render",value:function(){var a=this,f=this._make("div",[this.CSS.baseClass,this.CSS.wrapper]),d=this._make("div",this.CSS.loading),p=this._make("div",this.CSS.imageHolder),v=this._make("img"),u=this._make("div",[this.CSS.input,this.CSS.caption],{contentEditable:!this.readOnly,innerHTML:this.data.caption||""});return u.dataset.placeholder="Pie de imagen",f.appendChild(d),this.data.url&&(v.src=this.data.url),v.onload=function(){f.classList.remove(a.CSS.loading),p.appendChild(v),f.appendChild(p),f.appendChild(u),d.remove(),a._acceptTuneView()},v.onerror=function(g){console.log("Failed to load an image",g)},this.nodes.imageHolder=p,this.nodes.wrapper=f,this.nodes.image=v,this.nodes.caption=u,f}},{key:"save",value:function(a){var f=a.querySelector("img"),d=a.querySelector("."+this.CSS.input);return f?Object.assign(this.data,{url:f.src,caption:d.innerHTML}):this.data}},{key:"onDropHandler",value:function(a){var f=new FileReader;return f.readAsDataURL(a),new Promise(function(d){f.onload=function(p){d({url:p.target.result,caption:a.name})}})}},{key:"onPaste",value:function(a){var f=this;switch(a.type){case"tag":var d=a.detail.data;this.data={url:d.src};break;case"pattern":var p=a.detail.data;this.data={url:p};break;case"file":var v=a.detail.file;this.onDropHandler(v).then(function(u){f.data=u})}}},{key:"renderSettings",value:function(){var a=this,f=document.createElement("div");return this.settings.forEach(function(d){var p=document.createElement("div");p.classList.add(a.CSS.settingsButton),p.innerHTML=d.icon,p.addEventListener("click",function(){a._toggleTune(d.name),p.classList.toggle(a.CSS.settingsButtonActive)}),p.classList.toggle(a.CSS.settingsButtonActive,a.data[d.name]),f.appendChild(p)}),f}},{key:"_make",value:function(a){var f,d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},v=document.createElement(a);Array.isArray(d)?(f=v.classList).add.apply(f,t(d)):d&&v.classList.add(d);for(var u in p)v[u]=p[u];return v}},{key:"_toggleTune",value:function(a){this.data[a]=!this.data[a],this._acceptTuneView()}},{key:"_acceptTuneView",value:function(){var a=this;this.settings.forEach(function(f){a.nodes.imageHolder.classList.toggle(a.CSS.imageHolder+"--"+f.name.replace(/([A-Z])/g,function(d){return"-".concat(d[0].toLowerCase())}),!!a.data[f.name]),f.name==="stretched"&&a.api.blocks.stretchBlock(a.blockIndex,!!a.data.stretched)})}},{key:"data",get:function(){return this._data},set:function(a){this._data=Object.assign({},this.data,a),this.nodes.image&&(this.nodes.image.src=this.data.url),this.nodes.caption&&(this.nodes.caption.innerHTML=this.data.caption)}}])&&o(r.prototype,s),c&&o(r,c),n}();l.exports=i},function(l,h,e){var t=e(2);typeof t=="string"&&(t=[[l.i,t,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};e(4)(t,o),t.locals&&(l.exports=t.locals)},function(l,h,e){(l.exports=e(3)(!1)).push([l.i,`.cdx-simple-image {}

.cdx-simple-image .cdx-loader {
  min-height: 200px;
}

.cdx-simple-image .cdx-input {
  margin-top: 10px;
}

.cdx-simple-image img {
  max-width: 100%;
  vertical-align: bottom;
}

.cdx-simple-image__caption[contentEditable=true][data-placeholder]:empty::before {
  position: absolute;
  content: attr(data-placeholder);
  color: #707684;
  font-weight: normal;
  opacity: 0;
 }

.cdx-simple-image__caption[contentEditable=true][data-placeholder]:empty::before {
  opacity: 1;
}

.cdx-simple-image__caption[contentEditable=true][data-placeholder]:empty:focus::before {
  opacity: 0;
}


.cdx-simple-image__picture--with-background {
  background: #eff2f5;
  padding: 10px;
}

.cdx-simple-image__picture--with-background img {
  display: block;
  max-width: 60%;
  margin: 0 auto;
}

.cdx-simple-image__picture--with-border {
  border: 1px solid #e8e8eb;
  padding: 1px;
}

.cdx-simple-image__picture--stretched img {
  max-width: none;
  width: 100%;
}
`,""])},function(l,h){l.exports=function(e){var t=[];return t.toString=function(){return this.map(function(o){var i=function(n,r){var s=n[1]||"",c=n[3];if(!c)return s;if(r&&typeof btoa=="function"){var a=(d=c,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(d))))+" */"),f=c.sources.map(function(p){return"/*# sourceURL="+c.sourceRoot+p+" */"});return[s].concat(f).concat([a]).join(`
`)}var d;return[s].join(`
`)}(o,e);return o[2]?"@media "+o[2]+"{"+i+"}":i}).join("")},t.i=function(o,i){typeof o=="string"&&(o=[[null,o,""]]);for(var n={},r=0;r<this.length;r++){var s=this[r][0];typeof s=="number"&&(n[s]=!0)}for(r=0;r<o.length;r++){var c=o[r];typeof c[0]=="number"&&n[c[0]]||(i&&!c[2]?c[2]=i:i&&(c[2]="("+c[2]+") and ("+i+")"),t.push(c))}},t}},function(l,h,e){var t,o,i={},n=(t=function(){return window&&document&&document.all&&!window.atob},function(){return o===void 0&&(o=t.apply(this,arguments)),o}),r=function(_){var O={};return function(b){if(typeof b=="function")return b();if(O[b]===void 0){var T=function(m){return document.querySelector(m)}.call(this,b);if(window.HTMLIFrameElement&&T instanceof window.HTMLIFrameElement)try{T=T.contentDocument.head}catch{T=null}O[b]=T}return O[b]}}(),s=null,c=0,a=[],f=e(5);function d(_,O){for(var b=0;b<_.length;b++){var T=_[b],m=i[T.id];if(m){m.refs++;for(var y=0;y<m.parts.length;y++)m.parts[y](T.parts[y]);for(;y<T.parts.length;y++)m.parts.push(E(T.parts[y],O))}else{var I=[];for(y=0;y<T.parts.length;y++)I.push(E(T.parts[y],O));i[T.id]={id:T.id,refs:1,parts:I}}}}function p(_,O){for(var b=[],T={},m=0;m<_.length;m++){var y=_[m],I=O.base?y[0]+O.base:y[0],R={css:y[1],media:y[2],sourceMap:y[3]};T[I]?T[I].parts.push(R):b.push(T[I]={id:I,parts:[R]})}return b}function v(_,O){var b=r(_.insertInto);if(!b)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var T=a[a.length-1];if(_.insertAt==="top")T?T.nextSibling?b.insertBefore(O,T.nextSibling):b.appendChild(O):b.insertBefore(O,b.firstChild),a.push(O);else if(_.insertAt==="bottom")b.appendChild(O);else{if(typeof _.insertAt!="object"||!_.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var m=r(_.insertInto+" "+_.insertAt.before);b.insertBefore(O,m)}}function u(_){if(_.parentNode===null)return!1;_.parentNode.removeChild(_);var O=a.indexOf(_);O>=0&&a.splice(O,1)}function g(_){var O=document.createElement("style");return _.attrs.type===void 0&&(_.attrs.type="text/css"),x(O,_.attrs),v(_,O),O}function x(_,O){Object.keys(O).forEach(function(b){_.setAttribute(b,O[b])})}function E(_,O){var b,T,m,y;if(O.transform&&_.css){if(!(y=O.transform(_.css)))return function(){};_.css=y}if(O.singleton){var I=c++;b=s||(s=g(O)),T=B.bind(null,b,I,!1),m=B.bind(null,b,I,!0)}else _.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(b=function(R){var M=document.createElement("link");return R.attrs.type===void 0&&(R.attrs.type="text/css"),R.attrs.rel="stylesheet",x(M,R.attrs),v(R,M),M}(O),T=function(R,M,C){var k=C.css,A=C.sourceMap,N=M.convertToAbsoluteUrls===void 0&&A;(M.convertToAbsoluteUrls||N)&&(k=f(k)),A&&(k+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(A))))+" */");var D=new Blob([k],{type:"text/css"}),L=R.href;R.href=URL.createObjectURL(D),L&&URL.revokeObjectURL(L)}.bind(null,b,O),m=function(){u(b),b.href&&URL.revokeObjectURL(b.href)}):(b=g(O),T=function(R,M){var C=M.css,k=M.media;if(k&&R.setAttribute("media",k),R.styleSheet)R.styleSheet.cssText=C;else{for(;R.firstChild;)R.removeChild(R.firstChild);R.appendChild(document.createTextNode(C))}}.bind(null,b),m=function(){u(b)});return T(_),function(R){if(R){if(R.css===_.css&&R.media===_.media&&R.sourceMap===_.sourceMap)return;T(_=R)}else m()}}l.exports=function(_,O){if(typeof DEBUG!="undefined"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(O=O||{}).attrs=typeof O.attrs=="object"?O.attrs:{},O.singleton||typeof O.singleton=="boolean"||(O.singleton=n()),O.insertInto||(O.insertInto="head"),O.insertAt||(O.insertAt="bottom");var b=p(_,O);return d(b,O),function(T){for(var m=[],y=0;y<b.length;y++){var I=b[y];(R=i[I.id]).refs--,m.push(R)}for(T&&d(p(T,O),O),y=0;y<m.length;y++){var R;if((R=m[y]).refs===0){for(var M=0;M<R.parts.length;M++)R.parts[M]();delete i[R.id]}}}};var S,w=(S=[],function(_,O){return S[_]=O,S.filter(Boolean).join(`
`)});function B(_,O,b,T){var m=b?"":T.css;if(_.styleSheet)_.styleSheet.cssText=w(O,m);else{var y=document.createTextNode(m),I=_.childNodes;I[O]&&_.removeChild(I[O]),I.length?_.insertBefore(y,I[O]):_.appendChild(y)}}},function(l,h){l.exports=function(e){var t=typeof window!="undefined"&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||typeof e!="string")return e;var o=t.protocol+"//"+t.host,i=o+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(n,r){var s,c=r.trim().replace(/^"(.*)"$/,function(a,f){return f}).replace(/^'(.*)'$/,function(a,f){return f});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(c)?n:(s=c.indexOf("//")===0?c:c.indexOf("/")===0?o+c:i+c.replace(/^\.\//,""),"url("+JSON.stringify(s)+")")})}}])})})(vt);var Bt=Je(vt.exports);export{Et as E,Tt as H,Bt as S,Je as a,wt as c,St as g};
