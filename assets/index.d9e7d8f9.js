import{o as t,c as i,r as de,n as F,a as k,b as X,d as K,u as b,F as $,e as B,i as f,f as ae,g as x,w as j,h as c,j as N,k as C,l as ee,t as G,m as w,_ as ne,p as oe,q as Ie,s as Ae,v as Ce,S as Te,x as J,y as Y,z as ce,A as Le,B as Oe,E as ze,H as Ee,C as Be,P as je,D as De,G as Me,I as Fe,J as Ve,V as Ne,K as ie,T as me,L as Pe,M as ke,N as pe,O as fe,Q as be,R as Re,U as ue,W as Ue,X as Ge,Y as qe,Z as He,$ as Je,a0 as Z,a1 as We,a2 as re,a3 as Qe}from"./vendor.2d00c8e3.js";const Ke=function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const r of s.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&o(r)}).observe(document,{childList:!0,subtree:!0});function l(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerpolicy&&(s.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?s.credentials="include":n.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(n){if(n.ep)return;n.ep=!0;const s=l(n);fetch(n.href,s)}};Ke();const H={props:{class:String},setup(e){return(a,l)=>(t(),i("i",{class:F(["material-icons theicon",e.class])},[de(a.$slots,"default")],2))}};var Q=(e,a)=>{const l=e.__vccOpts||e;for(const[o,n]of a)l[o]=n;return l};const Xe=["innerHTML"],Ye=["innerHTML"],Ze={props:{data:Object},setup(e){const a=e,l=k(!1),o=X(()=>({"--fontSize":a.data.size||"1rem","--fontSizeBlock":a.data.size||"1.5rem"})),n=s=>window.MathJax.tex2svg(s).getElementsByTagName("svg")[0].outerHTML;return setTimeout(()=>{l.value=!0},200),(s,r)=>l.value?(t(),i($,{key:0},[e.data.block?(t(),i("div",{key:0,class:F(["blockmathCont animate__animated animate__jello animate__delay-2s",[e.data.dark?"dark":"light"]]),style:K(b(o)),innerHTML:n(e.data.math)},null,14,Xe)):(t(),i("span",{key:1,class:F(["blockmathCont",[e.data.dark?"dark":"light"]]),style:K(b(o)),innerHTML:n(e.data.math)},null,14,Ye))],64)):B("",!0)}};const ve={props:{},setup(e,{emit:a}){const l=f("test"),o=()=>{a("solve")};return(n,s)=>b(l)?(t(),i("button",{key:0,class:"solveModule test",onClick:o},"Resolver")):B("",!0)}},ge={setup(e,{expose:a}){const l=k(!1);return a({replace:()=>{l.value=!0}}),(n,s)=>l.value?de(n.$slots,"second",{key:1}):de(n.$slots,"main",{key:0})}};const et=["id"],tt={key:0,class:"drops dropsLeft"},at=["data"],st={class:"drags"},lt=["data","data-index"],ot=C("pan_tool"),nt={class:"feedback f0 animate__animated animate__flash"},ct={class:"feedback f1 animate__animated animate__flash"},it={key:1,class:"drops dropsRight"},rt=["data"],dt={props:{blockid:String,data:Object},setup(e){const a=e,l=f("Audios"),o=f("statusFile"),n=f("blocked"),s=ee(),r=k(),u=k(),d=k();var m="#block-"+a.blockid,v=m+" .drag",_=m+" .drop",L=null,p;const A=()=>{if(L=document.querySelectorAll(m+" .drop"),n)return!1;p=Draggable.create(v,{type:"x,y",bounds:m,zIndexBoost:!1,onDrag:function(h){D(h,this)},onClick:function(h){M(h,this)},onDragEnd:function(h){O(h,this)}})},D=(h,y)=>{for(var I=0;I<L.length;I++){if(y.hitTest(L[I],"40%"))return y.target.classList.add("hover"),L[I].classList.add("hover"),!1;y.target.classList.remove("hover"),L[I].classList.remove("hover")}},M=(h,y)=>{if(u.value!=null)return!1;l.scancel.play();var I=document.querySelector(m+" .drags");y.target.parentElement!=I&&(I.append(y.target),TweenLite.to(y.target,.2,{x:0,y:0}),y.target.removeAttribute("data-feedback"),E())},O=(h,y)=>{for(var I=!1,U=0;U<L.length;U++)y.hitTest(L[U],"40%")&&(I=!0,L[U].append(y.target),TweenLite.to(y.target,.2,{x:0,y:0}),y.target.classList.remove("hover"),L[U].classList.remove("hover"),g(y.target),E());I?l.sBlockDrag.play():TweenLite.to(y.target,.2,{x:0,y:0})},T=h=>{var y=btoa(h);return y},E=()=>{for(var h=document.querySelectorAll(v),y=[],I=0;I<h.length;I++){var U=h[I].getAttribute("data-index"),te=h[I].parentElement.getAttribute("data");y.push([U,te])}o.value.answers[a.blockid]=y},S=setInterval(function(){Draggable},500);ae(()=>{A(),P()});const P=()=>{clearInterval(S),V()},V=()=>{if(o.value.answers||(o.value.answers={}),o.value.answers[a.blockid]){var h=o.value.answers[a.blockid];for(var y in h){var I=h[y];if(I[1]){var U=document.querySelector(v+'[data-index="'+I[0]+'"]'),te=document.querySelector(_+"[data="+I[1]+"]");te.append(U),g(U)}}}else o.value.answers[a.blockid]=null;o.value.finalize&&z()},W=()=>{for(var h=document.querySelectorAll(v),y=0;y<h.length;y++){var I=atob(h[y].getAttribute("data")),U=document.querySelector(_+"[data="+I+"]");U.append(h[y])}E()},g=h=>{var y=atob(h.getAttribute("data")),I=h.parentElement.getAttribute("data");y==I?h.setAttribute("data-feedback",0):h.setAttribute("data-feedback",1),a.data.replace!=null&&r.value.replace()},z=()=>{for(var h=document.querySelectorAll(v),y=0,I=0;I<h.length;I++){p[I].disable();var U=atob(h[I].getAttribute("data")),te=h[I].parentElement.getAttribute("data");U==te?h[I].classList.add("isok"):(h[I].classList.add("notok"),y++),g(h[I])}y==0?u.value=!0:u.value=!1,o.value.result[a.blockid]=u.value};return s.appContext.config.globalProperties.emitter.on("solve",h=>{W()}),s.appContext.config.globalProperties.emitter.on("finalize",h=>{z()}),(h,y)=>(t(),i($,null,[x(ge,{ref_key:"replacer",ref:r},{main:j(()=>[c("div",{class:"blockDragDrop",id:"block-"+e.blockid,ref_key:"block",ref:d},[e.data.dropsLeft?(t(),i("section",tt,[(t(!0),i($,null,N(e.data.dropsLeft,(I,U)=>(t(),i("div",{class:"drop",data:I[1]},[x(R,{item:I[0],blockid:e.blockid+"-dropLeft-"+U},null,8,["item","blockid"])],8,at))),256))])):B("",!0),c("section",st,[(t(!0),i($,null,N(e.data.drags,(I,U)=>(t(),i("div",{class:"drag",data:T(I[1]),"data-index":U},[x(H,null,{default:j(()=>[ot]),_:1}),x(R,{item:I[0],blockid:e.blockid+"-drag-"+U},null,8,["item","blockid"]),I[2]?(t(),i($,{key:0},[c("div",nt,[x(R,{item:I[2][0],blockid:e.blockid+"-dropRight-"+U+"-feedback"},null,8,["item","blockid"])]),c("div",ct,[x(R,{item:I[2][1],blockid:e.blockid+"-dropRight-"+U+"-feedback"},null,8,["item","blockid"])])],64)):B("",!0)],8,lt))),256))]),e.data.dropsRight?(t(),i("section",it,[(t(!0),i($,null,N(e.data.dropsRight,(I,U)=>(t(),i("div",{class:"drop",data:I[1]},[x(R,{item:I[0],blockid:e.blockid+"-dropRight-"+U},null,8,["item","blockid"])],8,rt))),256))])):B("",!0)],8,et)]),second:j(()=>[x(R,{item:e.data.replace[0],blockid:e.blockid+"-selectitem-feedback-ok"},null,8,["item","blockid"])]),_:1},512),x(ve,{onSolve:W})],64))}};var ut=Q(dt,[["__scopeId","data-v-68fbf958"]]);const vt=["id"],_t=["onClick"],bt=C("touch_app"),mt={class:"option-letter"},kt={class:"feedback text-center"},pt={props:{blockid:String,data:Object},setup(e){const a=e,l=k(void 0),o=f("statusFile"),n=f("blocked"),s=f("Audios"),r=k();k(!1);const u=ee(),d=k(),m=k([]);var v=k(!0);const _=()=>{for(var E=a.data.options,S=[],P=0;P<E.length;P++)S.push(E[P][1]);ne.isEqual(S,m.value)?l.value=!0:l.value=!1,a.data.replace!=null&&r.value.replace()},L=E=>"abcdefghijk"[E],p=()=>{for(var E in a.data.options)a.data.options,m.value[E]=!1;A(),o.value.answers||(o.value.answers={}),o.value.answers[a.blockid]?(m.value=o.value.answers[a.blockid],_()):o.value.answers[a.blockid]=null},A=()=>{var E=0;a.data.options.forEach(S=>{S[1]&&(E+=1)}),E>1&&(v.value=!1)};ae(()=>{p()});const D=E=>{if(n||o.value.finalize)return!1;if(s.sBlockSelect.play(),v.value){for(var S in m.value)m.value[S]=!1;m.value[E]=!0}else m.value[E]=!m.value[E];_(),o.value.answers[a.blockid]=m.value},M=()=>{for(var E=a.data.options,S=0;S<E.length;S++)E[S][1]?m.value[S]=!0:m.value[S]=!1;o.value.answers[a.blockid]=m.value},O=()=>{_(),l.value?d.value.classList.add("isok"):d.value.classList.add("notok"),o.value.result[a.blockid]=l.value};u.appContext.config.globalProperties.emitter.on("solve",E=>{M()}),u.appContext.config.globalProperties.emitter.on("finalize",E=>{O()});const T=X(()=>({"--block-grid-template-columns":a.data.columns||"1fr 1fr 1fr 1fr","--block-grid-template-columns-responsive":a.data.columnsResponsive||"1fr","--block-grid-gap":a.data.gap||"10px"}));return(E,S)=>(t(),i($,null,[x(ge,{ref_key:"replacer",ref:r},{main:j(()=>[c("div",{class:"blockSelect",id:"block-"+e.blockid,ref_key:"block",ref:d,style:K(b(T))},[(t(!0),i($,null,N(e.data.options,(P,V)=>(t(),i("div",{onClick:W=>D(V),class:F([m.value[V]?"active "+e.data.optionClassActive:"",e.data.optionClass||"blockSelectOption"])},[e.data.optionClass?B("",!0):(t(),i($,{key:0},[x(H,null,{default:j(()=>[bt]),_:1}),c("div",mt,G(L(V)),1)],64)),x(R,{item:P[0],blockid:e.blockid+"-selectitem"},null,8,["item","blockid"])],10,_t))),256))],12,vt),c("div",kt,[e.data.feedback&&m.value.some(P=>P==!0)?(t(),i($,{key:0},[typeof e.data.feedback[l.value?0:1]=="string"?(t(),w(R,{key:0,item:e.data.feedback[l.value?0:1],blockid:e.blockid+"-selectitem-feedback"},null,8,["item","blockid"])):(t(!0),i($,{key:1},N(e.data.feedback[l.value?0:1],(P,V)=>(t(),w(R,{key:V,item:P,blockid:e.blockid+"-selectitem-feedback-"+V},null,8,["item","blockid"]))),128))],64)):B("",!0)])]),second:j(()=>[l.value?(t(),w(R,{key:0,item:e.data.replace[0],blockid:e.blockid+"-selectitem-feedback-ok"},null,8,["item","blockid"])):(t(),w(R,{key:1,item:e.data.replace[1],blockid:e.blockid+"-selectitem-feedback-wrong"},null,8,["item","blockid"]))]),_:1},512),x(ve,{onSolve:M})],64))}};const ft=["src","id"],gt={props:{data:Object},setup(e){f("activityFile");const a=f("path");return(l,o)=>(t(),i("img",{class:F(["blockImg",e.data.class]),src:b(a)+e.data.img,id:e.data.id},null,10,ft))}};var ht=Q(gt,[["__scopeId","data-v-6dfc5355"]]);const yt={class:"relative mr-2"},xt=C("contact_support"),$t={class:"min-w-[10rem] text-xs"},wt={props:{data:{type:Object}},setup(e){return k(!1),(a,l)=>{const o=oe("Popper");return t(),w(o,{class:F(e.data.class),placement:e.data.placement,arrow:!0,id:e.data.id},{content:j(()=>[c("div",$t,[(t(!0),i($,null,N(e.data.content,(n,s)=>(t(),w(R,{key:s,item:n},null,8,["item"]))),128))])]),default:j(()=>[c("span",yt,[x(R,{item:e.data.term},null,8,["item"]),x(H,{class:"termIcon animate__animated animate__flash animate__infinite animate__slow absolute top-0 -right-3 text-xs"},{default:j(()=>[xt]),_:1})])]),_:1},8,["class","placement","id"])}}};var St=Q(wt,[["__scopeId","data-v-0dd8957d"]]);const It={props:{data:Object,blockid:String},setup(e){const a=e;return X(()=>({"--fontSize":a.data.size||"1rem"})),(l,o)=>{const n=oe("apexchart");return e.data.chart=="line"?(t(),i($,{key:0},[c("p",null,G(e.data),1),x(n,{type:e.data.chart,options:e.data.options,series:e.data.series},null,8,["type","options","series"])],64)):B("",!0)}}};var At=Ie({props:{data:Object,blockid:String},setup(e){const a=e;X(()=>({"--fontSize":a.data.size||"1rem"}));const l=k(),o=k(),n=k(),s=()=>{let r=l.value.getBoundingClientRect(),u=340,d=200,m=r.width/u;u*=m,d*=m,n.value=functionPlot({title:typeof a.data.plot=="string"?a.data.plot:"",target:o.value,width:u,height:d,yAxis:a.data.yAxis,xAxis:a.data.xAxis,grid:!1,data:a.data.data,annotations:a.data.annotations})};return setTimeout(()=>{s()},500),(r,u)=>(t(),i("div",{class:"blockPlot",ref_key:"blockParent",ref:l},[c("div",{ref_key:"block",ref:o},null,512)],512))}});const Ct=["id"],Tt={class:"blockGridItem"},Lt={props:{data:Object,blockid:String},setup(e){const a=e,l=X(()=>({"--block-grid-template-columns":a.data.columns||"auto auto auto auto","--block-grid-template-columns-responsive":a.data.columnsResponsive||"auto","--block-grid-gap":a.data.gap||"10px"}));return(o,n)=>(t(),i("div",{class:F(["blockGrid",e.data.class]),style:K([b(l),e.data.style]),id:e.data.id},[(t(!0),i($,null,N(e.data.content,(s,r)=>(t(),i("div",Tt,[x(R,{item:s,blockid:e.blockid+"-"+r},null,8,["item","blockid"])]))),256))],14,Ct))}},Ot=["id","data","data-scroll"],zt={props:{data:Object,blockid:String},setup(e){const a=e,l=k(),o=X(()=>({}));return ae(()=>{if(a.data.scrollClass){const n=a.data.scrollClass.split(" ");l.value.setAttribute("data-scroll-classes",n),Ae({scrollingElement:".drawer-content",onShown(s){s.classList.remove(...s.getAttribute("data-scroll-classes").split(",")),s.offsetWidth,s.classList.add(...s.getAttribute("data-scroll-classes").split(","))},onChange:function(s,r,u){}})}}),(n,s)=>(t(),i("div",{class:F(["blockGroup",e.data.class]),id:e.data.id,data:e.data.data,style:K(b(o)),ref_key:"group",ref:l,"data-scroll":e.data.scrollClass?!0:void 0},[(t(!0),i($,null,N(e.data.content,(r,u)=>(t(),w(R,{item:r,blockid:e.blockid+"-"+u},null,8,["item","blockid"]))),256))],14,Ot))}};const Et=["id"],Bt=["data"],jt={class:"gestureIcon"},Dt=C("swipe_vertical"),Mt={props:{blockid:String,data:Object},setup(e){const a=e,l=k(),o=k(),n=f("statusFile"),s=f("blocked"),r=ee(),u=k(ne.shuffle(a.data.items)),d=k(!1);(()=>{n.value.answers[a.blockid]?u.value=n.value.answers[a.blockid]:n.value.answers[a.blockid]=null})();const v=()=>{n.value.answers[a.blockid]=u.value,console.log("dragEnd"),d.value=!0,setTimeout(()=>{d.value=!1},100)},_=()=>{u.value=a.data.items,v()},L=()=>{ne.isEqual(u.value,a.data.items)?(l.value=!0,o.value.classList.add("isok")):(l.value=!1,o.value.classList.add("notok")),n.value.result[a.blockid]=l.value};return r.appContext.config.globalProperties.emitter.on("solve",p=>{_()}),r.appContext.config.globalProperties.emitter.on("finalize",p=>{L()}),(p,A)=>(t(),i($,null,[c("div",{class:F(["blockSortable",[e.data.class]]),id:"block-"+e.blockid,ref_key:"block",ref:o},[x(b(Ce),{modelValue:u.value,"onUpdate:modelValue":A[0]||(A[0]=D=>u.value=D),"item-key":"id",onEnd:v,sort:!(b(s)||b(n).finalize)},{item:j(({element:D,index:M})=>[c("div",{class:F(["sortable-item",[e.data.numbers?"shownumbers":"",e.data.classItem]]),data:M+1},[c("div",jt,[x(H,null,{default:j(()=>[Dt]),_:1})]),(t(),w(R,{item:D,blockid:e.blockid+"-sortableitem-"+M,key:D},null,8,["item","blockid"]))],10,Bt)]),_:1},8,["modelValue","sort"])],10,Et),x(ve,{onSolve:_})],64))}};var Ft=Q(Mt,[["__scopeId","data-v-1275a968"]]);const Vt=["id","innerHTML"],Nt={props:{data:Object},setup(e){const a=e;k(!1);const l=k(a.data.text);a.data.text.match(/.{1,10}/g);const o=X(()=>({}));return(n,s)=>(t(),i("div",{class:F(["blockText animate__animated",[e.data.class]]),style:K(b(o)),id:e.data.id,innerHTML:l.value},null,14,Vt))}};var Pt=Q(Nt,[["__scopeId","data-v-e7e2a0e8"]]);const Rt={props:{data:Object},setup(e){const a=e,l=X(()=>({"--block-fontSize":a.data.size||"1rem","--block-block":a.data.block?"block":"inline-block"}));return(o,n)=>(t(),i("div",{class:F(["blockIcon",[e.data.class]]),style:K(b(l))},[x(H,null,{default:j(()=>[C(G(e.data.icon),1)]),_:1})],6))}};var Ut=Q(Rt,[["__scopeId","data-v-3173a235"]]);const Gt={props:{data:Object,blockid:String},setup(e){const a=e,l=X(()=>({"--block-align":a.data.align||"left"}));return(o,n)=>(t(),i("div",{class:F(["blockInstruction animate__animated animate__bounce animate__delay-3s",[e.data.class]]),style:K([b(l),e.data.style])},[(t(!0),i($,null,N(e.data.content,(s,r)=>(t(),w(R,{item:s,blockid:e.blockid+"-instruction-"+r},null,8,["item","blockid"]))),256))],6))}};var qt=Q(Gt,[["__scopeId","data-v-2768cab3"]]);const Ht={props:{data:Object,blockid:String},setup(e){const a=e,l=X(()=>({"--block-align":a.data.align||"left"}));return(o,n)=>(t(),i("div",{class:F(["blockInstruction animate__animated animate__bounce animate__delay-3s",[e.data.class]]),style:K([b(l),e.data.style])},[x(H,{class:"animate__animated animate__flash animate__slower animate__infinite text-md"},{default:j(()=>[C(G(e.data.iconinst),1)]),_:1}),x(R,{item:e.data.inst,blockid:e.blockid+"-instruction"},null,8,["item","blockid"])],6))}};var Jt=Q(Ht,[["__scopeId","data-v-1da36357"]]);const Wt=["id","innerHTML"],Qt={props:{data:Object},setup(e){const a=e,l=k(),o=k(a.data.textAnimation);ae(()=>{Te({target:l.value,by:a.data.by||"words"})});const n=X(()=>({"--block-align":a.data.align||"left"}));return(s,r)=>(t(),i("div",{class:F(["blockTextAnimation",[e.data.class]]),"data-splitting":"",style:K(b(n)),id:e.data.id,innerHTML:o.value,ref_key:"textsplit",ref:l},null,14,Wt))}},Kt=["placeholder","id"],Xt={props:{blockid:String,data:Object},setup(e){const a=e,l=f("statusFile"),o=ee(),n=k();f("blocked");const s=k(),r=k(),u=()=>{l.value.answers[a.blockid]=r.value};l.value.answers[a.blockid]?r.value=l.value.answers[a.blockid]:l.value.answers[a.blockid]=null;const d=()=>{n.value=!0,s.value.classList.add("isok"),l.value.result[a.blockid]=!0,console.log("finalizando variable input")};return o.appContext.config.globalProperties.emitter.on("solve",m=>{r.value="Nombre"}),o.appContext.config.globalProperties.emitter.on("finalize",m=>{d()}),(m,v)=>J((t(),i("input",{class:F(["input input-bordered input-lg w-full max-w-xs text-dark blockInput",e.data.class]),type:"text",placeholder:e.data.label,"onUpdate:modelValue":v[0]||(v[0]=_=>r.value=_),onChange:u,id:"block-"+e.blockid,ref_key:"block",ref:s},null,42,Kt)),[[Y,r.value]])}};const Yt={key:0,class:"colorize"},Zt={props:{data:Object,blockid:String},setup(e){const a=e,l=f("Audios"),o=k(!0),n=X(()=>({"--colorize-bg":a.data.colorize||"#ffdd00"})),s=()=>{a.data.destroy&&(l.schange.play(),setTimeout(()=>{o.value=!1},1e3))};return s(),ce(()=>a.data.colorize,()=>{o.value=!0,s()}),(r,u)=>o.value?(t(),i("div",Yt,[c("div",{class:"coloring",style:K(b(n))},null,4)])):B("",!0)}};var ea=Q(Zt,[["__scopeId","data-v-8870619a"]]);const ta={props:{data:Object},setup(e){return k(),(a,l)=>(t(),w(Le("style"),null,{default:j(()=>[C(G(e.data.css),1)]),_:1}))}};var he="/assets/icons/chatbot-bot.svg",aa="/assets/icons/chatbot-user.svg",sa="/assets/icons/chatbot-writing.gif";const la={class:"w-full text-center"},oa={class:"mockup-window border bg-slate-500"},na={class:"flex justify-end flex-col px-4 bg-white text-dark h-[34rem]"},ca={class:"bubble bot flex justify-start items-center my-1 text-left animate__animated animate__fadeInUp animate__faster"},ia=c("img",{class:"w-12 mask mask-squircle",src:he},null,-1),ra={key:0,class:"bubble user flex justify-end items-center my-1 text-left animate__animated animate__fadeInUp animate__faster"},da=c("img",{class:"w-12 mask mask-squircle",src:aa},null,-1),ua={key:1,class:"bg-red-400 rounded my-2 w-full p-2 userinputbubble"},va={key:0,class:"userinput flex flex-wrap justify-end w-full gap-1"},_a=["onClick"],ba={key:0,class:"my-2 w-full px-2 py-4 userinputbubble"},ma={key:1,class:"bubble bot flex justify-start items-center my-1 text-left"},ka=c("img",{class:"w-12 mask mask-squircle",src:he},null,-1),pa=c("div",{class:"bg-gray-100 py-2 px-1 ml-1 rounded-xl max-w-md"},[c("img",{src:sa})],-1),fa=[ka,pa],ga={props:{data:Object,blockid:String},setup(e){const a=e,l=f("Audios"),o=f("statusFile"),n=ee(),s=f("blocked"),r=k(!1),u=k(0),d=k(),m=Oe([]),v=k(!1),_=k(0),L=g=>{_.value=g,v.value=!0,setTimeout(()=>{v.value=!1,m.push({talk:g,answer:-1}),l.snotification.play(),M(g),V(),O(g),T()},Math.random()*1e3+400)},p=g=>a.data.content.find(y=>y.id==g),A=g=>p(g.talk).options[g.answer][0],D=(g,z,h)=>{const I=m.find(U=>U.talk==g);I.answer=z,h!=null&&(I.isright=h),h===!1&&(u.value+=1)},M=g=>{const z=p(g);z.auto&&L(z.auto)},O=g=>{p(g).end&&(r.value=!0)},T=()=>{d.value&&(setTimeout(()=>{try{d.value.$el.scrollTop=d.value.$el.scrollHeight}catch{console.log("couldnt scroll")}},1200),setTimeout(()=>{try{d.value.$el.scrollTop=d.value.$el.scrollHeight}catch{}},100))},E=(g,z,h)=>{if(s||o.value.finalize)return!1;D(g,z,h[2]),L(h[1]),l.ssend.play()},S=()=>{o.value.screen+=1};(()=>{if(o.value.answers[a.blockid]){Object.assign(m,o.value.answers[a.blockid][0]),_.value=o.value.answers[a.blockid][1],r.value=o.value.answers[a.blockid][2],u.value=o.value.answers[a.blockid][3];const g=m.pop();L(g.talk),T()}else o.value.answers[a.blockid]=null,L(0)})();const V=()=>{o.value.answers[a.blockid]=[m,_.value,r.value,u.value]},W=()=>{u.value==0?o.value.result[a.blockid]=r.value:o.value.result[a.blockid]=!1};return n.appContext.config.globalProperties.emitter.on("finalize",g=>{W()}),(g,z)=>{const h=oe("perfect-scrollbar");return t(),i("div",la,[c("div",oa,[c("div",na,[x(h,{class:"h-full w-full flex flex-col justify-between",ref_key:"scroll",ref:d},{default:j(()=>[(t(!0),i($,null,N(b(m),(y,I)=>(t(),i($,null,[c("div",ca,[ia,c("div",{class:F(["bg-gray-100 py-2 px-2 ml-1 rounded-xl max-w-lg",[p(y.talk).class]])},[x(R,{item:p(y.talk).talk,blockid:e.blockid+"-chatbot-bot-"+I},null,8,["item","blockid"])],2)]),y.answer>-1?(t(),i("div",ra,[c("div",{class:F(["bg-primary text-white py-2 px-2 mr-1 rounded-xl max-w-lg text-center",[y.isright!=null&&b(o).finalize?y.isright?"isok":"notok":"notevaluated","min-w-[4rem]"]])},[x(R,{item:A(y),blockid:e.blockid+"-chatbot-user-"+I},null,8,["item","blockid"])],2),da])):B("",!0),p(y.talk).options&&_.value==y.talk&&b(m).length-1==I?(t(),i("div",ua,[p(y.talk).options&&y.talk==_.value?(t(),i("div",va,[(t(!0),i($,null,N(p(y.talk).options,(U,te)=>(t(),i("div",{class:"btn bg-primary btn-sm animate__animated animate__pulse animate__infinite animate__slow normal-case",onClick:yn=>E(y.talk,te,U)},[x(R,{item:U[0],blockid:e.blockid+"-chatbot-userinput-"+te},null,8,["item","blockid"])],8,_a))),256))])):B("",!0)])):B("",!0)],64))),256)),r.value?(t(),i("div",ba,[c("div",{class:"btn btn-accent btn-wide animate__animated animate__pulse animate__infinite animate__slow my-2",onClick:S},"Siguiente")])):B("",!0),v.value?(t(),i("div",ma,fa)):B("",!0)]),_:1},512)])])])}}},ha=["id"],ya=C("touch_app"),ye={props:{data:Object,blockid:String},setup(e){return(a,l)=>(t(),i("div",{class:F(["card bg-base-100 shadow-xl",[e.data.class]]),id:e.data.id},[c("div",{class:F(["card-body text-gray-700",["min-h-[3rem]",e.data.classBody||"px-2 py-4"]])},[(t(!0),i($,null,N(e.data.content,(o,n)=>(t(),w(R,{item:o,blockid:e.blockid+"-card-"+n},null,8,["item","blockid"]))),256)),e.data.clickable?(t(),w(H,{key:0,class:"absolute top-0 left-1/2 transform -translate-x-1/2 text-xs text-gray-300"},{default:j(()=>[ya]),_:1})):B("",!0)],2)],10,ha))}},xa={class:"card-body p-3"},$a=C("pan_tool"),wa={key:0,class:"feedbackDragItem"},Sa={props:{data:Object,blockid:String},emits:"completed",setup(e,{emit:a}){const l=e,o=f("Audios"),n=f("statusFile"),s=f("blocked"),r=k(),u=k(null),d=ee(),m=k(),v=k(),_=k(null),L=()=>{if(n.value.finalize)return P(),!1;if(s)return!1;v.value=document.querySelectorAll(l.data.dropzone),m.value=r.value.parentElement,Draggable.create(r.value,{type:"x,y",zIndexBoost:2,bounds:l.data.bounds,onDrag:function(g){p(g,this)},onClick:function(g){A(g,this)},onDragEnd:function(g){O(g,this)}}),V()},p=(g,z)=>{m.value.isEqualNode(z.target.parentElement)||z.endDrag();for(var h=0;h<v.value.length;h++){var y=v.value[h];if(z.hitTest(y,"40%"))return l.data.hover&&y.classList.add(...l.data.hover.split(" ")),_.value=y,!1;l.data.hover&&y.classList.remove(...l.data.hover.split(" ")),_.value=null}},A=(g,z)=>{if(m.value.isEqualNode(z.target.parentElement))return!1;o.scancel.play(),S(z.target.parentElement),m.value.append(z.target),TweenLite.to(z.target,.2,{x:0,y:0}),D(),W()},D=()=>{u.value=!l.data.correctId};D();const M=()=>{u.value=r.value.parentElement.matches(l.data.correctId),a("completed",u.value)},O=(g,z)=>{for(var h=0;h<v.value.length;h++){if(_.value){if(TweenLite.to(z.target,0,{x:0,y:0}),l.data.hover&&_.value.classList.remove(...l.data.hover.split(" ")),!E(_.value))return!1;l.data.dropzoneClass&&_.value.classList.add(...l.data.dropzoneClass.split(" ")),_.value.append(z.target),T(_.value),M(),_.value=null,o.sBlockDrag.play()}TweenLite.to(z.target,.2,{x:0,y:0})}W()},T=g=>{if(!g.hasAttribute("data-dropzoneitems"))g.setAttribute("data-dropzoneitems",1);else{var z=parseInt(g.getAttribute("data-dropzoneitems"));g.setAttribute("data-dropzoneitems",z+1)}},E=g=>{var z=!0;if(g.hasAttribute("data-dropzoneitems")&&l.data.dropzoneItems){var h=parseInt(g.getAttribute("data-dropzoneitems"));console.log("hasAttr",l.data.dropzoneItems,h),l.data.dropzoneItems<=h&&(z=!1)}return z},S=g=>{var z=parseInt(g.getAttribute("data-dropzoneitems"));g.setAttribute("data-dropzoneitems",z-1),l.data.dropzoneClass&&g.classList.remove(...l.data.dropzoneClass.split(" "))};ae(()=>{L()});const P=()=>{r.value.classList.add(u.value?"isok":"notok"),n.value.result[l.blockid]=u.value},V=()=>{if(n.value.answers[l.blockid]){const g=n.value.answers[l.blockid];document.querySelector("#"+g).append(r.value),l.data.dropzoneClass&&(r.value.parentElement.classList.add(...l.data.dropzoneClass.split(" ")),conso),T(r.value.parentElement),M()}else n.value.answers[l.blockid]=null;n.value.finalize&&P()},W=()=>{n.value.answers[l.blockid]=r.value.parentElement.id};return d.appContext.config.globalProperties.emitter.on("solve",g=>{solve()}),d.appContext.config.globalProperties.emitter.on("finalize",g=>{P()}),(g,z)=>(t(),i($,null,[c("div",{class:F(["dragItem card bg-base-100 text-black rounded-md shadow-xl",[e.data.class]]),ref_key:"block",ref:r},[c("div",xa,[x(H,{class:"absolute top-0 left-1/2 transform -translate-x-1/2 text-xs text-gray-300"},{default:j(()=>[$a]),_:1}),(t(!0),i($,null,N(e.data.content,(h,y)=>(t(),w(R,{item:h,blockid:e.blockid+"-dragitem-"+y},null,8,["item","blockid"]))),256))])],2),u.value&&e.data.feedback?(t(),i("div",wa,[u.value?(t(),w(R,{key:0,item:e.data.feedback[0],blockid:e.blockid+"-dragitem-feedback-ok"},null,8,["item","blockid"])):(t(),w(R,{key:1,item:e.data.feedback[1],blockid:e.blockid+"-dragitem-feedback-error"},null,8,["item","blockid"]))])):B("",!0)],64))}},xe={props:{data:Object},setup(e,{expose:a}){const l=e,o=f("statusFile");ce(()=>o.value,()=>{setTimeout(()=>{s()},250)},{deep:!0});const n=k([]),s=()=>{for(var v in n.value)n.value[v].position()};ae(()=>{LeaderLine.positionByWindowResize=!1,document.querySelector(".drawer-content").addEventListener("scroll",AnimEvent.add(function(){s()})),window.addEventListener("resize",AnimEvent.add(function(){s()})),d()});const r=v=>{var _=!1;if(typeof v=="string")_=document.querySelector(v);else{var L={x:v[1],y:v[2]};_=LeaderLine.pointAnchor(document.querySelector(v[0]),L)}return _},u=v=>{var _=!1;return typeof v=="string"?document.querySelector(v)&&(_=!0):document.querySelector(v[0])&&(_=!0),_},d=()=>{for(var v in l.data.connections){const p=l.data.connections[v];if(u(p[0])&&u(p[1])){var _=r(p[0]),L=r(p[1]);n.value[v]=new LeaderLine(_,L,l.data.options),setTimeout(()=>{s()},250)}}};return a({redrawit:()=>{for(var v in n.value)n.value[v].remove();n.value=[],setTimeout(()=>{d(),s()},100)}}),(v,_)=>null}},Ia={props:{data:Object,blockid:String},setup(e){const a=e,l=k([]);for(var o in a.data.items){const s=a.data.items[o];for(var n in a.data.properties)s[n]=a.data.properties[n];l.value.push(s)}return(s,r)=>l.value.length>0?(t(!0),i($,{key:0},N(l.value,(u,d)=>(t(),w(R,{item:u,blockid:e.blockid+"-"+d},null,8,["item","blockid"]))),256)):B("",!0)}},Aa={props:{data:Object,blockid:String},setup(e){const a=e,l=f("Audios"),o=p=>{let A=a.data.classItem;return a.data.expansion&&p.child&&(A+=" cursor-pointer animate__animated animate__pulse animate__infinite animate__slower "),A+=" "+(p.class||""),A},n=k(null),s=a.data.mode=="vertical"?"grid-rows-"+a.data.blocks.length:"grid-cols-"+a.data.blocks.length,r=a.data.mode=="vertical"?"":"flex-col",u=k({}),d=k([]);for(var m in a.data.blocks)for(var v in a.data.blocks[m]){let p=a.data.blocks[m][v];if(u.value[p.id]=u.value[p.id]!==!1,p.child)for(var _ in p.child)d.value.push(["#"+p.id,"#"+p.child[_]]),u.value[p.child[_]]=!1}const L=p=>{if(p){for(var A in p)u.value[p[A]]=!u.value[p[A]],u.value[p[A]];n.value.redrawit(),l.sBlockSelect.play()}};return(p,A)=>(t(),i($,null,[c("div",{class:F(["grid gap-2",[b(s)]])},[(t(!0),i($,null,N(e.data.blocks,(D,M)=>(t(),i("div",{class:F(["flex gap-2 justify-evenly",[b(r)]])},[(t(!0),i($,null,N(D,(O,T)=>(t(),i($,null,[e.data.expansion&&u.value[O.id]||!e.data.expansion?(t(),w(ye,{key:0,id:O.id,data:{content:O.content,class:o(O),clickable:O.child},blockid:e.blockid+"-diagram-"+M+"-"+T,onClick:E=>L(O.child)},null,8,["id","data","blockid","onClick"])):B("",!0)],64))),256))],2))),256))],2),x(xe,{data:{line:1,connections:d.value,options:e.data.connectionsOptions},ref_key:"blocklines",ref:n},null,8,["data"])],64))}};const Ca=["id"],Ta={key:0,class:"blockEditorOptions grid gap-1 items-center grid-flow-col"},La=["onClick"],Oa={class:"card-body p-2"},za=["id"],Ea={props:{data:Object,blockid:String},setup(e){const a=e;f("Audios");const l=f("activityFile"),o=f("statusFile"),n=f("blocked"),s=k(null),r=k(),u=ee(),d=k(),m=p=>{var A="odas/"+l.id+"/"+p;d.value.blocks.insert("image",{url:A})},v={messages:{ui:{inlineToolbar:{converter:{"Convert to":"Convertir en"}},toolbar:{toolbox:{Add:"A\xF1adir"}},blockTunes:{toggler:{"Click to tune":"Click para seleccionar","or drag to move":"o arrastrar para mover"}}},blockTunes:{delete:{Delete:"Eliminar"},moveUp:{"Move up":"Mover arriba"},moveDown:{"Move down":"Mover abajo"}},toolNames:{Text:"Texto",Heading:"Encabezado",List:"Lista",Warning:"Alerta",Quote:"Cita",Code:"C\xF3digo",Link:"V\xEDnculo",Bold:"Negrita",Italic:"It\xE1lica"},tools:{image:{"Enter a caption":"Pie de imagen"}}}};(()=>{var p=!1,A={};(o.value.finalize||n)&&(p=!0),o.value.answers[a.blockid]?o.value.answers[a.blockid].blocks.length&&(A=o.value.answers[a.blockid]):o.value.answers[a.blockid]=null,d.value=new ze({readOnly:p,data:A,placeholder:"Escribe aqu\xED tu texto",holder:a.blockid+"-editor",tools:{header:Ee,image:Be,paragraph:{class:je,inlineToolbar:!0}},i18n:v,onChange:()=>{d.value.save().then(D=>{o.value.answers[a.blockid]=D,D.blocks.length>1&&(s.value=D.blocks.length>0)})}})})(),k(!1);const L=()=>{r.value.classList.add(s.value?"isok":"notok"),o.value.result[a.blockid]=s.value,d.value.readOnly.toggle()};return u.appContext.config.globalProperties.emitter.on("finalize",p=>{L()}),(p,A)=>(t(),i("div",{class:F(["blockEditor card bg-white border-4 border-solid border-slate-500 animate__animated",[e.data.class]]),id:e.data.id,ref_key:"block",ref:r},[c("p",null,G(b(o).finalize),1),!b(n)&&!b(o).finalize?(t(),i("div",Ta,[(t(!0),i($,null,N(e.data.imgs,(D,M)=>(t(),i("div",{class:"card bg-white shadow-xl cursor-pointer",onClick:O=>m(D.img)},[c("div",Oa,[x(R,{item:D,blockid:e.blockid+"-editor-option-"+M},null,8,["item","blockid"])])],8,La))),256))])):B("",!0),c("div",{class:"card-body text-black",id:e.blockid+"-editor"},null,8,za)],10,Ca))}},Ba=C("replay "),ja={props:{data:Object,blockid:String},emits:["completed"],setup(e,{expose:a,emit:l}){const o=e;f("activityFile");const n=f("path"),s=k(),r=k();De(s,([{isIntersecting:d}],m)=>{u()}),ae(()=>{r.value=Me.loadAnimation({container:s.value,loop:o.data.loop!=null?o.data.loop:!0,autoplay:!1,path:n+o.data.lottie}),r.value.addEventListener("config_ready",function(){o.data.speed&&r.value.setSpeed(o.data.speed),o.data.segment&&r.value.playSegments(o.data.segment,!0),o.data.autoplay&&r.value.play()}),r.value.addEventListener("complete",function(){l("completed")}),r.value.addEventListener("loopComplete",function(){l("completed")})});const u=()=>{r.value.stop(),r.value.play()};return a({replay:u}),(d,m)=>(t(),i("div",{class:"blockLottie relative",ref_key:"block",ref:s},[c("div",{class:"btn btn-circle btn-sm absolute bottom-1 right-1 z-10",onClick:u},[x(H,null,{default:j(()=>[Ba]),_:1})])],512))}},Da={props:{data:Object,blockid:String},setup(e){const a=e;f("activityFile");const o=f("path")+a.data.component,n={moduleCache:{vue:Ne},getFile(r){return fetch(r).then(u=>u.ok?u.text():Promise.reject(u))},addStyle(r){const u=document.createElement("style");u.textContent=r;const d=document.head.getElementsByTagName("style")[0]||null;document.head.insertBefore(u,d)},log(r,...u){console.log(r,...u)}},s=Fe(()=>Ve.exports.loadModule(o,n));return(r,u)=>(t(),w(b(s)))}},Ma=["innerHTML"],Fa=["innerHTML"],Va=["innerHTML"],Na={key:4,class:"my-2"},Pa=["innerHTML"],Ra=["innerHTML","id"],R={props:{item:[Object,String],blockid:String},emits:["completed"],setup(e,{emit:a}){const l=e,o=f("activityFile"),n=f("statusFile"),s=k(l.item);if(s.value.symbol){let u=s.value.symbol,d=o.symbols[u];for(var r in d)s.value[r]=d[r]}return(u,d)=>typeof s.value=="string"?(t(),i("span",{key:0,innerHTML:s.value},null,8,Ma)):s.value.variable?(t(),i("span",{key:1,innerHTML:b(n).answers[s.value.variable]},null,8,Fa)):s.value.variableR?(t(),i("span",{key:2,innerHTML:b(n).result[s.value.variableR]},null,8,Va)):s.value.br?(t(!0),i($,{key:3},N(s.value.br,(m,v)=>(t(),i("br"))),256)):s.value.hr?(t(),i("hr",Na)):s.value.span?(t(),i("span",{key:5,innerHTML:s.value.span,class:F([s.value.class])},null,10,Pa)):s.value.html?(t(),i("div",{key:6,innerHTML:s.value.html,class:F(s.value.class),id:s.value.id},null,10,Ra)):s.value.icon?(t(),w(Ut,{key:7,data:s.value},null,8,["data"])):s.value.text?(t(),w(Pt,{data:s.value,key:e.blockid},null,8,["data"])):s.value.textAnimation?(t(),w(Qt,{data:s.value,key:e.blockid},null,8,["data"])):s.value.instruction?(t(),w(qt,{data:s.value,key:e.blockid},null,8,["data"])):s.value.inst?(t(),w(Jt,{data:s.value,key:e.blockid},null,8,["data"])):s.value.term?(t(),w(St,{key:12,data:s.value},null,8,["data"])):s.value.img?(t(),w(ht,{key:13,data:s.value},null,8,["data"])):s.value.math?(t(),w(Ze,{key:14,data:s.value},null,8,["data"])):s.value.dragdrop?(t(),w(ut,{key:15,data:s.value,blockid:e.blockid},null,8,["data","blockid"])):s.value.sortable?(t(),w(Ft,{key:16,data:s.value,blockid:e.blockid},null,8,["data","blockid"])):s.value.select?(t(),w(pt,{key:17,data:s.value,blockid:e.blockid},null,8,["data","blockid"])):s.value.chart?(t(),w(It,{key:18,data:s.value,blockid:e.blockid},null,8,["data","blockid"])):s.value.dialog?(t(),w($e,{key:19,data:s.value,blockid:e.blockid},null,8,["data","blockid"])):s.value.plot?(t(),w(At,{key:20,data:s.value,blockid:e.blockid},null,8,["data","blockid"])):s.value.grid?(t(),w(Lt,{key:21,data:s.value,blockid:e.blockid},null,8,["data","blockid"])):s.value.group?(t(),w(zt,{key:22,data:s.value,blockid:e.blockid},null,8,["data","blockid"])):s.value.input?(t(),w(Xt,{key:23,data:s.value,blockid:e.blockid},null,8,["data","blockid"])):s.value.colorize?(t(),w(ea,{key:24,data:s.value,blockid:e.blockid},null,8,["data","blockid"])):s.value.css?(t(),w(ta,{key:25,data:s.value,blockid:e.blockid},null,8,["data","blockid"])):s.value.chatbot?(t(),w(ga,{key:26,data:s.value,blockid:e.blockid},null,8,["data","blockid"])):s.value.card?(t(),w(ye,{key:27,data:s.value,blockid:e.blockid},null,8,["data","blockid"])):s.value.drag?(t(),w(Sa,{key:28,data:s.value,blockid:e.blockid},null,8,["data","blockid"])):s.value.line?(t(),w(xe,{key:29,data:s.value},null,8,["data"])):s.value.repeater?(t(),w(Ia,{key:30,data:s.value,blockid:e.blockid},null,8,["data","blockid"])):s.value.diagram?(t(),w(Aa,{key:31,data:s.value,blockid:e.blockid},null,8,["data","blockid"])):s.value.editor?(t(),w(Ea,{key:32,data:s.value,blockid:e.blockid},null,8,["data","blockid"])):s.value.component?(t(),w(Da,{key:33,data:s.value,blockid:e.blockid},null,8,["data","blockid"])):s.value.lottie?(t(),w(ja,{key:34,data:s.value,blockid:e.blockid,onCompleted:d[0]||(d[0]=m=>a("completed"))},null,8,["data","blockid"])):B("",!0)}};const Ua=["id"],Ga={class:"modal"},qa={class:"modal-box bg-white text-primary"},Ha=C("close"),Ja={class:"ma-1 pt-5"},Wa={props:{data:Object,blockid:String,hidesmenu:Boolean},setup(e){const a=e,l=f("Audios"),o=f("hidemenu"),n=k(!1),s=()=>{n.value=!0,l.sopen.play(),a.hidesmenu&&(o.value=!0)},r=()=>{n.value=!1,l.sclose.play(),a.hidesmenu&&(o.value=!1)};return(u,d)=>{const m=oe("perfect-scrollbar");return t(),i("div",{class:"blockDialog",style:K([e.data.style])},[c("button",{class:F(["animate__animated animate__pulse animate__infinite animate__slower",e.data.buttonClass]),onClick:s},[(t(!0),i($,null,N(e.data.button,(v,_)=>(t(),w(R,{item:v,blockid:e.blockid+"-button-"+_},null,8,["item","blockid"]))),256))],2),J(c("input",{class:"modal-toggle",type:"checkbox",id:e.blockid,"onUpdate:modelValue":d[0]||(d[0]=v=>n.value=v)},null,8,Ua),[[ie,n.value]]),c("div",Ga,[c("div",qa,[c("label",{class:"btn btn-sm btn-circle absolute right-2 top-2",onClick:r},[x(H,null,{default:j(()=>[Ha]),_:1})]),c("div",Ja,[x(m,null,{default:j(()=>[(t(!0),i($,null,N(e.data.content,(v,_)=>(t(),w(R,{item:v,blockid:e.blockid+"-content-"+_},null,8,["item","blockid"]))),256))]),_:1})])])])],4)}}};var $e=Q(Wa,[["__scopeId","data-v-4205fde9"]]);const Qa={class:"FichaTecnica"},Ka={props:{},setup(e){const a=f("activityFile"),l='<div class="tooltip" data-tip="Ficha t\xE9cnica"> <img src="assets/icons/'+a.programa+'/ico-ficha-tecnica.png" class="w-12"> </div>',o=k([]);var n='<table class="table bg-white table-fixed table-zebra">',s=[],r="</table>";for(var u in a.ficha)s.push(' <tr> <td class="bg-white text-bold text-xl max-w-sm break-normal whitespace-normal">'+a.ficha[u][0]+'</td><td class="text-lg font-light max-w-sm break-normal whitespace-normal bg-white">'+a.ficha[u][1]+"</td></tr>");o.value.push({html:n+s.join("")+r});const d={button:{html:l},buttonClass:"",content:[{text:"Ficha t\xE9cnica",class:"text-4xl text-center",align:"center"},{group:1,content:o.value}]};return(m,v)=>(t(),i("div",Qa,[x($e,{data:d,hidesmenu:!0})]))}};var Xa=Q(Ka,[["__scopeId","data-v-15be3474"]]);const Ya={class:"activitybgcontainer"},Za={key:0,class:"ActBG"},es={props:{speed:Number},setup(e){const a=e,l=f("activityFile"),o=a.speed?a.speed:6e3,n=k(1);return setInterval(()=>{n.value<l.bgimgs?n.value++:n.value=1},o),(s,r)=>(t(),i("div",Ya,[(t(!0),i($,null,N(b(l).bgimgs,(u,d)=>(t(),w(me,{name:"fadebg",mode:"out-in"},{default:j(()=>[n.value==d+1?(t(),i("div",Za,[c("div",{class:"ActivityBG",style:K("background-image:url(odas/"+b(l).id+"/bg/bg"+(d+1)+".jpg)")},null,4)])):B("",!0)]),_:2},1024))),256))]))}};var we=Q(es,[["__scopeId","data-v-33fe99e0"]]),ts="/assets/icons/Montenegro-icon.svg",as="/assets/icons/Montenegro.svg";const ss={key:0,src:ts},ls={key:1,src:as},os={props:{logo:{type:Boolean,default:!1}},setup(e){const a=k(!0);return(()=>{a.value=!1,setTimeout(()=>{a.value=!0},2e3)})(),(o,n)=>(t(),i("div",{class:F(["montenegroIcon",e.logo?"logo":"icon"]),duration:{enter:1e3,leave:3e3},appear:""},[e.logo?(t(),i("img",ls)):(t(),i("img",ss))],2))}};var Se=Q(os,[["__scopeId","data-v-19718a97"]]);const ns={class:"modal"},cs={class:"modal-box relative w-11/12 max-w-5xl"},is={class:"hero relative"},rs={class:"hero-content text-center relative z-10"},ds={class:"max-w-md text-center"},us={class:"text-center"},vs=["src"],_s={class:"text-xl"},bs={class:"text-4xl font-bold mt-2"},ms={class:"text-lg"},ks={class:"mt-10"},ps={emits:["start"],setup(e,{emit:a}){ae(()=>{Pe.exports.themeChange(!1)});const l=f("activityFile");f("statusFile"),k();const o=k(!0),n=()=>{o.value=!1,a("start")};return(s,r)=>(t(),i($,null,[J(c("input",{class:"modal-toggle",type:"checkbox",id:"my-modal","onUpdate:modelValue":r[0]||(r[0]=u=>o.value=u)},null,512),[[ie,o.value]]),c("div",ns,[c("div",cs,[c("div",is,[c("div",rs,[c("div",ds,[c("div",us,[c("img",{class:"w-28 mx-auto",src:"assets/icons/"+b(l).programa+"/"+b(l).materia+".png"},null,8,vs)]),c("h2",_s,G(b(l).conf.materia),1),c("h1",bs,G(b(l).title),1),c("h3",ms,G(b(l).programa=="DGETI"?"Bachillerato Tecnol\xF3gico":"Bachillerato General"),1),c("div",{class:"mt-10"},[c("button",{class:"btn",onClick:n},"Comenzar")]),c("div",ks,[x(Se,{logo:!0})])])]),x(we,{speed:3e3})])])])],64))}};var fs=Q(ps,[["__scopeId","data-v-01430f37"]]);const gs={class:"area"},hs={class:"p mb-1"},ys=C("donut_large"),xs={class:"progreso"},$s={props:{},setup(e){const a=f("statusFile"),l=X(()=>{var o=a.value.answers,n={total:0,unanswered:0};return o&&(n.total=Object.keys(o).length,Object.keys(o).forEach(function(s){o[s],o[s]==null&&n.unanswered++})),n});return(o,n)=>(t(),i("div",gs,[c("div",hs,[x(H,{class:"text-sm"},{default:j(()=>[ys]),_:1}),C("\xA0Progreso "+G(b(l).total-b(l).unanswered)+" /"+G(b(l).total),1)]),c("div",xs,[c("div",{class:"bar",style:K("width:"+Math.round((b(l).total-b(l).unanswered)/b(l).total*100)+"%")},null,4)])]))}};var ws=Q($s,[["__scopeId","data-v-2082bade"]]);const Ss={key:0,class:"area"},Is=C("auto_awesome"),As={class:"label"},Cs={props:{},setup(e){const a=f("statusFile"),l=f("resultsFile"),o=()=>{const n=l.value.oksPercentage;var s="ok1";switch(!0){case(n<=100&&n>75):s="ok4";break;case(n<=75&&n>50):s="ok3";break;case(n<=50&&n>25):s="ok2";break}return s};return(n,s)=>b(a).finalize?(t(),i("div",Ss,[c("h2",{class:F(["puntaje",o()])},[x(H,null,{default:j(()=>[Is]),_:1}),c("span",As,"\xA0Puntaje: "+G(b(l).oksPercentage)+"%",1)],2)])):B("",!0)}};var Ts=Q(Cs,[["__scopeId","data-v-7ac64b3a"]]);const Ls={key:0,class:"text-center my-16"},Os={props:{block:Object,blockid:String,islast:Boolean,steps:Boolean},setup(e){const a=e,l=k([]),o=k(!1),n=f("statusFile"),s=f("view"),r=X(()=>({"--block-width":a.block.width||"100%"})),u=a.blockid.split("-"),d=()=>{for(var v in Object.keys(n.value.answers)){var _=Object.keys(n.value.answers)[v];const L=_.split("-");L[0]==u[0]&&L[1]==u[1]&&l.value.push(Object.keys(n.value.answers)[v])}};setTimeout(()=>{d()},1e3),ce(n.value.answers,v=>{m()},{deep:!0});const m=()=>{let v=!0;for(var _ in l.value)n.value.answers[l.value[_]]==null&&(v=!1);o.value=v};return setTimeout(function(){m()},1e3),(v,_)=>e.block.content.length?(t(),i("div",{key:0,class:F(["block rounded",[e.block.class]]),style:K(b(r))},[(t(!0),i($,null,N(e.block.content,(L,p)=>(t(),w(R,{item:L,blockid:e.blockid+"-"+p,key:p},null,8,["item","blockid"]))),128)),b(s)?B("",!0):(t(),i("div",Ls,[e.steps?(t(),i($,{key:0},[l.value.length>0&&o.value?(t(),i($,{key:0},[e.islast?(t(),i("button",{key:1,class:"btn btn-accent btn-wide",onClick:_[1]||(_[1]=L=>v.$emit("screenNext",1))},"Continuar")):(t(),i("button",{key:0,class:"btn btn-ghost text-white animate__animated animate__tada",onClick:_[0]||(_[0]=L=>v.$emit("stepNext"))},"Siguiente"))],64)):B("",!0)],64)):B("",!0),e.block.buttonNextStep?(t(),i("button",{key:1,class:"btn btn-ghost text-white",onClick:_[2]||(_[2]=L=>v.$emit("stepNext"))},G(e.block.buttonNextStep),1)):B("",!0),e.block.buttonNextScreen?(t(),i("button",{key:2,class:"btn btn-accent btn-wide",onClick:_[3]||(_[3]=L=>v.$emit("screenNext",1))},G(e.block.buttonNextScreen),1)):B("",!0)]))],6)):B("",!0)}};const zs={key:0,class:"arrowtransition"},Es={props:{},setup(e){const a=k(!0);return f("Audios").schange.play(),setTimeout(()=>{a.value=!1},1e3),(o,n)=>a.value?(t(),i("div",zs)):B("",!0)}};var Bs=Q(Es,[["__scopeId","data-v-23ed7a59"]]);const se=e=>(ke("data-v-f5045a24"),e=e(),pe(),e),js={class:"block ScreenBlockEnd"},Ds={class:"text-center"},Ms={class:"my-6 text-2xl"},Fs=C("De un total de "),Vs=C(" tienes "),Ns={class:"high"},Ps=C("."),Rs=["onClick"],Us={key:1,class:"my-3"},Gs=se(()=>c("span",null,[C("Has contestado todas las preguntas. Verifica tus respuestas y da clic en "),c("strong",null,'"finalizar"'),C(".")],-1)),qs=[Gs],Hs={key:2,class:"my-3"},Js=se(()=>c("span",null,"Muy bien. Has llegado al final de la actividad.",-1)),Ws=[Js],Qs=se(()=>c("div",{class:"my-6 text-xl"},"\xBFDeseas finalizar?",-1)),Ks=se(()=>c("div",{class:"my-3"},[c("strong",null,"Actividad finalizada.")],-1)),Xs={class:"my-3"},Ys=C("De un total de "),Zs=C(" obtuviste un "),el={class:"high"},tl=C("."),al=se(()=>c("div",{class:"my-3"},"A continuaci\xF3n podr\xE1s ver un res\xFAmen de tus resultados:",-1)),sl={class:"row wrap"},ll=["onClick"],ol=se(()=>c("div",{class:"my-3"},"Puedes ver tus resultados individuales o repasar los contenidos navegando con el men\xFA de la izquierda.",-1)),nl=se(()=>c("div",{class:"my-3"},"Tambi\xE9n puedes reiniciar la actividad:",-1)),cl={props:{},setup(e){const a=f("Audios"),l=f("activityFile"),o=f("statusFile"),n=f("resultsFile"),s=ee(),r=f("blocked"),u=k(!1),d=p=>{var A=p.split("-"),D=A[0],M=A[1],O=l.screens[D].title;return O+" > Bloque "+M},m=p=>{var A=p.split("-"),D=A[0],M=A[1];o.value.screen=D*1,o.value.step=M*1},v=X(()=>{var p=o.value.answers,A={tot:"",total:0,unanswered:{},unansweredLength:0};if(p){A.total=Object.keys(p).length;var D={};Object.keys(p).forEach(function(M){var O=p[M];p[M]==null&&(D[M]=O,A.unansweredLength++)}),ne(D).keys().sort().each(function(M){A.unanswered[M]=D[M]})}return A}),_=()=>{o.value.finalize=!0,s.appContext.config.globalProperties.emitter.emit("finalize");for(var p in o.value.result)n.value.total++,o.value.result[p]?n.value.oks++:n.value.errors++;n.value.total&&(n.value.oksPercentage=Math.round(n.value.oks*100/n.value.total),n.value.errorsPercentage=100-n.value.oksPercentage),a.sfinalize.play()};o.value.finalize&&setTimeout(function(){_()},1e3);const L=()=>{u.value=!0;var p=JSON.stringify({reset:!0});window.top.postMessage(p,"*"),setTimeout(()=>{fe(l.id+"_").removeStorageSync("status"),location.reload()},1e3)};return(p,A)=>(t(),i("div",js,[c("div",Ds,[b(o).finalize?(t(),i($,{key:1},[Ks,b(n).total>0?(t(),i($,{key:0},[c("div",Xs,[Ys,c("strong",null,G(b(n).total)+" preguntas",1),Zs,c("strong",el,G(b(n).oksPercentage)+"% de aciertos",1),tl]),b(n).errors>0?(t(),i($,{key:0},[al,c("div",sl,[(t(!0),i($,null,N(b(o).result,(D,M)=>(t(),i("div",{class:F(["px-3 ma-1 floatcard my-1",D?"isok":"notok"])},[c("button",{class:"btn btn-sm m-1 ma-1",onClick:O=>m(M)},G(d(M)),9,ll)],2))),256))])],64)):B("",!0)],64)):(t(),i($,{key:1},[],64)),ol,!b(r)&&!u.value?(t(),i($,{key:2},[nl,c("button",{class:"btn btn-accent",onClick:L},"Reiniciar")],64)):B("",!0)],64)):(t(),i($,{key:0},[b(v).unansweredLength?(t(),i($,{key:0},[c("div",Ms,[c("span",null,[Fs,c("strong",null,G(b(v).total)+" preguntas",1),Vs,c("strong",Ns,G(b(v).unansweredLength)+" sin contestar",1),Ps])]),(t(!0),i($,null,N(b(v).unanswered,(D,M)=>(t(),i("button",{class:"btn high btn-sm m-1",onClick:O=>m(M)},G(d(M)),9,Rs))),256))],64)):b(v).total>0?(t(),i("div",Us,qs)):(t(),i("div",Hs,Ws)),b(r)?B("",!0):(t(),i($,{key:3},[Qs,c("div",{class:"my-4"},[c("button",{class:"btn-accent btn-wide important btn-lg",onClick:_},"Finalizar")])],64))],64)),u.value?(t(),w(Bs,{key:2})):B("",!0)])]))}};var il=Q(cl,[["__scopeId","data-v-f5045a24"]]);const _e=e=>(ke("data-v-68aae306"),e=e(),pe(),e),rl={class:"theform"},dl={class:"row"},ul={class:"field"},vl=C("ID:"),_l={class:"field"},bl=C("Programa:"),ml=_e(()=>c("span",null,"DGETI",-1)),kl=_e(()=>c("span",null,"DGB ",-1)),pl={class:"row"},fl={class:"field"},gl=C("Asignatura:"),hl={class:"field"},yl=C("Titulo:"),xl={class:"field"},$l=C("Aprendizajes:"),wl={class:"field"},Sl=C("Contenido_central:"),Il={key:0},Al={class:"field in"},Cl=C("library_add"),Tl={class:"inner"},Ll=["onClick"],Ol=C("backspace"),zl={class:"field"},El=C("T\xEDtulo: "),Bl=["onUpdate:modelValue"],jl={class:"field"},Dl=C("Icono: "),Ml=["onUpdate:modelValue"],Fl={class:"field"},Vl=C("Steps: "),Nl=["onUpdate:modelValue"],Pl={class:"field"},Rl=C("End: "),Ul=["onUpdate:modelValue"],Gl={key:0},ql={class:"field in"},Hl=["onClick"],Jl=C("library_add"),Wl={class:"inner"},Ql=["onClick"],Kl=C("backspace"),Xl={class:"field"},Yl=C("Width: "),Zl=["onUpdate:modelValue"],eo=_e(()=>c("div",null,null,-1)),to={class:"field in"},ao=["onClick"],so=["onClick"],lo=["onClick"],oo=["onClick"],no=["onClick"],co=["onClick"],io=["onClick"],ro=["onClick"],uo={class:"inner"},vo=["onClick"],_o=C("backspace"),bo={key:0,class:"field multi"},mo=C("Simple: "),ko=["onUpdate:modelValue"],po={class:"field multi"},fo=["onUpdate:modelValue"],go={class:"field"},ho={class:"thedata"},yo={class:"BuilderBar"},xo=C("code"),$o=C("ondemand_video"),wo=C("sync_problem"),So={props:{},setup(e){const a=k(null),l=k("json"),o={text:"",class:""},n={math:"",size:"2rem"},s={simple:"",text:o,math:n,term:{term:1,t:"",d:""},img:{img:""},dragdrop:{dragdrop:!0,drags:[[n,"val"]],dropsLeft:[["Titulo","val"]],dropsRight:["Titulo","val"]},select:{select:!0,options:[[n,!1],[n,!0]]},br:{br:1},br:{br:1}},r={width:"100%",content:[]},u={title:"",icon:"",steps:!0,end:!1,blocks:[r]},d=k({id:"",programa:"DGETI",materia:"",asignatura:"",title:"",aprendizajes:"",contenidocentral:"",screens:[JSON.parse(JSON.stringify(u)),{title:"Finalizar",icon:"flag",end:!0,content:[]}]}),m=()=>{const O=JSON.parse(JSON.stringify(u));d.value.screens.push(O)},v=O=>{const T=JSON.parse(JSON.stringify(r));d.value.screens[O].blocks.push(T)},_=(O,T,E)=>{const S=JSON.parse(JSON.stringify(s[E]));d.value.screens[O].blocks[T].content.push(S)},L=O=>{d.value.screens.splice(O,1)},p=(O,T)=>{d.value.screens[O].blocks.splice(T,1)},A=(O,T,E)=>{d.value.screens[O].blocks[T].content.splice(E,1)},D=()=>{const O=JSON.parse(a.value);a.value="",d.value=O},M=()=>{navigator.clipboard.writeText(JSON.stringify(d.value,null,"	"))};return(O,T)=>{const E=oe("perfect-scrollbar");return t(),i($,null,[x(E,null,{default:j(()=>[c("div",rl,[c("div",dl,[c("div",ul,[vl,J(c("input",{"onUpdate:modelValue":T[0]||(T[0]=S=>d.value.id=S)},null,512),[[Y,d.value.id]])]),c("div",_l,[bl,c("label",null,[J(c("input",{"onUpdate:modelValue":T[1]||(T[1]=S=>d.value.programa=S),placeholder:"programa",type:"radio",value:"DGETI"},null,512),[[be,d.value.programa]]),ml]),c("label",null,[J(c("input",{"onUpdate:modelValue":T[2]||(T[2]=S=>d.value.programa=S),placeholder:"programa",type:"radio",value:"DGB"},null,512),[[be,d.value.programa]]),kl])])]),c("div",pl,[c("div",fl,[gl,J(c("input",{"onUpdate:modelValue":T[3]||(T[3]=S=>d.value.asignatura=S)},null,512),[[Y,d.value.asignatura]])])]),c("div",hl,[yl,J(c("input",{"onUpdate:modelValue":T[4]||(T[4]=S=>d.value.title=S)},null,512),[[Y,d.value.title]])]),c("div",xl,[$l,J(c("input",{"onUpdate:modelValue":T[5]||(T[5]=S=>d.value.aprendizajes=S)},null,512),[[Y,d.value.aprendizajes]])]),c("div",wl,[Sl,J(c("input",{"onUpdate:modelValue":T[6]||(T[6]=S=>d.value.contenidocentral=S)},null,512),[[Y,d.value.contenidocentral]])]),d.value.screens?(t(),i("div",Il,[c("div",Al,[C("Screens ("+G(d.value.screens.length)+"):",1),c("button",{class:"add",onClick:m},[x(H,null,{default:j(()=>[Cl]),_:1})])]),(t(!0),i($,null,N(d.value.screens,(S,P)=>(t(),i("div",Tl,[c("button",{class:"rm",onClick:V=>L(P)},[x(H,null,{default:j(()=>[Ol]),_:1})],8,Ll),c("div",zl,[El,J(c("input",{"onUpdate:modelValue":V=>S.title=V},null,8,Bl),[[Y,S.title]])]),c("div",jl,[Dl,J(c("input",{"onUpdate:modelValue":V=>S.icon=V},null,8,Ml),[[Y,S.icon]])]),c("div",Fl,[Vl,J(c("input",{"onUpdate:modelValue":V=>S.steps=V,type:"checkbox"},null,8,Nl),[[ie,S.steps]])]),c("div",Pl,[Rl,J(c("input",{"onUpdate:modelValue":V=>S.end=V,type:"checkbox"},null,8,Ul),[[ie,S.end]])]),S.blocks?(t(),i("div",Gl,[c("div",ql,[C("Blocks ("+G(S.blocks.length)+"):",1),(t(),i("button",{class:"add",onClick:V=>v(P),key:"addblock"+P},[x(H,null,{default:j(()=>[Jl]),_:1})],8,Hl))]),(t(!0),i($,null,N(S.blocks,(V,W)=>(t(),i("div",Wl,[c("button",{class:"rm",onClick:g=>p(P,W)},[x(H,null,{default:j(()=>[Kl]),_:1})],8,Ql),c("div",Xl,[Yl,J(c("input",{"onUpdate:modelValue":g=>V.width=g},null,8,Zl),[[Y,V.width]])]),eo,c("div",to,[C("Content ("+G(V.content.length)+"):",1),c("button",{class:"add",onClick:g=>_(P,W,"simple")},"Simple",8,ao),c("button",{class:"add",onClick:g=>_(P,W,"text")},"Text",8,so),c("button",{class:"add",onClick:g=>_(P,W,"math")},"Math",8,lo),c("button",{class:"add",onClick:g=>_(P,W,"term")},"Term",8,oo),c("button",{class:"add",onClick:g=>_(P,W,"img")},"Img",8,no),c("button",{class:"add",onClick:g=>_(P,W,"br")},"br",8,co),c("button",{class:"add",onClick:g=>_(P,W,"dragdrop")},"dragdrop",8,io),c("button",{class:"add",onClick:g=>_(P,W,"select")},"select",8,ro)]),(t(!0),i($,null,N(V.content,(g,z)=>(t(),i("div",uo,[c("button",{class:"rm",onClick:h=>A(P,W,z)},[x(H,null,{default:j(()=>[_o]),_:1})],8,vo),typeof V.content[z]=="string"?(t(),i("div",bo,[mo,J(c("input",{"onUpdate:modelValue":h=>V.content[z]=h},null,8,ko),[[Y,V.content[z]]])])):(t(!0),i($,{key:1},N(g,(h,y)=>(t(),i("div",po,[C(G(y),1),typeof V.content[z][y]=="string"?J((t(),i("input",{key:0,"onUpdate:modelValue":I=>V.content[z][y]=I},null,8,fo)),[[Y,V.content[z][y]]]):(t(!0),i($,{key:1},N(V.content[z][y],(I,U)=>(t(),i("div",go,G(U),1))),256))]))),256))]))),256))]))),256))])):B("",!0)]))),256))])):B("",!0)])]),_:1}),x(E,null,{default:j(()=>[c("div",ho,[c("div",yo,[c("button",{onClick:T[7]||(T[7]=S=>l.value="json")},[x(H,null,{default:j(()=>[xo]),_:1})]),c("button",{onClick:T[8]||(T[8]=S=>l.value="play")},[x(H,null,{default:j(()=>[$o]),_:1})]),c("button",{onClick:T[9]||(T[9]=S=>l.value="import")},[x(H,null,{default:j(()=>[wo]),_:1})])]),l.value=="json"&&d.value?(t(),w(b(Re),{key:0,data:d.value,"show-length":!0,"show-line":!0,"show-select-controller":!0,onClick:M},null,8,["data"])):l.value=="play"?(t(),i($,{key:1},[],64)):l.value=="import"?J((t(),i("textarea",{key:2,"onUpdate:modelValue":T[10]||(T[10]=S=>a.value=S),onChange:D,placeholder:"Import json"},null,544)),[[Y,a.value]]):B("",!0)])]),_:1})],64)}}};var Io=Q(So,[["__scopeId","data-v-68aae306"]]);const Ao={class:"menu justify-between rounded w-56 overflow-y-auto p-2 bg-white m-1"},Co={class:"text-center"},To=["src"],Lo={class:"text-center"},Oo={class:"text-dark text-lg font-bold mt-2 leading-5"},zo={class:"text-center"},Eo={class:"text-sm"},Bo={class:"flex justify-center my-2"},jo=c("hr",{class:"mb-1"},null,-1),Do={class:"menu bg-transparent menu-vertical w-full"},Mo=["onClick"],Fo={class:"ml-1"},Vo=c("hr",{class:"mt-auto"},null,-1),No=c("hr",{class:"my-2"},null,-1),Po={props:{},setup(e){f("blocked");const a=f("activityFile"),l=f("statusFile"),o=n=>{l.value.step=0,l.value.screen=n};return(n,s)=>{const r=oe("perfect-scrollbar");return t(),i("div",Ao,[c("div",Co,[c("img",{class:"w-12 mx-auto",src:"assets/icons/"+b(a).programa+"/"+b(a).materia+".png"},null,8,To)]),c("div",Lo,[c("h1",Oo,G(b(a).title),1)]),c("div",zo,[c("div",Eo,G(b(a).conf.materia),1)]),c("div",Bo,[x(Xa)]),jo,x(r,{class:"w-full"},{default:j(()=>[c("ul",Do,[(t(!0),i($,null,N(b(a).screens,(u,d)=>(t(),i("li",{class:"mt-1",onClick:m=>o(d)},[c("div",{class:F(["gap-px p-2 leading-5",d==b(l).screen?"active":""])},[x(H,{class:F(["text-sm",d==b(l).screen?"text-white":"text-primary"])},{default:j(()=>[C(G(u.icon),1)]),_:2},1032,["class"]),c("span",Fo,G(u.title),1)],2)],8,Mo))),256))])]),_:1}),Vo,x(ws),x(Ts),No,x(Se,{class:"mx-auto my-2"})])}}},Ro={class:"fixed p-1 bg-white rounded bottom-1 left-4 lg:left-60 right-7"},Uo={class:"btn-group justify-center"},Go=C("navigate_before"),qo=c("span",null,"Anterior",-1),Ho=["onClick"],Jo=C("Siguiente"),Wo=C("navigate_next"),Qo={props:{steps:{type:Number,required:!0}},setup(e,{emit:a}){const l=e,o=f("statusFile"),n=f("Audios");k(0);const s=u=>{o.value.step=u,a("stepChanged")},r=u=>{n.sclick.play(),(u==-1&&o.value.step>0||u==1&&o.value.step<l.steps-1)&&(o.value.step+=u,a("stepChanged"))};return(u,d)=>(t(),i("div",Ro,[c("div",Uo,[c("button",{class:F(["btn btn-xs",b(o).step==0?"btn-disabled":""]),onClick:d[0]||(d[0]=m=>r(-1))},[x(H,null,{default:j(()=>[Go]),_:1}),qo],2),(t(!0),i($,null,N(e.steps,(m,v)=>(t(),i("button",{class:F(["btn btn-xs",[b(o).step==v?"btn-active":"non-active"]]),onClick:_=>s(v)},G(v+1),11,Ho))),256)),c("button",{class:F(["btn btn-xs",b(o).step==e.steps-1?"btn-disabled":""]),onClick:d[1]||(d[1]=m=>r(1))},[Jo,x(H,null,{default:j(()=>[Wo]),_:1})],2)])]))}},Ko=["id"],Xo={props:{screenindex:{type:Number},screen:{type:Object,required:!0}},setup(e){const a=e,l=f("activityFile"),o=f("statusFile"),n=f("view");k();const s=X(()=>({"--activity-bg":l.conf.color||"#ffffff"})),r=()=>{o.value.step++},u=d=>n.value?!0:a.screen.steps?o.value.step==d:!0;return ce(()=>o.value.step,(d,m)=>{var v=document.querySelector(".drawer-content");v.scrollTop>0&&(v.scrollTop=0)}),(d,m)=>(t(),i("section",{class:F(["screens m-h-screen relative px-2 pb-2",[b(n)?"desplegado":"","pt-12 lg:pt-4",e.screen.class]]),id:"screen-"+e.screenindex,style:K(b(s))},[e.screen.end?J((t(),w(il,{key:1},null,512)),[[ue,e.screen.end]]):(t(!0),i($,{key:0},N(e.screen.blocks,(v,_)=>(t(),i($,null,[x(me,{name:"screenfade",mode:"out-in",appear:""}),J(x(Os,{steps:e.screen.steps,id:"block-"+e.screenindex+"-"+_,islast:e.screen.blocks.length-1==_,block:v,onStepNext:r,onScreenNext:m[0]||(m[0]=L=>d.$emit("screenNext",L)),blockid:e.screenindex+"-"+_},null,8,["steps","id","islast","block","blockid"]),[[ue,u(_)]])],64))),256)),e.screen.steps&&!b(n)?(t(),w(Qo,{key:2,steps:e.screen.blocks.length},null,8,["steps"])):B("",!0)],14,Ko))}},Yo={class:"relative w-full h-full"},Zo={props:{},setup(e){const a=f("activityFile"),l=f("statusFile"),o=f("view"),n=r=>{l.value.step=0,l.value.screen+=r},s=r=>o.value?!0:r==l.value.screen;return(r,u)=>(t(),i("section",Yo,[x(we),(t(!0),i($,null,N(b(a).screens,(d,m)=>J((t(),w(Xo,{key:m,screen:d,onScreenNext:n,screenindex:m},null,8,["screen","screenindex"])),[[ue,s(m)]])),128))]))}},en={class:"drawer drawer-mobile"},tn=c("input",{class:"drawer-toggle",id:"sidebar",type:"checkbox"},null,-1),an={class:"drawer-content"},sn={class:"z-10 btn btn-sm btn-outline gap-2 drawer-button fixed top-2 left-2 text-xs lg:hidden text-white",for:"sidebar"},ln=C("menu_open"),on=C("Abrir"),nn={class:"drawer-side"},cn={key:0,class:"drawer-overlay",for:"sidebar"},rn={props:{},setup(e){f("activityFile");const a=f("hidemenu");return(l,o)=>(t(),i("div",en,[tn,c("div",an,[c("label",sn,[x(H,null,{default:j(()=>[ln]),_:1}),on]),x(Zo)]),c("div",nn,[b(a)?B("",!0):(t(),i("label",cn)),x(Po)])]))}};const dn={setup(e){const a=f("activityFile"),l=f("statusFile"),o=f("builderFile"),n=s=>{l.value.state=s};return(s,r)=>(t(),i($,null,[b(o)?(t(),w(Io,{key:0})):B("",!0),b(a)&&b(l)?(t(),i($,{key:1},[b(l).state=="@intro"?(t(),w(fs,{key:0,onStart:r[0]||(r[0]=u=>n("@activity"))})):b(l).state=="@activity"?(t(),w(rn,{key:1})):B("",!0)],64)):B("",!0)],64))}};var un={install:(e,a)=>{e.component("BlocksRenderer",R)}};function vn(e){return!1}var _n={buildBG:vn},bn={ALGEBRAI:{materia:"A\u0301lgebra",color:"215 52% 42%"},LECTURAEOEI:{materia:"Lectura, Expresio\u0301n Oral y Escrita I",color:"215 52% 42%"},LOGICA:{materia:"Lo\u0301gica",color:"215 52% 42%"},QUIMICAI:{materia:"Qui\u0301mica I",color:"215 52% 42%"},TECNOLOGIASIC:{materia:"Tecnologi\u0301as de la Informacio\u0301n y la Comunicacio\u0301n",color:"215 52% 42%"},BIOLOGIA:{materia:"Biologi\u0301a",color:"359 53% 44%"},ETICA:{materia:"E\u0301tica",color:"359 53% 44%"},GEOMETRIAA:{materia:"Geometri\u0301a Anali\u0301tica",color:"359 53% 44%"},CALCULOI:{materia:"Ca\u0301lculo Integral",color:"130 27% 35%"},CIENCIATSV:{materia:"Ciencia, Tecnologi\u0301a, Sociedad y Valores",color:"130 27% 35%"},FISICAII:{materia:"Fi\u0301sica II",color:"130 27% 35%"}},mn={BIOLOGIAI:{materia:"Biolog\xEDa  I",color:""},ESTRUCTURASM:{materia:"Estructura Socioecono\u0301mica de Me\u0301xico",color:""},ETICAI:{materia:"E\u0301tica I",color:""},FISICAI:{materia:"Fi\u0301sica  I",color:""},GEOGRAFIA:{materia:"Geografi\u0301a",color:""},HISTORIAMI:{materia:"Historia de Me\u0301xico  I",color:""},INFORMATIVAI:{materia:"Informa\u0301tica  I",color:""},LITERATURAI:{materia:"Literatura  I",color:""},MATEMATICASI:{materia:"Matema\u0301ticas  I",color:""},MATEMATICASIII:{materia:"Matema\u0301ticas  III",color:""},METODOLOGIASII:{materia:"Metodologi\u0301a de la Investigacio\u0301n  I",color:""},QUIMICAI:{materia:"Qui\u0301mica  I",color:""},TALLERLRI:{materia:"Taller de Lectura y Redaccio\u0301n  I",color:""}},kn={DGETI:bn,DGB:mn};const le=["color: #446699","background: #ddff99","font-size: 9px","padding: 2px 5px","border-radius: 4px"].join(";"),pn=Qe();ee();var q=Ue(dn);q.config.globalProperties.emitter=pn;q.use(Ge);q.use(qe);q.use(He);q.component("Popper",Je);gsap.registerPlugin(Draggable);q.provide("view",k(!1));q.provide("hidemenu",k(!1));q.use(un);q.provide("Audios",{sclick:new Z({source:"assets/sounds/click.mp3"}),scancel:new Z({source:"assets/sounds/cancel.mp3"}),sopen:new Z({source:"assets/sounds/open.mp3"}),sclose:new Z({source:"assets/sounds/close.mp3"}),schange:new Z({source:"assets/sounds/change.mp3"}),sBlockSelect:new Z({source:"assets/sounds/blockSelect.mp3"}),sBlockDrag:new Z({source:"assets/sounds/blockDrag.mp3"}),sfinalize:new Z({source:"assets/sounds/end.mp3"}),snotification:new Z({source:"assets/sounds/notification.mp3"}),ssend:new Z({source:"assets/sounds/send.mp3"})});gn();function fn(e){try{JSON.parse(e)}catch{return!1}return!0}async function gn(){const e=window.location.search,a=new URLSearchParams(e),l=a.get("test"),o=a.get("blocked"),n=a.get("oda"),s=a.get("status"),r=a.get("builder");l!=null?(console.log("%c%s",le,"::TestMode"),q.provide("test",!0)):q.provide("test",!1),o!=null?(console.log("%c%s",le,"::BLOCKED"),q.provide("blocked",!0)):q.provide("blocked",!1);const d=k({state:"@intro",screen:0,step:0,answers:{},result:{},finalize:!1}),m=k({total:0,oks:0,errors:0,oksPercentage:0,errorsPercentage:0});if(q.provide("resultsFile",m),n)try{const L=fe(n+"_"),A=(await We.get("../ODAS/"+n+"/oda.json")).data;A.conf=kn[A.programa][A.materia];const D=A.conf.color;var v=document.querySelector("html");if(v&&v.style.setProperty("--p",D),q.provide("activityFile",A),_n.buildBG(A.conf.color),q.provide("statusFile",d),q.provide("builderFile",!1),q.provide("path","./ODAS/"+A.id+"/"),q.mount("#app"),l!=null){const O=L.getStorageSync("status");if(O){const T=re.atob(O);if(!T)return!1;const E=JSON.parse(T);if(!E)return!1;d.value=E,console.log("%c%s",le,"::LoadedData")}}if(s!=null&&s.length>4){const O=re.atob(s);if(!O)return!1;if(fn(O)){const T=JSON.parse(O);if(!T)return!1;d.value=T,console.log("%c%s",le,"::UrlData")}else console.log("%c%s",le,"::WRONG UrlData")}const M=ne.throttle(function(O,T){const E=re.btoa(JSON.stringify(O.value));L.setStorageSync("status",E),L.setStorageSync("test",O.value);const S={status:E,results:d.value.finalize?m.value:null};var P=JSON.stringify(S);window.top.postMessage(P,"*")},2e3);ce(()=>d,(O,T)=>{if(o!=null)return!1;M(O,T)},{deep:!0}),document.title=A.id+" | "+A.title,l!=null&&(document.title="::TEST:: "+A.id+" | "+A.title)}catch(L){console.log("%c%s",le,"::Error: "+L);var _=document.getElementById("app");_.innerHTML='<div class="erroroda">ERROR DE CARGA</div>'}else if(r!=null)q.provide("statusFile",!1),q.provide("activityFile",!1),q.provide("builderFile",!0),q.mount("#app");else{var _=document.getElementById("app");_.innerHTML='<div class="erroroda">ODA NO ENCONTRADA</div>'}}const hn=e=>{var a=e.data;typeof a=="string"&&JSON.parse(a)};window.addEventListener("message",hn,!1);window.addEventListener("resize",function(){window.innerWidth<=600&&q.config.globalProperties.emitter.emit("sidebarmini")});
