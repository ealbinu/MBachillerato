var Ee=Object.defineProperty,je=Object.defineProperties;var Be=Object.getOwnPropertyDescriptors;var ge=Object.getOwnPropertySymbols;var Me=Object.prototype.hasOwnProperty,De=Object.prototype.propertyIsEnumerable;var he=(e,t,l)=>t in e?Ee(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l,re=(e,t)=>{for(var l in t||(t={}))Me.call(t,l)&&he(e,l,t[l]);if(ge)for(var l of ge(t))De.call(t,l)&&he(e,l,t[l]);return e},de=(e,t)=>je(e,Be(t));import{az as a,_ as i,aG as be,F as z,r as b,X as K,H as X,u as _,M as $,Z as I,ai as x,b as te,a6 as w,b1 as M,$ as c,aF as V,a5 as A,a as ae,I as H,Y as y,aH as le,a8 as Fe,b3 as W,bm as Z,w as ce,aJ as Ve,l as Pe,a7 as Ne,b6 as ke,bi as ue,aC as xe,aA as $e,bk as ye,bn as me,b9 as Re}from"./@vue.655e9a40.js";import{a as we}from"./axios.e9656f83.js";import{l as He}from"./lottie-web.067f432f.js";import{_ as ie}from"./lodash.273f5f4f.js";import{V as Ue}from"./vue3-apexcharts.77391c91.js";import{d as Ge}from"./vuedraggable.28d0e399.js";import{S as qe}from"./splitting.14e7ae4c.js";import"./browserslist.955b93b1.js";import{E as Je,H as We,S as Qe}from"./@editorjs.ba2deff0.js";import{P as Xe}from"./editorjs-paragraph-with-alignment.91f111dd.js";import{V as Ke}from"./vue.e216283a.js";import{v as Ye}from"./vue3-sfc-loader.9f2e4ad6.js";import{J as Ze}from"./jsxgraph.7d0b2dd9.js";import{W as ee}from"./web-audio-daw.9bae1b79.js";import{t as et}from"./theme-change.7cab00d9.js";import{u as Se,V as tt}from"./vue3-storage.86e54124.js";import{V as at}from"./vue-json-pretty.f25325b7.js";import{l as st}from"./scroll-out.f53f8038.js";import{u as lt,a as ot,o as nt}from"./@vueuse.3705df6c.js";import{m as it}from"./mitt.550594b0.js";import{g as ve}from"./js-base64.79f56a98.js";import{i as ct}from"./vue3-perfect-scrollbar.2c645d23.js";import{e as rt}from"./vue3-popper.9c685743.js";/* empty css                    */import"./apexcharts.013e43aa.js";import"./sortablejs.c91e154b.js";import"./node-releases.964f411d.js";import"./caniuse-lite.79211338.js";import"./electron-to-chromium.b7f3b613.js";import"./core-js.f60a8021.js";import"./perfect-scrollbar.efdba489.js";const dt=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const r of s.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&o(r)}).observe(document,{childList:!0,subtree:!0});function l(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerpolicy&&(s.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?s.credentials="include":n.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(n){if(n.ep)return;n.ep=!0;const s=l(n);fetch(n.href,s)}};dt();const U={props:{class:String},setup(e){return(t,l)=>(a(),i("i",{class:z(["material-icons theicon",e.class])},[be(t.$slots,"default")],2))}};var Q=(e,t)=>{const l=e.__vccOpts||e;for(const[o,n]of t)l[o]=n;return l};const ut=["innerHTML"],vt=["innerHTML"],bt={props:{data:Object},setup(e){const t=e,l=b(!1),o=K(()=>({"--fontSize":t.data.size||"1rem","--fontSizeBlock":t.data.size||"1.5rem"})),n=s=>window.MathJax.tex2svg(s).getElementsByTagName("svg")[0].outerHTML;return setTimeout(()=>{l.value=!0},200),(s,r)=>l.value?(a(),i($,{key:0},[e.data.block?(a(),i("div",{key:0,class:z(["blockmathCont animate__animated animate__jello animate__delay-2s",[e.data.dark?"dark":"light"]]),style:X(_(o)),innerHTML:n(e.data.math)},null,14,ut)):(a(),i("span",{key:1,class:z(["blockmathCont",[e.data.dark?"dark":"light"]]),style:X(_(o)),innerHTML:n(e.data.math)},null,14,vt))],64)):I("",!0)}};const _e={props:{},setup(e,{emit:t}){const l=x("test"),o=()=>{t("solve")};return(n,s)=>_(l)?(a(),i("button",{key:0,class:"solveModule test",onClick:o},"Resolver")):I("",!0)}},Ce={setup(e,{expose:t}){const l=b(!1);return t({replace:()=>{l.value=!0}}),(n,s)=>l.value?be(n.$slots,"second",{key:1}):be(n.$slots,"main",{key:0})}};const mt=["id"],kt={key:0,class:"drops dropsLeft"},_t=["data"],ft={class:"drags"},pt=["data","data-index"],gt=A("pan_tool"),ht={class:"feedback f0 animate__animated animate__flash"},yt={class:"feedback f1 animate__animated animate__flash"},xt={key:1,class:"drops dropsRight"},$t=["data"],wt={props:{blockid:String,data:Object},setup(e){const t=e,l=x("Audios"),o=x("statusFile"),n=x("blocked"),s=ae(),r=b(),d=b(),u=b();var p="#block-"+t.blockid,v=p+" .drag",k=p+" .drop",g=null,f;const T=()=>{if(g=document.querySelectorAll(p+" .drop"),n)return!1;f=Draggable.create(v,{type:"x,y",bounds:p,zIndexBoost:!1,onDrag:function(m){D(m,this)},onClick:function(m){P(m,this)},onDragEnd:function(m){j(m,this)}})},D=(m,h)=>{h.interactionsCount==null&&(h.interactionsCount=0);for(var C=0;C<g.length;C++){if(h.hitTest(g[C],"40%"))return h.target.classList.add("hover"),g[C].classList.add("hover"),!1;h.target.classList.remove("hover"),g[C].classList.remove("hover")}},P=(m,h)=>{if(d.value!=null)return!1;if(h.interactionsCount==null&&(h.interactionsCount=0),L(h)){var C=document.querySelector(p+" .drags");h.target.parentElement!=C&&(C.append(h.target),TweenLite.to(h.target,.2,{x:0,y:0}),h.target.removeAttribute("data-feedback"),B(),l.scancel.play())}},j=(m,h)=>{for(var C=!1,O=0;O<g.length;O++)if(h.hitTest(g[O],"40%")&&L(h))return C=!0,g[O].append(h.target),TweenLite.to(h.target,.2,{x:0,y:0}),h.target.classList.remove("hover"),g[O].classList.remove("hover"),S(h.target),B(),h.interactionsCount+=1,L(h);C?l.sBlockDrag.play():TweenLite.to(h.target,.2,{x:0,y:0})},L=m=>{let h=!0;return(t.data.blockafter!=null||t.data.blockafter>0)&&(m.interactionsCount>=t.data.blockafter?(m.disable(),h=!1):h=!0),h},J=m=>{var h=btoa(m);return h},B=()=>{for(var m=document.querySelectorAll(v),h=[],C=0;C<m.length;C++){var O=m[C].getAttribute("data-index"),Y=m[C].parentElement.getAttribute("data");h.push([O,Y])}o.value.answers[t.blockid]=h};te(()=>{T(),G()});const G=()=>{E()},E=()=>{if(o.value.answers||(o.value.answers={}),o.value.answers[t.blockid]){var m=o.value.answers[t.blockid];for(var h in m){var C=m[h];if(C[1]){var O=document.querySelector(v+'[data-index="'+C[0]+'"]'),Y=document.querySelector(k+"[data="+C[1]+"]");Y.append(O),S(O)}}}else o.value.answers[t.blockid]=null;o.value.finalize&&F()},N=()=>{for(var m=document.querySelectorAll(v),h=0;h<m.length;h++){var C=atob(m[h].getAttribute("data")),O=document.querySelector(k+"[data="+C+"]");O.append(m[h])}B()},S=m=>{var h=atob(m.getAttribute("data")),C=m.parentElement.getAttribute("data");h==C?m.setAttribute("data-feedback",0):m.setAttribute("data-feedback",1),t.data.replace!=null&&r.value.replace()},F=()=>{for(var m=document.querySelectorAll(v),h=0,C=0;C<m.length;C++){f[C].disable();var O=atob(m[C].getAttribute("data")),Y=m[C].parentElement.getAttribute("data");O==Y?m[C].classList.add("isok"):(m[C].classList.add("notok"),h++),S(m[C])}h==0?d.value=!0:d.value=!1,o.value.result[t.blockid]=d.value};return s.appContext.config.globalProperties.emitter.on("solve",m=>{N()}),s.appContext.config.globalProperties.emitter.on("finalize",m=>{F()}),(m,h)=>(a(),i($,null,[w(Ce,{ref_key:"replacer",ref:r},{main:M(()=>[c("div",{class:"blockDragDrop",id:"block-"+e.blockid,ref_key:"block",ref:u},[e.data.dropsLeft?(a(),i("section",kt,[(a(!0),i($,null,V(e.data.dropsLeft,(C,O)=>(a(),i("div",{class:"drop",data:C[1]},[w(R,{item:C[0],blockid:e.blockid+"-dropLeft-"+O},null,8,["item","blockid"])],8,_t))),256))])):I("",!0),c("section",ft,[(a(!0),i($,null,V(e.data.drags,(C,O)=>(a(),i("div",{class:z(["drag",[e.data.dragClass]]),data:J(C[1]),"data-index":O},[w(U,null,{default:M(()=>[gt]),_:1}),w(R,{item:C[0],blockid:e.blockid+"-drag-"+O},null,8,["item","blockid"]),C[2]?(a(),i($,{key:0},[c("div",ht,[w(R,{item:C[2][0],blockid:e.blockid+"-dropRight-"+O+"-feedback"},null,8,["item","blockid"])]),c("div",yt,[w(R,{item:C[2][1],blockid:e.blockid+"-dropRight-"+O+"-feedback"},null,8,["item","blockid"])])],64)):I("",!0)],10,pt))),256))]),e.data.dropsRight?(a(),i("section",xt,[(a(!0),i($,null,V(e.data.dropsRight,(C,O)=>(a(),i("div",{class:"drop",data:C[1]},[w(R,{item:C[0],blockid:e.blockid+"-dropRight-"+O},null,8,["item","blockid"])],8,$t))),256))])):I("",!0)],8,mt)]),second:M(()=>[w(R,{item:e.data.replace[0],blockid:e.blockid+"-selectitem-feedback-ok"},null,8,["item","blockid"])]),_:1},512),w(_e,{onSolve:N})],64))}};var St=Q(wt,[["__scopeId","data-v-251cafb7"]]);const Ct=["id"],It=["onClick"],At=A("touch_app"),Tt={key:0,class:"option-letter"},Lt={key:1,class:"col-span-full"},Ot={props:{blockid:String,data:Object},setup(e){const t=e,l=b(void 0),o=x("statusFile"),n=x("blocked"),s=x("Audios"),r=b(0),d=b();b(!1);const u=ae(),p=b(),v=b(!1),k=b(),g=b([]);var f=b(!0);const T=()=>{for(var E=t.data.options,N=[],S=0;S<E.length;S++)Array.isArray(E[S])?N.push(E[S][1]):N.push(g.value[S]);ie.isEqual(N,g.value)?l.value=!0:l.value=!1,t.data.replace!=null&&d.value.replace()},D=E=>"abcdefghijk"[E],P=()=>{for(var E in t.data.options){var N=t.data.options;Array.isArray(N[E])?g.value[E]=!1:g.value[E]=void 0}j(),o.value.answers||(o.value.answers=[]),o.value.answers[t.blockid]?(g.value=o.value.answers[t.blockid][0],p.value=o.value.answers[t.blockid][1],T()):o.value.answers[t.blockid]=null},j=()=>{var E=0;t.data.options.forEach(N=>{N[1]&&(E+=1)}),E>1&&(f.value=!1)};te(()=>{P()});const L=(E,N)=>{if(n||o.value.finalize||(t.data.blockafter!=null||t.data.blockafter>0)&&r.value>=t.data.blockafter)return!1;if(r.value+=1,p.value=N,v.value=!0,s.sBlockSelect.play(),f.value){for(var S in g.value)g.value[S]=!1;g.value[E]=!0}else g.value[E]=!g.value[E];T(),o.value.answers[t.blockid]=[g.value,p.value],setTimeout(()=>{v.value=!1},50)},J=()=>{for(var E=t.data.options,N=0;N<E.length;N++)E[N][1]?g.value[N]=!0:g.value[N]=!1;o.value.answers[t.blockid]=[g.value,p.value]},B=()=>{T(),l.value?k.value.classList.add("isok"):k.value.classList.add("notok"),o.value.result[t.blockid]=l.value};u.appContext.config.globalProperties.emitter.on("solve",E=>{J()}),u.appContext.config.globalProperties.emitter.on("finalize",E=>{B()});const G=K(()=>({"--block-grid-template-columns":t.data.columns||"1fr 1fr 1fr 1fr","--block-grid-template-columns-responsive":t.data.columnsResponsive||"1fr","--block-grid-gap":t.data.gap||"10px"}));return(E,N)=>(a(),i($,null,[w(Ce,{ref_key:"replacer",ref:d},{main:M(()=>[c("div",{class:"blockSelect",id:"block-"+e.blockid,ref_key:"block",ref:k,style:X(_(G))},[(a(!0),i($,null,V(e.data.options,(S,F)=>(a(),i($,null,[Array.isArray(S)?(a(),i("div",{key:0,onClick:m=>L(F,S),class:z([g.value[F]?"active "+(e.data.optionClassActive||""):"",e.data.optionClass||"blockSelectOption"])},[e.data.optionClass?I("",!0):(a(),i($,{key:0},[w(U,null,{default:M(()=>[At]),_:1}),e.data.letters===!1||e.data.letters===0?I("",!0):(a(),i("div",Tt,H(D(F)),1))],64)),w(R,{item:S[0],blockid:e.blockid+"-selectitem"},null,8,["item","blockid"])],10,It)):"content"in S?(a(),i("div",Lt,[(a(!0),i($,null,V(S.content,(m,h)=>(a(),y(R,{item:m,blockid:e.blockid+"-selectitem-content-"+h},null,8,["item","blockid"]))),256))])):I("",!0)],64))),256))],12,Ct),v.value?I("",!0):(a(),i("div",{key:0,class:z(["feedback text-center animate__animated animate__pulse","f"+(l.value?0:1)])},[e.data.feedback&&g.value.some(S=>S==!0)?(a(),y(R,{key:0,item:e.data.feedback[l.value?0:1],blockid:e.blockid+"-selectitem-feedback"},null,8,["item","blockid"])):I("",!0),p.value&&p.value[2]?(a(),y(R,{key:1,item:p.value[2],blockid:e.blockid+"-selectitem-feedback"},null,8,["item","blockid"])):I("",!0)],2))]),second:M(()=>[l.value?(a(),y(R,{key:0,item:de(re({},e.data.replace[0]),{class:"f0"}),blockid:e.blockid+"-selectitem-feedback-ok"},null,8,["item","blockid"])):(a(),y(R,{key:1,item:de(re({},e.data.replace[1]),{class:"f1"}),blockid:e.blockid+"-selectitem-feedback-wrong"},null,8,["item","blockid"]))]),_:1},512),w(_e,{onSolve:J})],64))}};const zt=["src","id"],Et=["innerHTML"],jt={props:{data:Object},setup(e){x("activityFile");const t=x("path");return(l,o)=>(a(),i($,null,[c("img",{class:z(["blockImg",e.data.class]),src:_(t)+e.data.img,id:e.data.id},null,10,zt),e.data.caption?(a(),i("div",{key:0,class:"text-xs text-gray-400 text-center",innerHTML:e.data.caption},null,8,Et)):I("",!0)],64))}};var Bt=Q(jt,[["__scopeId","data-v-fc5a1bd2"]]);const Mt={class:"relative mr-2"},Dt=A("contact_support"),Ft={class:"min-w-[10rem] text-xs"},Vt={props:{data:{type:Object}},setup(e){return b(!1),(t,l)=>{const o=le("Popper");return a(),y(o,{class:z(e.data.class),placement:e.data.placement,arrow:!0,id:e.data.id},{content:M(()=>[c("div",Ft,[(a(!0),i($,null,V(e.data.content,(n,s)=>(a(),y(R,{key:s,item:n},null,8,["item"]))),128))])]),default:M(()=>[c("span",Mt,[w(R,{item:e.data.term},null,8,["item"]),w(U,{class:"termIcon animate__animated animate__flash animate__infinite animate__slow -right-3 text-xs"},{default:M(()=>[Dt]),_:1})])]),_:1},8,["class","placement","id"])}}};var Pt=Q(Vt,[["__scopeId","data-v-4fa921da"]]);const Nt={props:{data:Object,blockid:String},setup(e){const t=e;return K(()=>({"--fontSize":t.data.size||"1rem"})),(l,o)=>{const n=le("apexchart");return e.data.chart=="line"?(a(),i($,{key:0},[c("p",null,H(e.data),1),w(n,{type:e.data.chart,options:e.data.options,series:e.data.series},null,8,["type","options","series"])],64)):I("",!0)}}};var Rt=Fe({props:{data:Object,blockid:String},setup(e){const t=e;K(()=>({"--fontSize":t.data.size||"1rem"}));const l=b(),o=b(),n=b(),s=()=>{let r=l.value.getBoundingClientRect(),d=340,u=200,p=r.width/d;d*=p,u*=p,n.value=functionPlot({title:typeof t.data.plot=="string"?t.data.plot:"",target:o.value,width:d,height:u,yAxis:t.data.yAxis,xAxis:t.data.xAxis,grid:!1,data:t.data.data,annotations:t.data.annotations})};return setTimeout(()=>{s()},500),(r,d)=>(a(),i("div",{class:"blockPlot",ref_key:"blockParent",ref:l},[c("div",{ref_key:"block",ref:o},null,512)],512))}});const Ht=["id"],Ut={class:"blockGridItem"},Gt={props:{data:Object,blockid:String},setup(e){const t=e,l=K(()=>({"--block-grid-template-columns":t.data.columns||"auto auto auto auto","--block-grid-template-columns-responsive":t.data.columnsResponsive||"auto","--block-grid-gap":t.data.gap||"10px"}));return(o,n)=>(a(),i("div",{class:z(["blockGrid",e.data.class]),style:X([_(l),e.data.style]),id:e.data.id},[(a(!0),i($,null,V(e.data.content,(s,r)=>(a(),i("div",Ut,[w(R,{item:s,blockid:e.blockid+"-"+r},null,8,["item","blockid"])]))),256))],14,Ht))}},qt=["id","data","data-scroll"],Jt={props:{data:Object,blockid:String},setup(e){const t=e,l=b(),o=K(()=>({}));return te(()=>{if(t.data.scrollClass){const n=t.data.scrollClass.split(" ");l.value.setAttribute("data-scroll-classes",n),st({scrollingElement:".drawer-content",onShown(s){s.classList.remove(...s.getAttribute("data-scroll-classes").split(",")),s.offsetWidth,s.classList.add(...s.getAttribute("data-scroll-classes").split(","))},onChange:function(s,r,d){}})}}),(n,s)=>(a(),i("div",{class:z(["blockGroup",e.data.class]),id:e.data.id,data:e.data.data,style:X(_(o)),ref_key:"group",ref:l,"data-scroll":e.data.scrollClass?!0:void 0},[(a(!0),i($,null,V(e.data.content,(r,d)=>(a(),y(R,{item:r,blockid:e.blockid+"-"+d},null,8,["item","blockid"]))),256))],14,qt))}};const Wt={class:"text-sm p-1 flex items-center border-2 border-white",style:{"border-radius":"10px 0 0 10px","border-right":"none"}},Qt=["id","data-items"],Xt=["data"],Kt={class:"gestureIcon"},Yt=A("swipe_vertical"),Zt={props:{blockid:String,data:Object},setup(e){const t=e,l=b(),o=b(),n=x("statusFile"),s=x("blocked"),r=ae(),d=b(ie.shuffle(t.data.items)),u=b(!1);(()=>{n.value.answers[t.blockid]?d.value=n.value.answers[t.blockid]:n.value.answers[t.blockid]=null})();const v=()=>{n.value.answers[t.blockid]=d.value,console.log("dragEnd"),u.value=!0,setTimeout(()=>{u.value=!1},100)},k=()=>{d.value=t.data.items,v()},g=()=>{ie.isEqual(d.value,t.data.items)?(l.value=!0,o.value.classList.add("isok")):(l.value=!1,o.value.classList.add("notok")),n.value.result[t.blockid]=l.value};return r.appContext.config.globalProperties.emitter.on("solve",f=>{k()}),r.appContext.config.globalProperties.emitter.on("finalize",f=>{g()}),(f,T)=>(a(),i($,null,[c("div",{class:z(e.data.related?"grid grid-cols-2":"")},[e.data.related?(a(),i("div",{key:0,class:z(["blockSortableRelated","grid gap-2 grid-rows-"+e.data.related.length])},[(a(!0),i($,null,V(e.data.related,D=>(a(),i("div",Wt,H(D),1))),256))],2)):I("",!0),c("div",{class:z(["blockSortable",[e.data.class]]),id:"block-"+e.blockid,ref_key:"block",ref:o,"data-items":d.value.length},[w(_(Ge),{modelValue:d.value,"onUpdate:modelValue":T[0]||(T[0]=D=>d.value=D),"item-key":"id",onEnd:v,sort:!(_(s)||_(n).finalize)},{item:M(({element:D,index:P})=>[c("div",{class:z(["sortable-item",[e.data.numbers?"shownumbers":"",e.data.classItem,"mb-0.5"]]),data:P+1},[c("div",Kt,[w(U,null,{default:M(()=>[Yt]),_:1})]),(a(),y(R,{item:D,blockid:e.blockid+"-sortableitem-"+P,key:D},null,8,["item","blockid"]))],10,Xt)]),_:1},8,["modelValue","sort"])],10,Qt)],2),w(_e,{onSolve:k})],64))}};var ea=Q(Zt,[["__scopeId","data-v-aaa55f04"]]);const ta=["id","innerHTML"],aa={props:{data:Object},setup(e){const t=e;b(!1);const l=b(t.data.text);t.data.text.match(/.{1,10}/g);const o=K(()=>({}));return(n,s)=>(a(),i("div",{class:z(["blockText animate__animated",[e.data.class]]),style:X(_(o)),id:e.data.id,innerHTML:l.value},null,14,ta))}};var sa=Q(aa,[["__scopeId","data-v-e7e2a0e8"]]);const la={props:{data:Object},setup(e){const t=e,l=K(()=>({"--block-fontSize":t.data.size||"1rem","--block-block":t.data.block?"block":"inline-block"}));return(o,n)=>(a(),i("div",{class:z(["blockIcon",[e.data.class]]),style:X(_(l))},[w(U,null,{default:M(()=>[A(H(e.data.icon),1)]),_:1})],6))}};var oa=Q(la,[["__scopeId","data-v-3173a235"]]);const na={props:{data:Object,blockid:String},setup(e){const t=e,l=K(()=>({"--block-align":t.data.align||"left"}));return(o,n)=>(a(),i("div",{class:z(["blockInstruction animate__animated animate__bounce animate__delay-3s",[e.data.class]]),style:X([_(l),e.data.style])},[(a(!0),i($,null,V(e.data.content,(s,r)=>(a(),y(R,{item:s,blockid:e.blockid+"-instruction-"+r},null,8,["item","blockid"]))),256))],6))}};var ia=Q(na,[["__scopeId","data-v-2768cab3"]]);const ca={props:{data:Object,blockid:String},setup(e){const t=e,l=K(()=>({"--block-align":t.data.align||"left"}));return(o,n)=>(a(),i("div",{class:z(["blockInstruction animate__animated animate__bounce animate__delay-3s",[e.data.class]]),style:X([_(l),e.data.style])},[w(U,{class:"animate__animated animate__flash animate__slower animate__infinite text-md"},{default:M(()=>[A(H(e.data.iconinst),1)]),_:1}),w(R,{item:e.data.inst,blockid:e.blockid+"-instruction"},null,8,["item","blockid"])],6))}};var ra=Q(ca,[["__scopeId","data-v-1da36357"]]);const da=["id","innerHTML"],ua={props:{data:Object},setup(e){const t=e,l=b(),o=b(t.data.textAnimation);te(()=>{qe({target:l.value,by:t.data.by||"words"})});const n=K(()=>({"--block-align":t.data.align||"left"}));return(s,r)=>(a(),i("div",{class:z(["blockTextAnimation",[e.data.class]]),"data-splitting":"",style:X(_(n)),id:e.data.id,innerHTML:o.value,ref_key:"textsplit",ref:l},null,14,da))}},va=["placeholder","id"],ba={props:{blockid:String,data:Object},setup(e){const t=e,l=x("statusFile"),o=ae(),n=b();x("blocked");const s=b(),r=b(),d=()=>{l.value.answers[t.blockid]=r.value};l.value.answers[t.blockid]?r.value=l.value.answers[t.blockid]:l.value.answers[t.blockid]=null;const u=()=>{n.value=!0,s.value.classList.add("isok"),l.value.result[t.blockid]=!0,console.log("finalizando variable input")};return o.appContext.config.globalProperties.emitter.on("solve",p=>{r.value="Nombre"}),o.appContext.config.globalProperties.emitter.on("finalize",p=>{u()}),(p,v)=>W((a(),i("input",{class:z(["input input-bordered input-lg w-full max-w-xs text-dark blockInput",e.data.class]),type:"text",placeholder:e.data.label,"onUpdate:modelValue":v[0]||(v[0]=k=>r.value=k),onChange:d,id:"block-"+e.blockid,ref_key:"block",ref:s},null,42,va)),[[Z,r.value]])}};const ma={key:0,class:"colorize"},ka={props:{data:Object,blockid:String},setup(e){const t=e,l=x("Audios"),o=b(!0),n=K(()=>({"--colorize-bg":t.data.colorize||"#ffdd00"})),s=()=>{t.data.destroy&&(l.schange.play(),setTimeout(()=>{o.value=!1},1e3))};return s(),ce(()=>t.data.colorize,()=>{o.value=!0,s()}),(r,d)=>o.value?(a(),i("div",ma,[c("div",{class:"coloring",style:X(_(n))},null,4)])):I("",!0)}};var _a=Q(ka,[["__scopeId","data-v-4b48ea56"]]);const fa={props:{data:Object},setup(e){return b(),(t,l)=>(a(),y(Ve("style"),null,{default:M(()=>[A(H(e.data.css),1)]),_:1}))}};var Ie="/assets/icons/chatbot-bot.svg",pa="/assets/icons/chatbot-user.svg",ga="/assets/icons/chatbot-writing.gif";const ha={class:"w-full text-center"},ya={class:"mockup-window border bg-slate-500"},xa={class:"flex justify-end flex-col px-4 bg-white text-dark h-[50rem] max-height-screen"},$a={class:"bubble bot flex justify-start items-center my-1 text-left animate__animated animate__fadeInUp animate__faster"},wa=c("img",{class:"w-12 mask mask-squircle",src:Ie},null,-1),Sa={key:0,class:"bubble user flex justify-end items-center my-1 text-left animate__animated animate__fadeInUp animate__faster"},Ca=c("img",{class:"w-12 mask mask-squircle",src:pa},null,-1),Ia={key:1,class:"bg-red-400 rounded my-2 w-full p-2 userinputbubble"},Aa={key:0,class:"userinput flex flex-wrap justify-end w-full gap-1"},Ta=["onClick"],La={key:0,class:"flex items-center"},Oa=["onUpdate:modelValue","placeholder"],za=["onClick"],Ea=A("send"),ja={key:0,class:"my-2 w-full px-2 py-4 userinputbubble"},Ba={key:1,class:"bubble bot flex justify-start items-center my-1 text-left"},Ma=c("img",{class:"w-12 mask mask-squircle",src:Ie},null,-1),Da=c("div",{class:"bg-gray-100 py-2 px-1 ml-1 rounded-xl max-w-md"},[c("img",{src:ga})],-1),Fa=[Ma,Da],Va={props:{data:Object,blockid:String},setup(e){const t=e,l=x("Audios"),o=x("statusFile"),n=ae(),s=x("blocked"),r=b(!1),d=b(0),u=b(),p=Pe([]),v=b(!1),k=b(0),g=m=>{k.value=m,v.value=!0,setTimeout(()=>{v.value=!1,p.push({talk:m,answer:-1}),l.snotification.play(),P(m),S(),j(m),L()},Math.random()*1e3+400)},f=m=>t.data.content.find(O=>O.id==m),T=m=>f(m.talk).options[m.answer][0],D=(m,h,C)=>{const Y=p.find(se=>se.talk==m);Y.answer=h,C!=null&&(Y.isright=C),C===!1&&(d.value+=1)},P=m=>{const h=f(m);h.auto&&g(h.auto)},j=m=>{f(m).end&&(r.value=!0)},L=()=>{u.value&&(setTimeout(()=>{try{u.value.$el.scrollTop=u.value.$el.scrollHeight}catch{console.log("couldnt scroll")}},1200),setTimeout(()=>{try{u.value.$el.scrollTop=u.value.$el.scrollHeight}catch{}},100))},J=(m,h,C)=>{if(s||o.value.finalize)return!1;D(m,h,C[2]),console.log("addTalkAnswer",m,h,C[2]),g(C[1]),console.log("addTalk",C[1]),l.ssend.play()},B=(m,h)=>{console.log(m,h[0],null),D(m,h[0],null),g(h[2])},G=()=>{o.value.answers[t.blockid]=null,g(0),r.value=0,d.value=0},E=()=>{o.value.screen+=1};(()=>{if(o.value.answers[t.blockid]){Object.assign(p,o.value.answers[t.blockid][0]),k.value=o.value.answers[t.blockid][1],r.value=o.value.answers[t.blockid][2],d.value=o.value.answers[t.blockid][3];const m=p.pop();g(m.talk),L()}else o.value.answers[t.blockid]=null,g(0)})();const S=()=>{o.value.answers[t.blockid]=[p,k.value,r.value,d.value]},F=()=>{d.value==0?o.value.result[t.blockid]=r.value:o.value.result[t.blockid]=!1};return n.appContext.config.globalProperties.emitter.on("finalize",m=>{F()}),(m,h)=>{const C=le("perfect-scrollbar");return a(),i("div",ha,[c("div",ya,[c("div",xa,[w(C,{class:"h-full w-full flex flex-col justify-between",ref_key:"scroll",ref:u},{default:M(()=>[(a(!0),i($,null,V(_(p),(O,Y)=>(a(),i($,null,[c("div",$a,[wa,c("div",{class:z(["bg-gray-100 py-2 px-2 ml-1 rounded-xl max-w-xl",[f(O.talk).class]])},[w(R,{item:f(O.talk).talk,blockid:e.blockid+"-chatbot-bot-"+Y},null,8,["item","blockid"])],2)]),O.answer>-1||typeof O.answer=="string"?(a(),i("div",Sa,[c("div",{class:z(["bg-primary text-white py-2 px-2 mr-1 rounded-xl max-w-lg text-center",[O.isright!=null&&_(o).finalize?O.isright?"isok":"notok":"notevaluated","min-w-[4rem]"]])},[typeof O.answer=="number"?(a(),y(R,{key:0,item:T(O),blockid:e.blockid+"-chatbot-user-"+Y},null,8,["item","blockid"])):(a(),y(R,{key:1,item:_(o).inputsobj[O.answer],blockid:e.blockid+"-chatbot-user-"+Y},null,8,["item","blockid"]))],2),Ca])):I("",!0),(f(O.talk).options||f(O.talk).input)&&k.value==O.talk&&_(p).length-1==Y?(a(),i("div",Ia,[(f(O.talk).options||f(O.talk).input)&&O.talk==k.value?(a(),i("div",Aa,[(a(!0),i($,null,V(f(O.talk).options,(se,pe)=>(a(),i("div",{class:"max-w-[50%] btn bg-primary btn-sm animate__animated animate__pulse animate__slow normal-case h-auto",onClick:_i=>J(O.talk,pe,se)},[w(R,{item:se[0],blockid:e.blockid+"-chatbot-userinput-"+pe},null,8,["item","blockid"])],8,Ta))),256)),f(O.talk).input?(a(),i("div",La,[W(c("input",{class:"input input-bordered w-full text-dark",type:"text","onUpdate:modelValue":se=>_(o).inputsobj[f(O.talk).input[0]]=se,placeholder:f(O.talk).input[1]},null,8,Oa),[[Z,_(o).inputsobj[f(O.talk).input[0]]]]),c("div",{class:"btn bg-primary btn-sm animate__animated animate__pulse animate__infinite animate__slow normal-case",onClick:se=>B(O.talk,f(O.talk).input)},[w(U,null,{default:M(()=>[Ea]),_:1})],8,za)])):I("",!0)])):I("",!0)])):I("",!0)],64))),256)),r.value?(a(),i("div",ja,[c("div",{class:"mr-2 btn btn-sm animate__animated animate__pulse animate__infinite animate__slow my-2",onClick:G},"Reiniciar"),c("div",{class:"btn btn-accent btn-wide animate__animated animate__pulse animate__infinite animate__slow my-2",onClick:E},"Siguiente")])):I("",!0),v.value?(a(),i("div",Ba,Fa)):I("",!0)]),_:1},512)])])])}}},Pa=["id"],Na=A("touch_app"),Ae={props:{data:Object,blockid:String},setup(e){return(t,l)=>(a(),i("div",{class:z(["card bg-base-100 shadow-xl",[e.data.class]]),id:e.data.id},[c("div",{class:z(["card-body text-gray-700",["min-h-[3rem]",e.data.classBody||"px-2 py-4"]])},[(a(!0),i($,null,V(e.data.content,(o,n)=>(a(),y(R,{item:o,blockid:e.blockid+"-card-"+n},null,8,["item","blockid"]))),256)),e.data.clickable?(a(),y(U,{key:0,class:"absolute top-0 left-1/2 transform -translate-x-1/2 text-xs text-gray-300"},{default:M(()=>[Na]),_:1})):I("",!0)],2)],10,Pa))}},Ra={class:"card-body p-3 flex justify-center items-center flex-col"},Ha=A("pan_tool"),Ua={key:0,class:"feedbackDragItem"},Ga={props:{data:Object,blockid:String},emits:"completed",setup(e,{emit:t}){const l=e,o=x("Audios"),n=x("statusFile"),s=x("blocked"),r=b(),d=b(null),u=ae(),p=b(),v=b(),k=b(null),g=()=>{if(n.value.finalize)return G(),!1;if(s)return!1;v.value=document.querySelectorAll(l.data.dropzone),p.value=r.value.parentElement,Draggable.create(r.value,{type:"x,y",zIndexBoost:2,bounds:l.data.bounds,onDrag:function(S){f(S,this)},onClick:function(S){T(S,this)},onDragEnd:function(S){j(S,this)}}),E()},f=(S,F)=>{p.value.isEqualNode(F.target.parentElement)||F.endDrag();for(var m=0;m<v.value.length;m++){var h=v.value[m];if(F.hitTest(h,"40%"))return l.data.hover&&h.classList.add(...l.data.hover.split(" ")),k.value=h,!1;l.data.hover&&h.classList.remove(...l.data.hover.split(" ")),k.value=null}},T=(S,F)=>{if(n.value.finalize||p.value.isEqualNode(F.target.parentElement))return!1;o.scancel.play(),B(F.target.parentElement),p.value.append(F.target),TweenLite.to(F.target,.2,{x:0,y:0}),D(),N()},D=()=>{d.value=!l.data.correctId};D();const P=()=>{l.data.correctId&&l.data.correctId!=""?d.value=r.value.parentElement.matches(l.data.correctId):d.value=!0,t("completed",d.value)},j=(S,F)=>{for(var m=0;m<v.value.length;m++){if(k.value){if(TweenLite.to(F.target,0,{x:0,y:0}),l.data.hover&&k.value.classList.remove(...l.data.hover.split(" ")),!J(k.value))return!1;l.data.dropzoneClass&&k.value.classList.add(...l.data.dropzoneClass.split(" ")),k.value.append(F.target),L(k.value),P(),k.value=null,o.sBlockDrag.play()}TweenLite.to(F.target,.2,{x:0,y:0})}N()},L=S=>{if(!S.hasAttribute("data-dropzoneitems"))S.setAttribute("data-dropzoneitems",1);else{var F=parseInt(S.getAttribute("data-dropzoneitems"));S.setAttribute("data-dropzoneitems",F+1)}},J=S=>{var F=!0;if(S.hasAttribute("data-dropzoneitems")&&l.data.dropzoneItems){var m=parseInt(S.getAttribute("data-dropzoneitems"));console.log("hasAttr",l.data.dropzoneItems,m),l.data.dropzoneItems<=m&&(F=!1)}return F},B=S=>{var F=parseInt(S.getAttribute("data-dropzoneitems"));S.setAttribute("data-dropzoneitems",F-1),l.data.dropzoneClass&&S.classList.remove(...l.data.dropzoneClass.split(" "))};te(()=>{g()});const G=()=>{r.value.classList.add(d.value?"isok":"notok"),n.value.result[l.blockid]=d.value},E=()=>{if(n.value.answers[l.blockid]){const S=n.value.answers[l.blockid];document.querySelector("#"+S).append(r.value),l.data.dropzoneClass&&r.value.parentElement.classList.add(...l.data.dropzoneClass.split(" ")),L(r.value.parentElement),P()}else n.value.answers[l.blockid]=null;n.value.finalize&&G()},N=()=>{n.value.answers[l.blockid]=r.value.parentElement.id};return u.appContext.config.globalProperties.emitter.on("solve",S=>{solve()}),u.appContext.config.globalProperties.emitter.on("finalize",S=>{G()}),(S,F)=>(a(),i($,null,[c("div",{class:z(["dragItem card bg-base-100 text-black rounded-md shadow-xl",[e.data.class]]),ref_key:"block",ref:r},[c("div",Ra,[w(U,{class:"absolute top-0 left-1/2 transform -translate-x-1/2 text-xs text-gray-300"},{default:M(()=>[Ha]),_:1}),(a(!0),i($,null,V(e.data.content,(m,h)=>(a(),y(R,{item:m,blockid:e.blockid+"-dragitem-"+h},null,8,["item","blockid"]))),256))])],2),d.value&&e.data.feedback?(a(),i("div",Ua,[d.value?(a(),y(R,{key:0,item:e.data.feedback[0],blockid:e.blockid+"-dragitem-feedback-ok"},null,8,["item","blockid"])):(a(),y(R,{key:1,item:e.data.feedback[1],blockid:e.blockid+"-dragitem-feedback-error"},null,8,["item","blockid"]))])):I("",!0)],64))}},Te={props:{data:Object},setup(e,{expose:t}){const l=e,o=x("statusFile");ce(()=>o.value,()=>{setTimeout(()=>{s()},250)},{deep:!0});const n=b([]),s=()=>{for(var v in n.value)n.value[v].position()};te(()=>{LeaderLine.positionByWindowResize=!1,document.querySelector(".drawer-content"),document.querySelector(".drawer-content")&&(document.querySelector(".drawer-content").addEventListener("scroll",AnimEvent.add(function(){s()})),window.addEventListener("resize",AnimEvent.add(function(){s()}))),u()});const r=v=>{var k=!1;if(typeof v=="string")k=document.querySelector(v);else{var g={x:v[1],y:v[2]};k=LeaderLine.pointAnchor(document.querySelector(v[0]),g)}return k},d=v=>{var k=!1;return typeof v=="string"?document.querySelector(v)&&(k=!0):document.querySelector(v[0])&&(k=!0),k},u=()=>{for(var v in l.data.connections){const f=l.data.connections[v];if(d(f[0])&&d(f[1])){var k=r(f[0]),g=r(f[1]);n.value[v]=new LeaderLine(k,g,l.data.options),setTimeout(()=>{s()},250)}}};return t({redrawit:()=>{for(var v in n.value)n.value[v].remove();n.value=[],setTimeout(()=>{u(),s()},100)}}),(v,k)=>null}},qa={props:{data:Object,blockid:String},setup(e){const t=e,l=b([]);for(var o in t.data.items){const s=t.data.items[o];for(var n in t.data.properties)s[n]=t.data.properties[n];l.value.push(s)}return(s,r)=>l.value.length>0?(a(!0),i($,{key:0},V(l.value,(d,u)=>(a(),y(R,{item:d,blockid:e.blockid+"-"+u},null,8,["item","blockid"]))),256)):I("",!0)}},Ja={props:{data:Object,blockid:String},setup(e){const t=e,l=x("Audios"),o=f=>{let T=t.data.classItem;return t.data.expansion&&f.child&&(T+=" cursor-pointer animate__animated animate__pulse animate__infinite animate__slower "),T+=" "+(f.class||""),T},n=b(null),s=t.data.mode=="vertical"?"grid-rows-"+t.data.blocks.length:"grid-cols-"+t.data.blocks.length,r=t.data.mode=="vertical"?"":"flex-col",d=b({}),u=b([]);for(var p in t.data.blocks)for(var v in t.data.blocks[p]){let f=t.data.blocks[p][v];if(d.value[f.id]=d.value[f.id]!==!1,f.child)for(var k in f.child)u.value.push(["#"+f.id,"#"+f.child[k]]),d.value[f.child[k]]=!1}const g=f=>{if(f){for(var T in f)d.value[f[T]]=!d.value[f[T]],d.value[f[T]];n.value.redrawit(),l.sBlockSelect.play()}};return(f,T)=>(a(),i($,null,[c("div",{class:z(["grid gap-2",[_(s)]])},[(a(!0),i($,null,V(e.data.blocks,(D,P)=>(a(),i("div",{class:z(["flex gap-2 justify-evenly",[_(r)]])},[(a(!0),i($,null,V(D,(j,L)=>(a(),i($,null,[e.data.expansion&&d.value[j.id]||!e.data.expansion?(a(),y(Ae,{key:0,id:j.id,data:{content:j.content,class:o(j),clickable:j.child},blockid:e.blockid+"-diagram-"+P+"-"+L,onClick:J=>g(j.child)},null,8,["id","data","blockid","onClick"])):I("",!0)],64))),256))],2))),256))],2),w(Te,{data:{line:1,connections:u.value,options:e.data.connectionsOptions},ref_key:"blocklines",ref:n},null,8,["data"])],64))}};const Wa=["id"],Qa={key:0,class:"blockEditorOptions grid gap-1 items-center grid-flow-col"},Xa=["onClick"],Ka={class:"card-body p-2"},Ya=["id"],Za={props:{data:Object,blockid:String},setup(e){const t=e;x("Audios");const l=x("activityFile"),o=x("statusFile"),n=x("blocked"),s=b(null),r=b(),d=ae(),u=b(),p=f=>{var T="ODAS/"+l.id+"/"+f;u.value.blocks.insert("image",{url:T})},v={messages:{ui:{inlineToolbar:{converter:{"Convert to":"Convertir en"}},toolbar:{toolbox:{Add:"A\xF1adir"}},blockTunes:{toggler:{"Click to tune":"Click para seleccionar","or drag to move":"o arrastrar para mover"}}},blockTunes:{delete:{Delete:"Eliminar"},moveUp:{"Move up":"Mover arriba"},moveDown:{"Move down":"Mover abajo"}},toolNames:{Text:"Texto",Heading:"Encabezado",List:"Lista",Warning:"Alerta",Quote:"Cita",Code:"C\xF3digo",Link:"V\xEDnculo",Bold:"Negrita",Italic:"It\xE1lica"},tools:{image:{"Enter a caption":"Pie de imagen"}}}};(()=>{var f=!1,T={};(o.value.finalize||n)&&(f=!0),o.value.answers[t.blockid]?o.value.answers[t.blockid].blocks.length&&(T=o.value.answers[t.blockid]):o.value.answers[t.blockid]=null,u.value=new Je({readOnly:f,data:T,placeholder:"Escribe aqu\xED tu texto",holder:t.blockid+"-editor",tools:{header:We,image:Qe,paragraph:{class:Xe,inlineToolbar:!0}},i18n:v,onChange:()=>{u.value.save().then(D=>{o.value.answers[t.blockid]=D,D.blocks.length>1&&(s.value=D.blocks.length>0)})}})})(),b(!1);const g=()=>{r.value.classList.add(s.value?"isok":"notok"),o.value.result[t.blockid]=s.value,u.value.readOnly.toggle()};return d.appContext.config.globalProperties.emitter.on("finalize",f=>{g()}),(f,T)=>(a(),i("div",{class:z(["blockEditor card bg-white border-4 border-solid border-slate-500 animate__animated",[e.data.class]]),id:e.data.id,ref_key:"block",ref:r},[c("p",null,H(_(o).finalize),1),!_(n)&&!_(o).finalize?(a(),i("div",Qa,[(a(!0),i($,null,V(e.data.imgs,(D,P)=>(a(),i("div",{class:"card bg-white shadow-xl cursor-pointer",onClick:j=>p(D.img)},[c("div",Ka,[w(R,{item:D,blockid:e.blockid+"-editor-option-"+P},null,8,["item","blockid"])])],8,Xa))),256))])):I("",!0),c("div",{class:"card-body text-black",id:e.blockid+"-editor"},null,8,Ya)],10,Wa))}},es=A("replay"),ts={props:{data:Object,blockid:String},emits:["completed"],setup(e,{expose:t,emit:l}){const o=e;x("activityFile");const n=x("path"),s=b(),r=b();lt(s,([{isIntersecting:p}],v)=>{u()});const d=o.data.loop!=null?o.data.loop:!0;te(()=>{r.value=He.loadAnimation({container:s.value,loop:d,autoplay:!1,path:n+o.data.lottie}),r.value.addEventListener("config_ready",function(){o.data.speed&&r.value.setSpeed(o.data.speed),o.data.segment&&r.value.playSegments(o.data.segment,!0),o.data.autoplay&&r.value.play()}),r.value.addEventListener("complete",function(){l("completed")}),r.value.addEventListener("loopComplete",function(){l("completed")})});const u=()=>{r.value.stop(),r.value.play()};return t({replay:u}),(p,v)=>(a(),i("div",{class:z(["blockLottie relative",e.data.class]),ref_key:"block",ref:s},[e.data.noreplaybtn?I("",!0):(a(),i("div",{key:0,class:"btn btn-circle btn-sm absolute bottom-1 right-1 z-10",onClick:u},[w(U,null,{default:M(()=>[es]),_:1})]))],2))}},as={props:{data:Object,blockid:String},setup(e){const t=e;x("activityFile");const o=x("path")+t.data.component,n={moduleCache:{vue:Ke},getFile(r){return fetch(r).then(d=>d.ok?d.text():Promise.reject(d))},addStyle(r){const d=document.createElement("style");d.textContent=r;const u=document.head.getElementsByTagName("style")[0]||null;document.head.insertBefore(d,u)},log(r,...d){console.log(r,...d)}},s=Ne(()=>Ye.exports.loadModule(o,n));return(r,d)=>(a(),y(_(s)))}},ss={key:0,class:"relative w-6 bg-gray-100 rounded"},ls=["innerHTML"],os=["innerHTML"],ns=["id"],is=["innerHTML"],cs={key:1,class:"relative w-6 bg-gray-100"},rs=["innerHTML"],ds={props:{data:Object,blockid:String},setup(e){const t=e,l=b(),o=b(),n=b();return te(()=>{n.value=Ze.JSXGraph.initBoard(t.blockid,de(re({},t.data.options),{showCopyright:!1,showNavigation:!1,pan:{enabled:!0,needShift:!1},zoom:{wheel:!0,needShift:!1,eps:.1,factorX:1.05,factorY:1.05}}));for(var s of t.data.create)n.value.create(...s);o.value.addEventListener("wheel",d=>(d.preventDefault(),d.stopPropagation(),!1));var r=function(){n.value.resizeContainer(o.value.clientWidth,o.value.clientHeight,!1),n.value.fullUpdate()};window.onresize=r,r()}),(s,r)=>(a(),i("div",{class:z(["blockGraphContainer",["w-full min-h-[10rem] h-auto p-2 bg-white my-5 flex  justify-center",t.class]])},[e.data.tags&&e.data.tags.left?(a(),i("div",ss,[c("div",{class:"-rotate-90 text-xs origin-top-left leading-5 w-auto absolute left-0 bottom-0 whitespace-nowrap",innerHTML:e.data.tags.left},null,8,ls)])):I("",!0),c("div",{class:"flex-grow",ref_key:"blockContainer",ref:o},[e.data.tags&&e.data.tags.top?(a(),i("div",{key:0,class:"text-xs bg-gray-100 p-1",innerHTML:e.data.tags.top},null,8,os)):I("",!0),c("div",{class:z(["blockGraph",["w-full h-40"]]),ref_key:"block",ref:l,id:e.blockid},null,8,ns),e.data.tags&&e.data.tags.bottom?(a(),i("div",{key:1,class:"text-xs bg-gray-100 p-1",innerHTML:e.data.tags.bottom},null,8,is)):I("",!0)],512),e.data.tags&&e.data.tags.right?(a(),i("div",cs,[c("div",{class:"-rotate-90 text-xs origin-top-left leading-5 w-auto absolute left-0 bottom-0 whitespace-nowrap",innerHTML:e.data.tags.right},null,8,rs)])):I("",!0)],2))}},us={props:{data:Object},setup(e){const t=e,l=document.querySelector(t.data.selector);return console.log(t.data),t.data.removeClass&&l.classList.remove(...t.data.removeClass.split(" ")),t.data.addClass&&l.classList.add(...t.data.addClass.split(" ")),(o,n)=>null}},vs=["id"],bs={class:"blockSlidesSlides"},ms={key:0,class:"blockSlides-slide"},ks={class:"blockSlidesNav mt-3"},_s={class:"flex justify-center items-center"},fs=A("navigate_before"),ps=c("span",null,"Anterior",-1),gs=A("Siguiente"),hs=A("navigate_next"),ys={props:{data:Object,blockid:String},setup(e){const t=e;x("activityFile");const l=b(0),o=n=>{n==1?l.value+1<t.data.content.length&&(l.value+=n):l.value-1>=0&&(l.value+=n)};return(n,s)=>(a(),i("div",{class:z(["blockSlides",e.data.class]),id:e.data.id},[c("div",bs,[(a(!0),i($,null,V(e.data.content,(r,d)=>(a(),y(ke,{name:"slide",mode:"out-in",appear:""},{default:M(()=>[d==l.value?(a(),i("div",ms,[w(R,{item:r,blockid:e.blockid+"-"+d},null,8,["item","blockid"])])):I("",!0)]),_:2},1024))),256))]),c("div",ks,[c("div",_s,[c("button",{class:z(["btn btn-sm mr-1",l.value==0?"btn-disabled":""]),onClick:s[0]||(s[0]=r=>o(-1))},[w(U,null,{default:M(()=>[fs]),_:1}),ps],2),(a(!0),i($,null,V(e.data.content,(r,d)=>(a(),i("div",{class:z(["w-4 h-4 mx-1 rounded",l.value==d?"bg-teal-400 animate__animated animate__bounce":"bg-gray-200"])},null,2))),256)),c("button",{class:z(["btn btn-sm ml-1",[l.value==e.data.content.length-1?"btn-disabled":""]]),onClick:s[1]||(s[1]=r=>o(1))},[gs,w(U,null,{default:M(()=>[hs]),_:1})],2)])])],10,vs))}},xs=A("play_circle"),$s=A("stop_circle"),ws={class:"bg-primary w-40 p-1 rounded ml-1"},Ss={props:{data:Object,blockid:String},setup(e){const t=e,l=b(null),o=ot(l),n=x("path"),s=b(!1),r=b(0),d=new ee({source:n+t.data.audio,loop:t.data.loop||!1}),u=()=>{d.stop(),s.value=!1,setTimeout(()=>{r.value=0},100)},p=async()=>{s.value=!0,v(),await d.play(),s.value=!1},v=()=>{let k=0,g=setInterval(()=>{k+=10,r.value=Math.round(k/d.duration*100),s.value==!1&&clearInterval(g)},10)};return ce(()=>o.value,()=>{t.data.autoplay&&o.value&&p()}),t.data.autoplay&&(console.log(o.value),o.value&&p()),(k,g)=>(a(),i("div",{class:z(["blockAudio animate__animated animate__bounce animate__delay-3s flex justify-center items-center",[e.data.class,"bg-gray-200 rounded p-2 w-fit mx-auto"]]),style:X([e.data.style]),ref_key:"block",ref:l},[s.value?I("",!0):(a(),i("div",{key:0,class:"btn",onClick:p},[w(U,null,{default:M(()=>[xs]),_:1})])),s.value?(a(),i("div",{key:1,class:"btn",onClick:u},[w(U,null,{default:M(()=>[$s]),_:1})])):I("",!0),c("div",ws,[c("div",{class:"h-2 rounded bg-white",style:X("width:"+r.value+"%;")},null,4)])],6))}};const Cs=["innerHTML"],Is={props:{data:Object},setup(e){const t=e,l=x("path"),o=b(),n=b(null);return(async()=>{const r=await we.get(l+t.data.svg);n.value=r.data})(),(r,d)=>(a(),i("div",{class:"blockSvg",ref_key:"block",ref:o,innerHTML:n.value},null,8,Cs))}},As=["src","id"],Ts={props:{data:Object},setup(e){x("activityFile");const t=x("path");return(l,o)=>(a(),i("iframe",{class:z(["blockIframe w-full h-full",e.data.class]),src:_(t)+e.data.iframe,id:e.data.id},null,10,As))}},Ls=["innerHTML"],Os=["innerHTML"],zs=["innerHTML"],Es={key:4,class:"my-2"},js=["innerHTML"],Bs=["innerHTML","id"],Ms={key:41},R={props:{item:[Object,String],blockid:String},emits:["completed"],setup(e,{emit:t}){const l=e,o=x("activityFile"),n=x("statusFile"),s=b(l.item);if(s.value.symbol){let d=s.value.symbol,u=o.symbols[d];for(var r in u)s.value[r]=u[r]}return s.value.shuffle&&(s.value[s.value.shuffle]=ie.shuffle(s.value[s.value.shuffle])),(d,u)=>typeof s.value=="string"?(a(),i("span",{key:0,innerHTML:s.value},null,8,Ls)):s.value.variable?(a(),i("span",{key:1,innerHTML:_(n).answers[s.value.variable]},null,8,Os)):s.value.variableR?(a(),i("span",{key:2,innerHTML:_(n).result[s.value.variableR]},null,8,zs)):s.value.br?(a(!0),i($,{key:3},V(s.value.br,(p,v)=>(a(),i("br"))),256)):s.value.hr?(a(),i("hr",Es)):s.value.span?(a(),i("span",{key:5,innerHTML:s.value.span,class:z([s.value.class])},null,10,js)):s.value.html?(a(),i("div",{key:6,innerHTML:s.value.html,class:z(s.value.class),id:s.value.id},null,10,Bs)):s.value.icon?(a(),y(oa,{key:7,data:s.value},null,8,["data"])):s.value.text?(a(),y(sa,{data:s.value,key:e.blockid},null,8,["data"])):s.value.textAnimation?(a(),y(ua,{data:s.value,key:e.blockid},null,8,["data"])):s.value.instruction?(a(),y(ia,{data:s.value,key:e.blockid},null,8,["data"])):s.value.inst?(a(),y(ra,{data:s.value,key:e.blockid},null,8,["data"])):s.value.term?(a(),y(Pt,{key:12,data:s.value},null,8,["data"])):s.value.img?(a(),y(Bt,{key:13,data:s.value},null,8,["data"])):s.value.math?(a(),y(bt,{key:14,data:s.value},null,8,["data"])):s.value.dragdrop?(a(),y(St,{key:15,data:s.value,blockid:e.blockid},null,8,["data","blockid"])):s.value.sortable?(a(),y(ea,{key:16,data:s.value,blockid:e.blockid},null,8,["data","blockid"])):s.value.select?(a(),y(Ot,{key:17,data:s.value,blockid:e.blockid},null,8,["data","blockid"])):s.value.chart?(a(),y(Nt,{key:18,data:s.value,blockid:e.blockid},null,8,["data","blockid"])):s.value.dialog?(a(),y(Le,{key:19,data:s.value,blockid:e.blockid},null,8,["data","blockid"])):s.value.plot?(a(),y(Rt,{key:20,data:s.value,blockid:e.blockid},null,8,["data","blockid"])):s.value.grid?(a(),y(Gt,{key:21,data:s.value,blockid:e.blockid},null,8,["data","blockid"])):s.value.group?(a(),y(Jt,{key:22,data:s.value,blockid:e.blockid},null,8,["data","blockid"])):s.value.input?(a(),y(ba,{key:23,data:s.value,blockid:e.blockid},null,8,["data","blockid"])):s.value.colorize?(a(),y(_a,{key:24,data:s.value,blockid:e.blockid},null,8,["data","blockid"])):s.value.css?(a(),y(fa,{key:25,data:s.value,blockid:e.blockid},null,8,["data","blockid"])):s.value.chatbot?(a(),y(Va,{key:26,data:s.value,blockid:e.blockid},null,8,["data","blockid"])):s.value.card?(a(),y(Ae,{key:27,data:s.value,blockid:e.blockid},null,8,["data","blockid"])):s.value.drag?(a(),y(Ga,{key:28,data:s.value,blockid:e.blockid},null,8,["data","blockid"])):s.value.line?(a(),y(Te,{key:29,data:s.value},null,8,["data"])):s.value.repeater?(a(),y(qa,{key:30,data:s.value,blockid:e.blockid},null,8,["data","blockid"])):s.value.diagram?(a(),y(Ja,{key:31,data:s.value,blockid:e.blockid},null,8,["data","blockid"])):s.value.editor?(a(),y(Za,{key:32,data:s.value,blockid:e.blockid},null,8,["data","blockid"])):s.value.component?(a(),y(as,{key:33,data:s.value,blockid:e.blockid},null,8,["data","blockid"])):s.value.lottie?(a(),y(ts,{key:34,data:s.value,blockid:e.blockid,onCompleted:u[0]||(u[0]=p=>t("completed"))},null,8,["data","blockid"])):s.value.graph?(a(),y(ds,{key:35,data:s.value,blockid:e.blockid},null,8,["data","blockid"])):s.value.classlist?(a(),y(us,{key:36,data:s.value,blockid:e.blockid},null,8,["data","blockid"])):s.value.slides?(a(),y(ys,{key:37,data:s.value,blockid:e.blockid},null,8,["data","blockid"])):s.value.audio?(a(),y(Ss,{key:38,data:s.value,blockid:e.blockid},null,8,["data","blockid"])):s.value.svg?(a(),y(Is,{key:39,data:s.value,blockid:e.blockid},null,8,["data","blockid"])):s.value.iframe?(a(),y(Ts,{key:40,data:s.value,blockid:e.blockid},null,8,["data","blockid"])):s.value.inputsobj?(a(),i("span",Ms,H(_(n).inputsobj[s.value.inputsobj]),1)):I("",!0)}},Ds={props:{states:Array,data:Object,blockid:String},setup(e,{expose:t}){const l=e,o=b({});for(var n of l.states)o.value[n]=!1;return t({state:r=>{o.value[r]=!0,console.log(r,"true")}}),(r,d)=>{const u=le("BlocksRenderer");return a(!0),i($,null,V(o.value,(p,v)=>(a(),i($,null,[p&&e.data[v]?(a(),y(u,{key:0,item:e.data[v],blockid:e.blockid+"-"+v},null,8,["item","blockid"])):I("",!0)],64))),256)}}};const Fs=["id"],Vs=["id"],Ps={class:"modal"},Ns=A("close"),Rs={class:"ma-1 pt-5"},Hs={props:{data:Object,blockid:String,hidesmenu:Boolean},setup(e){const t=e,l=b(null),o=x("Audios"),n=x("hidemenu"),s=b(!1),r=b();nt(l,p=>{s.value&&u()});const d=()=>{r.value&&r.value.state("opened");let p=0;t.data.timeout&&(p=t.data.timeout),o.sopen.play(),setTimeout(()=>{s.value=!0,t.hidesmenu&&(n.value=!0)},p)},u=()=>{r.value&&r.value.state("closed"),s.value=!1,o.sclose.play(),t.hidesmenu&&(n.value=!1)};return(p,v)=>{const k=le("perfect-scrollbar");return a(),i($,null,[c("div",{class:z(["blockDialog",[e.data.class]]),style:X([e.data.style]),id:e.data.id},[c("button",{class:z(["animate__animated animate__heartBeat animate__slower",e.data.buttonClass]),onClick:d},[(a(!0),i($,null,V(e.data.button,(g,f)=>(a(),y(R,{item:g,blockid:e.blockid+"-button-"+f},null,8,["item","blockid"]))),256))],2),W(c("input",{class:"modal-toggle",type:"checkbox",id:e.blockid,"onUpdate:modelValue":v[0]||(v[0]=g=>s.value=g)},null,8,Vs),[[ue,s.value]]),c("div",Ps,[c("div",{class:z(["modal-box bg-white text-primary",[e.data.modalClass]]),ref_key:"itemBox",ref:l},[c("label",{class:"btn btn-sm btn-circle absolute right-2 top-2",onClick:u},[w(U,null,{default:M(()=>[Ns]),_:1})]),c("div",Rs,[w(k,null,{default:M(()=>[(a(!0),i($,null,V(e.data.content,(g,f)=>(a(),y(R,{item:g,blockid:e.blockid+"-content-"+f},null,8,["item","blockid"]))),256))]),_:1})])],2)])],14,Fs),e.data.states?(a(),y(Ds,{key:"state",states:["opened","closed"],data:e.data.states,ref_key:"states",ref:r,blockid:e.blockid+"-state"},null,8,["data","blockid"])):I("",!0)],64)}}};var Le=Q(Hs,[["__scopeId","data-v-9dc4c844"]]);const Us={class:"FichaTecnica"},Gs={props:{},setup(e){const t=x("activityFile"),l='<div class="tooltip" data-tip="Ficha t\xE9cnica"> <img src="assets/icons/'+t.programa+'/ico-ficha-tecnica.png" class="w-12"> </div>',o=b([]);var n='<table class="table bg-white table-fixed table-zebra">',s=[],r="</table>";for(var d in t.ficha)s.push(' <tr> <td class="bg-white text-bold text-xl max-w-sm break-normal whitespace-normal">'+t.ficha[d][0]+'</td><td class="text-lg font-light max-w-sm break-normal whitespace-normal bg-white">'+t.ficha[d][1]+"</td></tr>");o.value.push({html:n+s.join("")+r});const u={button:{html:l},buttonClass:"",content:[{text:"Ficha t\xE9cnica",class:"text-4xl text-center",align:"center"},{group:1,content:o.value}]};return(p,v)=>(a(),i("div",Us,[w(Le,{data:u,hidesmenu:!0})]))}};var qs=Q(Gs,[["__scopeId","data-v-15be3474"]]);const Js={class:"activitybgcontainer"},Ws={key:0,class:"ActBG"},Qs={props:{speed:Number},setup(e){const t=e,l=x("activityFile"),o=t.speed?t.speed:6e3,n=b(1);return setInterval(()=>{n.value<l.bgimgs?n.value++:n.value=1},o),(s,r)=>(a(),i("div",Js,[(a(!0),i($,null,V(_(l).bgimgs,(d,u)=>(a(),y(ke,{name:"fadebg",mode:"out-in"},{default:M(()=>[n.value==u+1?(a(),i("div",Ws,[c("div",{class:"ActivityBG",style:X("background-image:url(ODAS/"+_(l).id+"/bg/bg"+(u+1)+".jpg)")},null,4)])):I("",!0)]),_:2},1024))),256))]))}};var Oe=Q(Qs,[["__scopeId","data-v-1545a117"]]),Xs="/assets/icons/Montenegro-icon.svg",Ks="/assets/icons/Montenegro.svg";const Ys={key:0,src:Xs},Zs={key:1,src:Ks},el={props:{logo:{type:Boolean,default:!1}},setup(e){const t=b(!0);return(()=>{t.value=!1,setTimeout(()=>{t.value=!0},2e3)})(),(o,n)=>(a(),i("div",{class:z(["montenegroIcon",e.logo?"logo":"icon"]),duration:{enter:1e3,leave:3e3},appear:""},[e.logo?(a(),i("img",Zs)):(a(),i("img",Ys))],2))}};var ze=Q(el,[["__scopeId","data-v-19718a97"]]);const tl={class:"modal"},al={class:"modal-box relative w-11/12 max-w-5xl"},sl={class:"hero relative"},ll={class:"hero-content text-center relative z-10"},ol={class:"max-w-md text-center"},nl={class:"text-center"},il=["src"],cl={class:"text-xl"},rl={class:"text-4xl font-bold mt-2"},dl={class:"text-lg"},ul={class:"mt-10"},vl={emits:["start"],setup(e,{emit:t}){te(()=>{et.exports.themeChange(!1)});const l=x("activityFile");x("statusFile"),b();const o=b(!0),n=()=>{o.value=!1,t("start")};return(s,r)=>(a(),i($,null,[W(c("input",{class:"modal-toggle",type:"checkbox",id:"my-modal","onUpdate:modelValue":r[0]||(r[0]=d=>o.value=d)},null,512),[[ue,o.value]]),c("div",tl,[c("div",al,[c("div",sl,[c("div",ll,[c("div",ol,[c("div",nl,[c("img",{class:"w-28 mx-auto",src:"assets/icons/"+_(l).programa+"/"+_(l).materia+".png"},null,8,il)]),c("h2",cl,H(_(l).conf.materia),1),c("h1",rl,H(_(l).title),1),c("h3",dl,H(_(l).programa=="DGETI"?"Bachillerato Tecnol\xF3gico":"Bachillerato General"),1),c("div",{class:"mt-10"},[c("button",{class:"btn",onClick:n},"Comenzar")]),c("div",ul,[w(ze,{logo:!0})])])]),w(Oe,{speed:3e3})])])])],64))}};var bl=Q(vl,[["__scopeId","data-v-3d6716f4"]]);const ml={key:0,class:"text-center my-16"},kl={props:{block:Object,blockid:String,islast:Boolean,steps:Boolean},setup(e){const t=e,l=b([]),o=b(!1),n=x("statusFile"),s=x("view"),r=K(()=>({"--block-width":t.block.width||"100%"})),d=t.blockid.split("-"),u=()=>{for(var v in Object.keys(n.value.answers)){var k=Object.keys(n.value.answers)[v];const g=k.split("-");g[0]==d[0]&&g[1]==d[1]&&l.value.push(Object.keys(n.value.answers)[v])}};setTimeout(()=>{u()},1e3),ce(n.value.answers,v=>{p()},{deep:!0});const p=()=>{let v=!0;for(var k in l.value)n.value.answers[l.value[k]]==null&&(v=!1);o.value=v};return setTimeout(function(){p()},1e3),(v,k)=>e.block.content.length?(a(),i("div",{key:0,class:z(["block rounded",[e.block.class]]),style:X(_(r))},[(a(!0),i($,null,V(e.block.content,(g,f)=>(a(),y(R,{item:g,blockid:e.blockid+"-"+f,key:f},null,8,["item","blockid"]))),128)),_(s)?I("",!0):(a(),i("div",ml,[e.steps?(a(),i($,{key:0},[l.value.length>0&&o.value?(a(),i($,{key:0},[e.islast?(a(),i("button",{key:1,class:"btn btn-accent btn-wide",onClick:k[1]||(k[1]=g=>v.$emit("screenNext",1))},"Continuar")):(a(),i("button",{key:0,class:"btn btn-ghost text-white animate__animated animate__tada",onClick:k[0]||(k[0]=g=>v.$emit("stepNext"))},"Siguiente"))],64)):I("",!0)],64)):I("",!0),e.block.buttonNextStep?(a(),i("button",{key:1,class:"btn btn-primary text-white",onClick:k[2]||(k[2]=g=>v.$emit("stepNext"))},H(e.block.buttonNextStep),1)):I("",!0),e.block.buttonNextScreen?(a(),i("button",{key:2,class:"btn btn-accent btn-wide",onClick:k[3]||(k[3]=g=>v.$emit("screenNext",1))},H(e.block.buttonNextScreen),1)):I("",!0)]))],6)):I("",!0)}};const _l={key:0,class:"arrowtransition"},fl={props:{},setup(e){const t=b(!0);return x("Audios").schange.play(),setTimeout(()=>{t.value=!1},1e3),(o,n)=>t.value?(a(),i("div",_l)):I("",!0)}};var pl=Q(fl,[["__scopeId","data-v-23ed7a59"]]);const oe=e=>(xe("data-v-610a60cd"),e=e(),$e(),e),gl={class:"block ScreenBlockEnd"},hl={class:"text-center"},yl={class:"my-6 text-2xl"},xl=A("De un total de "),$l=A(" tienes "),wl={class:"high"},Sl=A("."),Cl=["onClick"],Il={key:1,class:"my-3"},Al=oe(()=>c("span",null,[A("Has contestado todas las preguntas. Verifica tus respuestas y da clic en "),c("strong",null,'"finalizar"'),A(".")],-1)),Tl=[Al],Ll={key:2,class:"my-3"},Ol=oe(()=>c("span",null,"Muy bien. Has llegado al final de la actividad.",-1)),zl=[Ol],El=oe(()=>c("div",{class:"my-6 text-xl"},"\xBFDeseas finalizar?",-1)),jl=oe(()=>c("div",{class:"my-3"},[c("strong",null,"Actividad finalizada.")],-1)),Bl={class:"my-3"},Ml=A("De un total de "),Dl=A(" obtuviste un "),Fl={class:"high"},Vl=A("."),Pl=oe(()=>c("div",{class:"my-3"},"A continuaci\xF3n podr\xE1s ver un res\xFAmen de tus resultados:",-1)),Nl={class:"row wrap"},Rl=["onClick"],Hl=oe(()=>c("div",{class:"my-3"},"Puedes ver tus resultados individuales o repasar los contenidos navegando con el men\xFA de la izquierda.",-1)),Ul=oe(()=>c("div",{class:"my-3"},"Tambi\xE9n puedes reiniciar la actividad:",-1)),Gl={props:{},setup(e){const t=x("Audios"),l=x("activityFile"),o=x("statusFile"),n=x("resultsFile"),s=ae(),r=x("blocked"),d=b(!1),u=f=>{var T=f.split("-"),D=T[0],P=T[1];if(l.screens[D]){var j=l.screens[D].title||"";return j+" > Ejercicio "+P}},p=f=>{var T=f.split("-"),D=T[0],P=T[1];o.value.screen=D*1,o.value.step=P*1},v=K(()=>{var f=o.value.answers,T={tot:"",total:0,unanswered:{},unansweredLength:0};if(f){T.total=Object.keys(f).length;var D={};Object.keys(f).forEach(function(P){var j=f[P];f[P]==null&&(D[P]=j,T.unansweredLength++)}),ie(D).keys().sort().each(function(P){T.unanswered[P]=D[P]})}return T}),k=()=>{o.value.finalize=!0,s.appContext.config.globalProperties.emitter.emit("finalize");for(var f in o.value.result)n.value.total++,o.value.result[f]?n.value.oks++:n.value.errors++;n.value.total&&(n.value.oksPercentage=Math.round(n.value.oks*100/n.value.total),n.value.errorsPercentage=100-n.value.oksPercentage),t.sfinalize.play()};o.value.finalize&&setTimeout(function(){k()},1e3);const g=()=>{d.value=!0;var f=JSON.stringify({reset:!0});window.top.postMessage(f,"*"),setTimeout(()=>{Se(l.id+"_").removeStorageSync("status"),location.reload()},1e3)};return(f,T)=>(a(),i("div",gl,[c("div",hl,[_(o).finalize?(a(),i($,{key:1},[jl,_(n).total>0?(a(),i($,{key:0},[c("div",Bl,[Ml,c("strong",null,H(_(n).total)+" preguntas",1),Dl,c("strong",Fl,H(_(n).oksPercentage)+"% de aciertos",1),Vl]),_(n).errors>0?(a(),i($,{key:0},[Pl,c("div",Nl,[(a(!0),i($,null,V(_(o).result,(D,P)=>(a(),i("div",{class:z(["px-3 ma-1 floatcard my-1",D?"isok":"notok"])},[c("button",{class:"btn btn-sm m-1 ma-1",onClick:j=>p(P)},H(u(P)),9,Rl)],2))),256))])],64)):I("",!0)],64)):(a(),i($,{key:1},[],64)),Hl,!_(r)&&!d.value?(a(),i($,{key:2},[Ul,c("button",{class:"btn btn-accent",onClick:g},"Reiniciar")],64)):I("",!0)],64)):(a(),i($,{key:0},[_(v).unansweredLength?(a(),i($,{key:0},[c("div",yl,[c("span",null,[xl,c("strong",null,H(_(v).total)+" preguntas",1),$l,c("strong",wl,H(_(v).unansweredLength)+" sin contestar",1),Sl])]),(a(!0),i($,null,V(_(v).unanswered,(D,P)=>(a(),i("button",{class:"btn high btn-sm m-1",onClick:j=>p(P)},H(u(P)),9,Cl))),256))],64)):_(v).total>0?(a(),i("div",Il,Tl)):(a(),i("div",Ll,zl)),_(r)?I("",!0):(a(),i($,{key:3},[El,c("div",{class:"my-4"},[c("button",{class:"btn-accent btn-wide important btn-lg",onClick:k},"Finalizar")])],64))],64)),d.value?(a(),y(pl,{key:2})):I("",!0)])]))}};var ql=Q(Gl,[["__scopeId","data-v-610a60cd"]]);const fe=e=>(xe("data-v-68aae306"),e=e(),$e(),e),Jl={class:"theform"},Wl={class:"row"},Ql={class:"field"},Xl=A("ID:"),Kl={class:"field"},Yl=A("Programa:"),Zl=fe(()=>c("span",null,"DGETI",-1)),eo=fe(()=>c("span",null,"DGB ",-1)),to={class:"row"},ao={class:"field"},so=A("Asignatura:"),lo={class:"field"},oo=A("Titulo:"),no={class:"field"},io=A("Aprendizajes:"),co={class:"field"},ro=A("Contenido_central:"),uo={key:0},vo={class:"field in"},bo=A("library_add"),mo={class:"inner"},ko=["onClick"],_o=A("backspace"),fo={class:"field"},po=A("T\xEDtulo: "),go=["onUpdate:modelValue"],ho={class:"field"},yo=A("Icono: "),xo=["onUpdate:modelValue"],$o={class:"field"},wo=A("Steps: "),So=["onUpdate:modelValue"],Co={class:"field"},Io=A("End: "),Ao=["onUpdate:modelValue"],To={key:0},Lo={class:"field in"},Oo=["onClick"],zo=A("library_add"),Eo={class:"inner"},jo=["onClick"],Bo=A("backspace"),Mo={class:"field"},Do=A("Width: "),Fo=["onUpdate:modelValue"],Vo=fe(()=>c("div",null,null,-1)),Po={class:"field in"},No=["onClick"],Ro=["onClick"],Ho=["onClick"],Uo=["onClick"],Go=["onClick"],qo=["onClick"],Jo=["onClick"],Wo=["onClick"],Qo={class:"inner"},Xo=["onClick"],Ko=A("backspace"),Yo={key:0,class:"field multi"},Zo=A("Simple: "),en=["onUpdate:modelValue"],tn={class:"field multi"},an=["onUpdate:modelValue"],sn={class:"field"},ln={class:"thedata"},on={class:"BuilderBar"},nn=A("code"),cn=A("ondemand_video"),rn=A("sync_problem"),dn={props:{},setup(e){const t=b(null),l=b("json"),o={text:"",class:""},n={math:"",size:"2rem"},s={simple:"",text:o,math:n,term:{term:1,t:"",d:""},img:{img:""},dragdrop:{dragdrop:!0,drags:[[n,"val"]],dropsLeft:[["Titulo","val"]],dropsRight:["Titulo","val"]},select:{select:!0,options:[[n,!1],[n,!0]]},br:{br:1},br:{br:1}},r={width:"100%",content:[]},d={title:"",icon:"",steps:!0,end:!1,blocks:[r]},u=b({id:"",programa:"DGETI",materia:"",asignatura:"",title:"",aprendizajes:"",contenidocentral:"",screens:[JSON.parse(JSON.stringify(d)),{title:"Finalizar",icon:"flag",end:!0,content:[]}]}),p=()=>{const j=JSON.parse(JSON.stringify(d));u.value.screens.push(j)},v=j=>{const L=JSON.parse(JSON.stringify(r));u.value.screens[j].blocks.push(L)},k=(j,L,J)=>{const B=JSON.parse(JSON.stringify(s[J]));u.value.screens[j].blocks[L].content.push(B)},g=j=>{u.value.screens.splice(j,1)},f=(j,L)=>{u.value.screens[j].blocks.splice(L,1)},T=(j,L,J)=>{u.value.screens[j].blocks[L].content.splice(J,1)},D=()=>{const j=JSON.parse(t.value);t.value="",u.value=j},P=()=>{navigator.clipboard.writeText(JSON.stringify(u.value,null,"	"))};return(j,L)=>{const J=le("perfect-scrollbar");return a(),i($,null,[w(J,null,{default:M(()=>[c("div",Jl,[c("div",Wl,[c("div",Ql,[Xl,W(c("input",{"onUpdate:modelValue":L[0]||(L[0]=B=>u.value.id=B)},null,512),[[Z,u.value.id]])]),c("div",Kl,[Yl,c("label",null,[W(c("input",{"onUpdate:modelValue":L[1]||(L[1]=B=>u.value.programa=B),placeholder:"programa",type:"radio",value:"DGETI"},null,512),[[ye,u.value.programa]]),Zl]),c("label",null,[W(c("input",{"onUpdate:modelValue":L[2]||(L[2]=B=>u.value.programa=B),placeholder:"programa",type:"radio",value:"DGB"},null,512),[[ye,u.value.programa]]),eo])])]),c("div",to,[c("div",ao,[so,W(c("input",{"onUpdate:modelValue":L[3]||(L[3]=B=>u.value.asignatura=B)},null,512),[[Z,u.value.asignatura]])])]),c("div",lo,[oo,W(c("input",{"onUpdate:modelValue":L[4]||(L[4]=B=>u.value.title=B)},null,512),[[Z,u.value.title]])]),c("div",no,[io,W(c("input",{"onUpdate:modelValue":L[5]||(L[5]=B=>u.value.aprendizajes=B)},null,512),[[Z,u.value.aprendizajes]])]),c("div",co,[ro,W(c("input",{"onUpdate:modelValue":L[6]||(L[6]=B=>u.value.contenidocentral=B)},null,512),[[Z,u.value.contenidocentral]])]),u.value.screens?(a(),i("div",uo,[c("div",vo,[A("Screens ("+H(u.value.screens.length)+"):",1),c("button",{class:"add",onClick:p},[w(U,null,{default:M(()=>[bo]),_:1})])]),(a(!0),i($,null,V(u.value.screens,(B,G)=>(a(),i("div",mo,[c("button",{class:"rm",onClick:E=>g(G)},[w(U,null,{default:M(()=>[_o]),_:1})],8,ko),c("div",fo,[po,W(c("input",{"onUpdate:modelValue":E=>B.title=E},null,8,go),[[Z,B.title]])]),c("div",ho,[yo,W(c("input",{"onUpdate:modelValue":E=>B.icon=E},null,8,xo),[[Z,B.icon]])]),c("div",$o,[wo,W(c("input",{"onUpdate:modelValue":E=>B.steps=E,type:"checkbox"},null,8,So),[[ue,B.steps]])]),c("div",Co,[Io,W(c("input",{"onUpdate:modelValue":E=>B.end=E,type:"checkbox"},null,8,Ao),[[ue,B.end]])]),B.blocks?(a(),i("div",To,[c("div",Lo,[A("Blocks ("+H(B.blocks.length)+"):",1),(a(),i("button",{class:"add",onClick:E=>v(G),key:"addblock"+G},[w(U,null,{default:M(()=>[zo]),_:1})],8,Oo))]),(a(!0),i($,null,V(B.blocks,(E,N)=>(a(),i("div",Eo,[c("button",{class:"rm",onClick:S=>f(G,N)},[w(U,null,{default:M(()=>[Bo]),_:1})],8,jo),c("div",Mo,[Do,W(c("input",{"onUpdate:modelValue":S=>E.width=S},null,8,Fo),[[Z,E.width]])]),Vo,c("div",Po,[A("Content ("+H(E.content.length)+"):",1),c("button",{class:"add",onClick:S=>k(G,N,"simple")},"Simple",8,No),c("button",{class:"add",onClick:S=>k(G,N,"text")},"Text",8,Ro),c("button",{class:"add",onClick:S=>k(G,N,"math")},"Math",8,Ho),c("button",{class:"add",onClick:S=>k(G,N,"term")},"Term",8,Uo),c("button",{class:"add",onClick:S=>k(G,N,"img")},"Img",8,Go),c("button",{class:"add",onClick:S=>k(G,N,"br")},"br",8,qo),c("button",{class:"add",onClick:S=>k(G,N,"dragdrop")},"dragdrop",8,Jo),c("button",{class:"add",onClick:S=>k(G,N,"select")},"select",8,Wo)]),(a(!0),i($,null,V(E.content,(S,F)=>(a(),i("div",Qo,[c("button",{class:"rm",onClick:m=>T(G,N,F)},[w(U,null,{default:M(()=>[Ko]),_:1})],8,Xo),typeof E.content[F]=="string"?(a(),i("div",Yo,[Zo,W(c("input",{"onUpdate:modelValue":m=>E.content[F]=m},null,8,en),[[Z,E.content[F]]])])):(a(!0),i($,{key:1},V(S,(m,h)=>(a(),i("div",tn,[A(H(h),1),typeof E.content[F][h]=="string"?W((a(),i("input",{key:0,"onUpdate:modelValue":C=>E.content[F][h]=C},null,8,an)),[[Z,E.content[F][h]]]):(a(!0),i($,{key:1},V(E.content[F][h],(C,O)=>(a(),i("div",sn,H(O),1))),256))]))),256))]))),256))]))),256))])):I("",!0)]))),256))])):I("",!0)])]),_:1}),w(J,null,{default:M(()=>[c("div",ln,[c("div",on,[c("button",{onClick:L[7]||(L[7]=B=>l.value="json")},[w(U,null,{default:M(()=>[nn]),_:1})]),c("button",{onClick:L[8]||(L[8]=B=>l.value="play")},[w(U,null,{default:M(()=>[cn]),_:1})]),c("button",{onClick:L[9]||(L[9]=B=>l.value="import")},[w(U,null,{default:M(()=>[rn]),_:1})])]),l.value=="json"&&u.value?(a(),y(_(at),{key:0,data:u.value,"show-length":!0,"show-line":!0,"show-select-controller":!0,onClick:P},null,8,["data"])):l.value=="play"?(a(),i($,{key:1},[],64)):l.value=="import"?W((a(),i("textarea",{key:2,"onUpdate:modelValue":L[10]||(L[10]=B=>t.value=B),onChange:D,placeholder:"Import json"},null,544)),[[Z,t.value]]):I("",!0)])]),_:1})],64)}}};var un=Q(dn,[["__scopeId","data-v-68aae306"]]);const vn={class:"area"},bn={class:"p mb-1"},mn=A("donut_large"),kn={class:"progreso"},_n={props:{},setup(e){const t=x("statusFile"),l=K(()=>{var o=t.value.answers,n={total:0,unanswered:0};return o&&(n.total=Object.keys(o).length,Object.keys(o).forEach(function(s){o[s],o[s]==null&&n.unanswered++})),n});return(o,n)=>(a(),i("div",vn,[c("div",bn,[w(U,{class:"text-sm"},{default:M(()=>[mn]),_:1}),A("\xA0Progreso "+H(_(l).total-_(l).unanswered)+" /"+H(_(l).total),1)]),c("div",kn,[c("div",{class:"bar",style:X("width:"+Math.round((_(l).total-_(l).unanswered)/_(l).total*100)+"%")},null,4)])]))}};var fn=Q(_n,[["__scopeId","data-v-2082bade"]]);const pn={key:0,class:"area"},gn=A("auto_awesome"),hn={class:"label"},yn={props:{},setup(e){const t=x("statusFile"),l=x("resultsFile"),o=()=>{const n=l.value.oksPercentage;var s="ok1";switch(!0){case(n<=100&&n>75):s="ok4";break;case(n<=75&&n>50):s="ok3";break;case(n<=50&&n>25):s="ok2";break}return s};return(n,s)=>_(t).finalize?(a(),i("div",pn,[c("h2",{class:z(["puntaje",o()])},[w(U,null,{default:M(()=>[gn]),_:1}),c("span",hn,"\xA0Puntaje: "+H(_(l).oksPercentage)+"%",1)],2)])):I("",!0)}};var xn=Q(yn,[["__scopeId","data-v-7ac64b3a"]]);const $n={class:"menu justify-between rounded w-56 overflow-y-auto p-2 bg-white m-1"},wn={class:"text-center"},Sn=["src"],Cn={class:"text-center"},In={class:"text-sm"},An={class:"text-center"},Tn={class:"text-dark text-lg font-bold mt-2 leading-5"},Ln={class:"flex justify-center my-2"},On=c("hr",{class:"mb-1"},null,-1),zn={class:"menu bg-transparent menu-vertical w-full"},En=["onClick"],jn={class:"ml-1"},Bn=c("hr",{class:"mt-auto"},null,-1),Mn=c("hr",{class:"my-2"},null,-1),Dn={props:{},setup(e){x("blocked");const t=x("activityFile"),l=x("statusFile"),o=n=>{l.value.step=0,l.value.screen=n};return(n,s)=>{const r=le("perfect-scrollbar");return a(),i("div",$n,[c("div",wn,[c("img",{class:"w-12 mx-auto",src:"assets/icons/"+_(t).programa+"/"+_(t).materia+".png"},null,8,Sn)]),c("div",Cn,[c("div",In,H(_(t).conf.materia),1)]),c("div",An,[c("h1",Tn,H(_(t).title),1)]),c("div",Ln,[w(qs)]),On,w(r,{class:"w-full"},{default:M(()=>[c("ul",zn,[(a(!0),i($,null,V(_(t).screens,(d,u)=>(a(),i("li",{class:"mt-1",onClick:p=>o(u)},[c("div",{class:z(["gap-px p-2 leading-5",u==_(l).screen?"active":""])},[w(U,{class:z(["text-sm",u==_(l).screen?"text-white":"text-primary"])},{default:M(()=>[A(H(d.icon),1)]),_:2},1032,["class"]),c("span",jn,H(d.title),1)],2)],8,En))),256))])]),_:1}),Bn,w(fn),w(xn),Mn,w(ze,{class:"mx-auto my-2"})])}}},Fn={class:"fixed p-1 bg-white rounded bottom-1 left-4 lg:left-60 right-7"},Vn={class:"btn-group justify-center"},Pn=A("navigate_before"),Nn=c("span",null,"Anterior",-1),Rn=["onClick"],Hn=A("Siguiente"),Un=A("navigate_next"),Gn={props:{steps:{type:Number,required:!0}},setup(e,{emit:t}){const l=e,o=x("statusFile"),n=x("Audios");b(0);const s=d=>{o.value.step=d,t("stepChanged")},r=d=>{n.sclick.play(),(d==-1&&o.value.step>0||d==1&&o.value.step<l.steps-1)&&(o.value.step+=d,t("stepChanged"))};return(d,u)=>(a(),i("div",Fn,[c("div",Vn,[c("button",{class:z(["btn btn-xs",_(o).step==0?"btn-disabled":""]),onClick:u[0]||(u[0]=p=>r(-1))},[w(U,null,{default:M(()=>[Pn]),_:1}),Nn],2),(a(!0),i($,null,V(e.steps,(p,v)=>(a(),i("button",{class:z(["btn btn-xs",[_(o).step==v?"btn-active":"non-active"]]),onClick:k=>s(v)},H(v+1),11,Rn))),256)),c("button",{class:z(["btn btn-xs",_(o).step==e.steps-1?"btn-disabled":""]),onClick:u[1]||(u[1]=p=>r(1))},[Hn,w(U,null,{default:M(()=>[Un]),_:1})],2)])]))}},qn=["id"],Jn={props:{screenindex:{type:Number},screen:{type:Object,required:!0}},setup(e){const t=e,l=x("activityFile"),o=x("statusFile"),n=x("view");b();const s=K(()=>({"--activity-bg":l.conf.color||"#ffffff"})),r=()=>{o.value.step++},d=u=>n.value?!0:t.screen.steps?o.value.step==u:!0;return ce(()=>o.value.step,(u,p)=>{var v=document.querySelector(".drawer-content");v.scrollTop>0&&(v.scrollTop=0)}),(u,p)=>(a(),i("section",{class:z(["screens m-h-screen relative px-2 pb-2",[_(n)?"desplegado":"","pt-12 lg:pt-4",e.screen.class]]),id:"screen-"+e.screenindex,style:X(_(s))},[e.screen.end?W((a(),y(ql,{key:1},null,512)),[[me,e.screen.end]]):(a(!0),i($,{key:0},V(e.screen.blocks,(v,k)=>(a(),i($,null,[w(ke,{name:"screenfade",mode:"out-in",appear:""}),W(w(kl,{steps:e.screen.steps,id:"block-"+e.screenindex+"-"+k,islast:e.screen.blocks.length-1==k,block:v,onStepNext:r,onScreenNext:p[0]||(p[0]=g=>u.$emit("screenNext",g)),blockid:e.screenindex+"-"+k},null,8,["steps","id","islast","block","blockid"]),[[me,d(k)]])],64))),256)),e.screen.steps&&!_(n)?(a(),y(Gn,{key:2,steps:e.screen.blocks.length},null,8,["steps"])):I("",!0)],14,qn))}},Wn={class:"relative w-full h-full"},Qn={props:{},setup(e){const t=x("activityFile"),l=x("statusFile"),o=x("view"),n=r=>{l.value.step=0,l.value.screen+=r},s=r=>o.value?!0:r==l.value.screen;return(r,d)=>(a(),i("section",Wn,[w(Oe),(a(!0),i($,null,V(_(t).screens,(u,p)=>W((a(),y(Jn,{key:p,screen:u,onScreenNext:n,screenindex:p},null,8,["screen","screenindex"])),[[me,s(p)]])),128))]))}},Xn={class:"drawer drawer-mobile"},Kn=c("input",{class:"drawer-toggle",id:"sidebar",type:"checkbox"},null,-1),Yn={class:"drawer-content"},Zn={class:"z-10 btn btn-sm btn-outline gap-2 drawer-button fixed top-2 left-2 text-xs lg:hidden text-white",for:"sidebar"},ei=A("menu_open"),ti=A("Abrir"),ai={class:"drawer-side"},si={key:0,class:"drawer-overlay",for:"sidebar"},li={props:{},setup(e){x("activityFile");const t=x("hidemenu");return(l,o)=>(a(),i("div",Xn,[Kn,c("div",Yn,[c("label",Zn,[w(U,null,{default:M(()=>[ei]),_:1}),ti]),w(Qn)]),c("div",ai,[_(t)?I("",!0):(a(),i("label",si)),w(Dn)])]))}};const oi={setup(e){const t=x("activityFile"),l=x("statusFile"),o=x("builderFile"),n=s=>{l.value.state=s};return(s,r)=>(a(),i($,null,[_(o)?(a(),y(un,{key:0})):I("",!0),_(t)&&_(l)?(a(),i($,{key:1},[_(l).state=="@intro"?(a(),y(bl,{key:0,onStart:r[0]||(r[0]=d=>n("@activity"))})):_(l).state=="@activity"?(a(),y(li,{key:1})):I("",!0)],64)):I("",!0)],64))}};var ni={install:(e,t)=>{e.component("BlocksRenderer",R)}};function ii(e){return!1}var ci={buildBG:ii},ri={ALGEBRAI:{materia:"A\u0301lgebra",color:"215 52% 42%"},LECTURAEOEI:{materia:"Lectura, Expresio\u0301n Oral y Escrita I",color:"215 52% 42%"},LOGICA:{materia:"Lo\u0301gica",color:"215 52% 42%"},QUIMICAI:{materia:"Qui\u0301mica I",color:"215 52% 42%"},TECNOLOGIASIC:{materia:"Tecnologi\u0301as de la Informacio\u0301n y la Comunicacio\u0301n",color:"215 52% 42%"},BIOLOGIA:{materia:"Biologi\u0301a",color:"359 53% 44%"},ETICA:{materia:"E\u0301tica",color:"359 53% 44%"},GEOMETRIAA:{materia:"Geometri\u0301a Anali\u0301tica",color:"359 53% 44%"},CALCULOI:{materia:"Ca\u0301lculo Integral",color:"130 27% 35%"},CIENCIATSV:{materia:"Ciencia, Tecnologi\u0301a, Sociedad y Valores",color:"130 27% 35%"},FISICAII:{materia:"Fi\u0301sica II",color:"130 27% 35%"}},di={BIOLOGIAI:{materia:"Biolog\xEDa  I",color:""},ESTRUCTURASM:{materia:"Estructura Socioecono\u0301mica de Me\u0301xico",color:""},ETICA:{materia:"E\u0301tica I",color:"307 47% 32%"},FISICAI:{materia:"Fi\u0301sica  I",color:""},GEOGRAFIA:{materia:"Geografi\u0301a",color:""},HISTORIAMI:{materia:"Historia de Me\u0301xico  I",color:""},INFORMATIVAI:{materia:"Informa\u0301tica  I",color:""},LITERATURA:{materia:"Literatura",color:"331 86% 64%"},MATEMATICASI:{materia:"Matema\u0301ticas  I",color:"40 95% 44%"},MATEMATICASIII:{materia:"Matema\u0301ticas  III",color:""},METODOLOGIASII:{materia:"Metodologi\u0301a de la Investigacio\u0301n",color:"248 42% 51%"},QUIMICAI:{materia:"Qui\u0301mica  I",color:"68 73% 38%"},TALLERLRI:{materia:"Taller de Lectura y Redaccio\u0301n  I",color:"206 63% 42%"}},ui={DGETI:ri,DGB:di};const ne=["color: #446699","background: #ddff99","font-size: 9px","padding: 2px 5px","border-radius: 4px"].join(";"),vi=it();ae();var q=Re(oi);q.config.globalProperties.emitter=vi;q.use(tt);q.use(ct);q.use(Ue);q.component("Popper",rt);gsap.registerPlugin(Draggable);q.provide("view",b(!1));q.provide("hidemenu",b(!1));q.use(ni);q.provide("Audios",{sclick:new ee({source:"assets/sounds/click.mp3"}),scancel:new ee({source:"assets/sounds/cancel.mp3"}),sopen:new ee({source:"assets/sounds/open.mp3"}),sclose:new ee({source:"assets/sounds/close.mp3"}),schange:new ee({source:"assets/sounds/change.mp3"}),sBlockSelect:new ee({source:"assets/sounds/blockSelect.mp3"}),sBlockDrag:new ee({source:"assets/sounds/blockDrag.mp3"}),sfinalize:new ee({source:"assets/sounds/end.mp3"}),snotification:new ee({source:"assets/sounds/notification.mp3"}),ssend:new ee({source:"assets/sounds/send.mp3"})});mi();function bi(e){try{JSON.parse(e)}catch{return!1}return!0}async function mi(){const e=window.location.search,t=new URLSearchParams(e),l=t.get("test"),o=t.get("blocked"),n=t.get("oda"),s=t.get("status"),r=t.get("builder");l!=null?(console.log("%c%s",ne,"::TestMode"),q.provide("test",!0)):q.provide("test",!1),o!=null?(console.log("%c%s",ne,"::BLOCKED"),q.provide("blocked",!0)):q.provide("blocked",!1);const u=b({state:"@intro",screen:0,step:0,answers:{},result:{},inputsobj:{},finalize:!1}),p=b({total:0,oks:0,errors:0,oksPercentage:0,errorsPercentage:0});if(q.provide("resultsFile",p),n)try{const g=Se(n+"_"),T=(await we.get("../ODAS/"+n+"/oda.json")).data;T.conf=ui[T.programa][T.materia];const D=T.conf.color;var v=document.querySelector("html");if(v&&v.style.setProperty("--p",D),q.provide("activityFile",T),ci.buildBG(T.conf.color),q.provide("statusFile",u),q.provide("builderFile",!1),q.provide("path","./ODAS/"+T.id+"/"),q.mount("#app"),l!=null){const j=g.getStorageSync("status");if(j){const L=ve.atob(j);if(!L)return!1;const J=JSON.parse(L);if(!J)return!1;u.value=J,console.log("%c%s",ne,"::LoadedData")}}if(s!=null&&s.length>4){const j=ve.atob(s);if(!j)return!1;if(bi(j)){const L=JSON.parse(j);if(!L)return!1;u.value=L,console.log("%c%s",ne,"::UrlData")}else console.log("%c%s",ne,"::WRONG UrlData")}const P=ie.throttle(function(j,L){const J=ve.btoa(JSON.stringify(j.value));g.setStorageSync("status",J),g.setStorageSync("test",j.value);const B={status:J,results:u.value.finalize?p.value:null};var G=JSON.stringify(B);window.top.postMessage(G,"*")},2e3);ce(()=>u,(j,L)=>{if(o!=null)return!1;P(j,L)},{deep:!0}),document.title=T.id+" | "+T.title,l!=null&&(document.title="::TEST:: "+T.id+" | "+T.title)}catch(g){console.log("%c%s",ne,"::Error: "+g);var k=document.getElementById("app");k.innerHTML='<div class="erroroda">ERROR DE CARGA</div>'}else if(r!=null)q.provide("statusFile",!1),q.provide("activityFile",!1),q.provide("builderFile",!0),q.mount("#app");else{var k=document.getElementById("app");k.innerHTML='<div class="erroroda">ODA NO ENCONTRADA</div>'}}const ki=e=>{var t=e.data;typeof t=="string"&&JSON.parse(t)};window.addEventListener("message",ki,!1);window.addEventListener("resize",function(){window.innerWidth<=600&&q.config.globalProperties.emitter.emit("sidebarmini")});
