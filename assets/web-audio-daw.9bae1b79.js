import{a as av}from"./@editorjs.ba2deff0.js";var _a={exports:{}};(function(wa,ov){(function(I,w){wa.exports=w()})(window,function(){return function(ce){var I={};function w(c){if(I[c])return I[c].exports;var U=I[c]={i:c,l:!1,exports:{}};return ce[c].call(U.exports,U,U.exports,w),U.l=!0,U.exports}return w.m=ce,w.c=I,w.d=function(c,U,re){w.o(c,U)||Object.defineProperty(c,U,{enumerable:!0,get:re})},w.r=function(c){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(c,"__esModule",{value:!0})},w.t=function(c,U){if(U&1&&(c=w(c)),U&8||U&4&&typeof c=="object"&&c&&c.__esModule)return c;var re=Object.create(null);if(w.r(re),Object.defineProperty(re,"default",{enumerable:!0,value:c}),U&2&&typeof c!="string")for(var s in c)w.d(re,s,function(E){return c[E]}.bind(null,s));return re},w.n=function(c){var U=c&&c.__esModule?function(){return c.default}:function(){return c};return w.d(U,"a",U),U},w.o=function(c,U){return Object.prototype.hasOwnProperty.call(c,U)},w.p="",w(w.s="./src/main.js")}({"./node_modules/lodash/lodash.js":function(ce,I,w){(function(c,U){var re;/**
* @license
* Lodash <https://lodash.com/>
* Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
* Released under MIT license <https://lodash.com/license>
* Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
* Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
*/(function(){var s,E="4.17.21",R=200,F="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",d="Expected a function",b="Invalid `variable` option passed into `_.template`",x="__lodash_hash_undefined__",g=500,C="__lodash_placeholder__",V=1,ve=2,te=4,k=1,u=2,O=1,B=2,G=4,P=8,S=16,W=32,J=64,he=128,Ee=256,wt=512,Le=30,qt="...",He=800,kt=16,ut=1,Ht=2,Mn=3,st=1/0,at=9007199254740991,_i=17976931348623157e292,Ct=0/0,Ke=4294967295,wi=Ke-1,En=Ke>>>1,l=[["ary",he],["bind",O],["bindKey",B],["curry",P],["curryRight",S],["flip",wt],["partial",W],["partialRight",J],["rearg",Ee]],m="[object Arguments]",L="[object Array]",Z="[object AsyncFunction]",de="[object Boolean]",Se="[object Date]",St="[object DOMException]",Ln="[object Error]",Rn="[object Function]",kr="[object GeneratorFunction]",Je="[object Map]",un="[object Number]",xa="[object Null]",ct="[object Object]",Hr="[object Promise]",Ta="[object Proxy]",sn="[object RegExp]",et="[object Set]",an="[object String]",Pn="[object Symbol]",Aa="[object Undefined]",on="[object WeakMap]",Oa="[object WeakSet]",ln="[object ArrayBuffer]",Kt="[object DataView]",xi="[object Float32Array]",Ti="[object Float64Array]",Ai="[object Int8Array]",Oi="[object Int16Array]",Mi="[object Int32Array]",Ei="[object Uint8Array]",Li="[object Uint8ClampedArray]",Ri="[object Uint16Array]",Pi="[object Uint32Array]",Ma=/\b__p \+= '';/g,Ea=/\b(__p \+=) '' \+/g,La=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Kr=/&(?:amp|lt|gt|quot|#39);/g,Yr=/[&<>"']/g,Ra=RegExp(Kr.source),Pa=RegExp(Yr.source),Ca=/<%-([\s\S]+?)%>/g,Sa=/<%([\s\S]+?)%>/g,Zr=/<%=([\s\S]+?)%>/g,Da=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ia=/^\w*$/,Fa=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ci=/[\\^$.*+?()[\]{}|]/g,Ga=RegExp(Ci.source),Si=/^\s+/,Ba=/\s/,Na=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ua=/\{\n\/\* \[wrapped with (.+)\] \*/,Wa=/,? & /,qa=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ka=/[()=,{}\[\]\/\s]/,Ha=/\\(\\)?/g,Ka=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,zr=/\w*$/,Ya=/^[-+]0x[0-9a-f]+$/i,Za=/^0b[01]+$/i,za=/^\[object .+?Constructor\]$/,ja=/^0o[0-7]+$/i,Xa=/^(?:0|[1-9]\d*)$/,$a=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Cn=/($^)/,Va=/['\n\r\u2028\u2029\\]/g,Sn="\\ud800-\\udfff",Qa="\\u0300-\\u036f",Ja="\\ufe20-\\ufe2f",eo="\\u20d0-\\u20ff",jr=Qa+Ja+eo,Xr="\\u2700-\\u27bf",$r="a-z\\xdf-\\xf6\\xf8-\\xff",to="\\xac\\xb1\\xd7\\xf7",no="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",io="\\u2000-\\u206f",ro=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Vr="A-Z\\xc0-\\xd6\\xd8-\\xde",Qr="\\ufe0e\\ufe0f",Jr=to+no+io+ro,Di="['\u2019]",uo="["+Sn+"]",eu="["+Jr+"]",Dn="["+jr+"]",tu="\\d+",so="["+Xr+"]",nu="["+$r+"]",iu="[^"+Sn+Jr+tu+Xr+$r+Vr+"]",Ii="\\ud83c[\\udffb-\\udfff]",ao="(?:"+Dn+"|"+Ii+")",ru="[^"+Sn+"]",Fi="(?:\\ud83c[\\udde6-\\uddff]){2}",Gi="[\\ud800-\\udbff][\\udc00-\\udfff]",Yt="["+Vr+"]",uu="\\u200d",su="(?:"+nu+"|"+iu+")",oo="(?:"+Yt+"|"+iu+")",au="(?:"+Di+"(?:d|ll|m|re|s|t|ve))?",ou="(?:"+Di+"(?:D|LL|M|RE|S|T|VE))?",lu=ao+"?",fu="["+Qr+"]?",lo="(?:"+uu+"(?:"+[ru,Fi,Gi].join("|")+")"+fu+lu+")*",fo="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",co="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",cu=fu+lu+lo,ho="(?:"+[so,Fi,Gi].join("|")+")"+cu,po="(?:"+[ru+Dn+"?",Dn,Fi,Gi,uo].join("|")+")",vo=RegExp(Di,"g"),go=RegExp(Dn,"g"),Bi=RegExp(Ii+"(?="+Ii+")|"+po+cu,"g"),mo=RegExp([Yt+"?"+nu+"+"+au+"(?="+[eu,Yt,"$"].join("|")+")",oo+"+"+ou+"(?="+[eu,Yt+su,"$"].join("|")+")",Yt+"?"+su+"+"+au,Yt+"+"+ou,co,fo,tu,ho].join("|"),"g"),yo=RegExp("["+uu+Sn+jr+Qr+"]"),bo=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,_o=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],wo=-1,fe={};fe[xi]=fe[Ti]=fe[Ai]=fe[Oi]=fe[Mi]=fe[Ei]=fe[Li]=fe[Ri]=fe[Pi]=!0,fe[m]=fe[L]=fe[ln]=fe[de]=fe[Kt]=fe[Se]=fe[Ln]=fe[Rn]=fe[Je]=fe[un]=fe[ct]=fe[sn]=fe[et]=fe[an]=fe[on]=!1;var le={};le[m]=le[L]=le[ln]=le[Kt]=le[de]=le[Se]=le[xi]=le[Ti]=le[Ai]=le[Oi]=le[Mi]=le[Je]=le[un]=le[ct]=le[sn]=le[et]=le[an]=le[Pn]=le[Ei]=le[Li]=le[Ri]=le[Pi]=!0,le[Ln]=le[Rn]=le[on]=!1;var xo={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},To={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ao={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Oo={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Mo=parseFloat,Eo=parseInt,hu=typeof c=="object"&&c&&c.Object===Object&&c,Lo=typeof self=="object"&&self&&self.Object===Object&&self,Te=hu||Lo||Function("return this")(),du=I&&!I.nodeType&&I,fn=du&&typeof U=="object"&&U&&!U.nodeType&&U,pu=fn&&fn.exports===du,Ni=pu&&hu.process,Ye=function(){try{var p=fn&&fn.require&&fn.require("util").types;return p||Ni&&Ni.binding&&Ni.binding("util")}catch{}}(),vu=Ye&&Ye.isArrayBuffer,gu=Ye&&Ye.isDate,mu=Ye&&Ye.isMap,yu=Ye&&Ye.isRegExp,bu=Ye&&Ye.isSet,_u=Ye&&Ye.isTypedArray;function Be(p,_,y){switch(y.length){case 0:return p.call(_);case 1:return p.call(_,y[0]);case 2:return p.call(_,y[0],y[1]);case 3:return p.call(_,y[0],y[1],y[2])}return p.apply(_,y)}function Ro(p,_,y,N){for(var z=-1,ue=p==null?0:p.length;++z<ue;){var _e=p[z];_(N,_e,y(_e),p)}return N}function Ze(p,_){for(var y=-1,N=p==null?0:p.length;++y<N&&_(p[y],y,p)!==!1;);return p}function Po(p,_){for(var y=p==null?0:p.length;y--&&_(p[y],y,p)!==!1;);return p}function wu(p,_){for(var y=-1,N=p==null?0:p.length;++y<N;)if(!_(p[y],y,p))return!1;return!0}function xt(p,_){for(var y=-1,N=p==null?0:p.length,z=0,ue=[];++y<N;){var _e=p[y];_(_e,y,p)&&(ue[z++]=_e)}return ue}function In(p,_){var y=p==null?0:p.length;return!!y&&Zt(p,_,0)>-1}function Ui(p,_,y){for(var N=-1,z=p==null?0:p.length;++N<z;)if(y(_,p[N]))return!0;return!1}function pe(p,_){for(var y=-1,N=p==null?0:p.length,z=Array(N);++y<N;)z[y]=_(p[y],y,p);return z}function Tt(p,_){for(var y=-1,N=_.length,z=p.length;++y<N;)p[z+y]=_[y];return p}function Wi(p,_,y,N){var z=-1,ue=p==null?0:p.length;for(N&&ue&&(y=p[++z]);++z<ue;)y=_(y,p[z],z,p);return y}function Co(p,_,y,N){var z=p==null?0:p.length;for(N&&z&&(y=p[--z]);z--;)y=_(y,p[z],z,p);return y}function qi(p,_){for(var y=-1,N=p==null?0:p.length;++y<N;)if(_(p[y],y,p))return!0;return!1}var So=ki("length");function Do(p){return p.split("")}function Io(p){return p.match(qa)||[]}function xu(p,_,y){var N;return y(p,function(z,ue,_e){if(_(z,ue,_e))return N=ue,!1}),N}function Fn(p,_,y,N){for(var z=p.length,ue=y+(N?1:-1);N?ue--:++ue<z;)if(_(p[ue],ue,p))return ue;return-1}function Zt(p,_,y){return _===_?Zo(p,_,y):Fn(p,Tu,y)}function Fo(p,_,y,N){for(var z=y-1,ue=p.length;++z<ue;)if(N(p[z],_))return z;return-1}function Tu(p){return p!==p}function Au(p,_){var y=p==null?0:p.length;return y?Ki(p,_)/y:Ct}function ki(p){return function(_){return _==null?s:_[p]}}function Hi(p){return function(_){return p==null?s:p[_]}}function Ou(p,_,y,N,z){return z(p,function(ue,_e,oe){y=N?(N=!1,ue):_(y,ue,_e,oe)}),y}function Go(p,_){var y=p.length;for(p.sort(_);y--;)p[y]=p[y].value;return p}function Ki(p,_){for(var y,N=-1,z=p.length;++N<z;){var ue=_(p[N]);ue!==s&&(y=y===s?ue:y+ue)}return y}function Yi(p,_){for(var y=-1,N=Array(p);++y<p;)N[y]=_(y);return N}function Bo(p,_){return pe(_,function(y){return[y,p[y]]})}function Mu(p){return p&&p.slice(0,Pu(p)+1).replace(Si,"")}function Ne(p){return function(_){return p(_)}}function Zi(p,_){return pe(_,function(y){return p[y]})}function cn(p,_){return p.has(_)}function Eu(p,_){for(var y=-1,N=p.length;++y<N&&Zt(_,p[y],0)>-1;);return y}function Lu(p,_){for(var y=p.length;y--&&Zt(_,p[y],0)>-1;);return y}function No(p,_){for(var y=p.length,N=0;y--;)p[y]===_&&++N;return N}var Uo=Hi(xo),Wo=Hi(To);function qo(p){return"\\"+Oo[p]}function ko(p,_){return p==null?s:p[_]}function zt(p){return yo.test(p)}function Ho(p){return bo.test(p)}function Ko(p){for(var _,y=[];!(_=p.next()).done;)y.push(_.value);return y}function zi(p){var _=-1,y=Array(p.size);return p.forEach(function(N,z){y[++_]=[z,N]}),y}function Ru(p,_){return function(y){return p(_(y))}}function At(p,_){for(var y=-1,N=p.length,z=0,ue=[];++y<N;){var _e=p[y];(_e===_||_e===C)&&(p[y]=C,ue[z++]=y)}return ue}function Gn(p){var _=-1,y=Array(p.size);return p.forEach(function(N){y[++_]=N}),y}function Yo(p){var _=-1,y=Array(p.size);return p.forEach(function(N){y[++_]=[N,N]}),y}function Zo(p,_,y){for(var N=y-1,z=p.length;++N<z;)if(p[N]===_)return N;return-1}function zo(p,_,y){for(var N=y+1;N--;)if(p[N]===_)return N;return N}function jt(p){return zt(p)?Xo(p):So(p)}function tt(p){return zt(p)?$o(p):Do(p)}function Pu(p){for(var _=p.length;_--&&Ba.test(p.charAt(_)););return _}var jo=Hi(Ao);function Xo(p){for(var _=Bi.lastIndex=0;Bi.test(p);)++_;return _}function $o(p){return p.match(Bi)||[]}function Vo(p){return p.match(mo)||[]}var Qo=function p(_){_=_==null?Te:Bn.defaults(Te.Object(),_,Bn.pick(Te,_o));var y=_.Array,N=_.Date,z=_.Error,ue=_.Function,_e=_.Math,oe=_.Object,ji=_.RegExp,Jo=_.String,ze=_.TypeError,Nn=y.prototype,el=ue.prototype,Xt=oe.prototype,Un=_["__core-js_shared__"],Wn=el.toString,ae=Xt.hasOwnProperty,tl=0,Cu=function(){var e=/[^.]+$/.exec(Un&&Un.keys&&Un.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),qn=Xt.toString,nl=Wn.call(oe),il=Te._,rl=ji("^"+Wn.call(ae).replace(Ci,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),kn=pu?_.Buffer:s,Ot=_.Symbol,Hn=_.Uint8Array,Su=kn?kn.allocUnsafe:s,Kn=Ru(oe.getPrototypeOf,oe),Du=oe.create,Iu=Xt.propertyIsEnumerable,Yn=Nn.splice,Fu=Ot?Ot.isConcatSpreadable:s,hn=Ot?Ot.iterator:s,Dt=Ot?Ot.toStringTag:s,Zn=function(){try{var e=Nt(oe,"defineProperty");return e({},"",{}),e}catch{}}(),ul=_.clearTimeout!==Te.clearTimeout&&_.clearTimeout,sl=N&&N.now!==Te.Date.now&&N.now,al=_.setTimeout!==Te.setTimeout&&_.setTimeout,zn=_e.ceil,jn=_e.floor,Xi=oe.getOwnPropertySymbols,ol=kn?kn.isBuffer:s,Gu=_.isFinite,ll=Nn.join,fl=Ru(oe.keys,oe),we=_e.max,Oe=_e.min,cl=N.now,hl=_.parseInt,Bu=_e.random,dl=Nn.reverse,$i=Nt(_,"DataView"),dn=Nt(_,"Map"),Vi=Nt(_,"Promise"),$t=Nt(_,"Set"),pn=Nt(_,"WeakMap"),vn=Nt(oe,"create"),Xn=pn&&new pn,Vt={},pl=Ut($i),vl=Ut(dn),gl=Ut(Vi),ml=Ut($t),yl=Ut(pn),$n=Ot?Ot.prototype:s,gn=$n?$n.valueOf:s,Nu=$n?$n.toString:s;function a(e){if(me(e)&&!j(e)&&!(e instanceof ne)){if(e instanceof je)return e;if(ae.call(e,"__wrapped__"))return Us(e)}return new je(e)}var Qt=function(){function e(){}return function(t){if(!ge(t))return{};if(Du)return Du(t);e.prototype=t;var n=new e;return e.prototype=s,n}}();function Vn(){}function je(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=s}a.templateSettings={escape:Ca,evaluate:Sa,interpolate:Zr,variable:"",imports:{_:a}},a.prototype=Vn.prototype,a.prototype.constructor=a,je.prototype=Qt(Vn.prototype),je.prototype.constructor=je;function ne(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ke,this.__views__=[]}function bl(){var e=new ne(this.__wrapped__);return e.__actions__=De(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=De(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=De(this.__views__),e}function _l(){if(this.__filtered__){var e=new ne(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function wl(){var e=this.__wrapped__.value(),t=this.__dir__,n=j(e),i=t<0,r=n?e.length:0,o=If(0,r,this.__views__),f=o.start,h=o.end,v=h-f,T=i?h:f-1,A=this.__iteratees__,M=A.length,D=0,q=Oe(v,this.__takeCount__);if(!n||!i&&r==v&&q==v)return os(e,this.__actions__);var K=[];e:for(;v--&&D<q;){T+=t;for(var $=-1,Y=e[T];++$<M;){var ee=A[$],ie=ee.iteratee,qe=ee.type,Ce=ie(Y);if(qe==Ht)Y=Ce;else if(!Ce){if(qe==ut)continue e;break e}}K[D++]=Y}return K}ne.prototype=Qt(Vn.prototype),ne.prototype.constructor=ne;function It(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function xl(){this.__data__=vn?vn(null):{},this.size=0}function Tl(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function Al(e){var t=this.__data__;if(vn){var n=t[e];return n===x?s:n}return ae.call(t,e)?t[e]:s}function Ol(e){var t=this.__data__;return vn?t[e]!==s:ae.call(t,e)}function Ml(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=vn&&t===s?x:t,this}It.prototype.clear=xl,It.prototype.delete=Tl,It.prototype.get=Al,It.prototype.has=Ol,It.prototype.set=Ml;function ht(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function El(){this.__data__=[],this.size=0}function Ll(e){var t=this.__data__,n=Qn(t,e);if(n<0)return!1;var i=t.length-1;return n==i?t.pop():Yn.call(t,n,1),--this.size,!0}function Rl(e){var t=this.__data__,n=Qn(t,e);return n<0?s:t[n][1]}function Pl(e){return Qn(this.__data__,e)>-1}function Cl(e,t){var n=this.__data__,i=Qn(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}ht.prototype.clear=El,ht.prototype.delete=Ll,ht.prototype.get=Rl,ht.prototype.has=Pl,ht.prototype.set=Cl;function dt(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Sl(){this.size=0,this.__data__={hash:new It,map:new(dn||ht),string:new It}}function Dl(e){var t=fi(this,e).delete(e);return this.size-=t?1:0,t}function Il(e){return fi(this,e).get(e)}function Fl(e){return fi(this,e).has(e)}function Gl(e,t){var n=fi(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}dt.prototype.clear=Sl,dt.prototype.delete=Dl,dt.prototype.get=Il,dt.prototype.has=Fl,dt.prototype.set=Gl;function Ft(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new dt;++t<n;)this.add(e[t])}function Bl(e){return this.__data__.set(e,x),this}function Nl(e){return this.__data__.has(e)}Ft.prototype.add=Ft.prototype.push=Bl,Ft.prototype.has=Nl;function nt(e){var t=this.__data__=new ht(e);this.size=t.size}function Ul(){this.__data__=new ht,this.size=0}function Wl(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function ql(e){return this.__data__.get(e)}function kl(e){return this.__data__.has(e)}function Hl(e,t){var n=this.__data__;if(n instanceof ht){var i=n.__data__;if(!dn||i.length<R-1)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new dt(i)}return n.set(e,t),this.size=n.size,this}nt.prototype.clear=Ul,nt.prototype.delete=Wl,nt.prototype.get=ql,nt.prototype.has=kl,nt.prototype.set=Hl;function Uu(e,t){var n=j(e),i=!n&&Wt(e),r=!n&&!i&&Pt(e),o=!n&&!i&&!r&&nn(e),f=n||i||r||o,h=f?Yi(e.length,Jo):[],v=h.length;for(var T in e)(t||ae.call(e,T))&&!(f&&(T=="length"||r&&(T=="offset"||T=="parent")||o&&(T=="buffer"||T=="byteLength"||T=="byteOffset")||mt(T,v)))&&h.push(T);return h}function Wu(e){var t=e.length;return t?e[or(0,t-1)]:s}function Kl(e,t){return ci(De(e),Gt(t,0,e.length))}function Yl(e){return ci(De(e))}function Qi(e,t,n){(n!==s&&!it(e[t],n)||n===s&&!(t in e))&&pt(e,t,n)}function mn(e,t,n){var i=e[t];(!(ae.call(e,t)&&it(i,n))||n===s&&!(t in e))&&pt(e,t,n)}function Qn(e,t){for(var n=e.length;n--;)if(it(e[n][0],t))return n;return-1}function Zl(e,t,n,i){return Mt(e,function(r,o,f){t(i,r,n(r),f)}),i}function qu(e,t){return e&&lt(t,xe(t),e)}function zl(e,t){return e&&lt(t,Fe(t),e)}function pt(e,t,n){t=="__proto__"&&Zn?Zn(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Ji(e,t){for(var n=-1,i=t.length,r=y(i),o=e==null;++n<i;)r[n]=o?s:Dr(e,t[n]);return r}function Gt(e,t,n){return e===e&&(n!==s&&(e=e<=n?e:n),t!==s&&(e=e>=t?e:t)),e}function Xe(e,t,n,i,r,o){var f,h=t&V,v=t&ve,T=t&te;if(n&&(f=r?n(e,i,r,o):n(e)),f!==s)return f;if(!ge(e))return e;var A=j(e);if(A){if(f=Gf(e),!h)return De(e,f)}else{var M=Me(e),D=M==Rn||M==kr;if(Pt(e))return cs(e,h);if(M==ct||M==m||D&&!r){if(f=v||D?{}:Ps(e),!h)return v?Of(e,zl(f,e)):Af(e,qu(f,e))}else{if(!le[M])return r?e:{};f=Bf(e,M,h)}}o||(o=new nt);var q=o.get(e);if(q)return q;o.set(e,f),ua(e)?e.forEach(function(Y){f.add(Xe(Y,t,n,Y,e,o))}):ia(e)&&e.forEach(function(Y,ee){f.set(ee,Xe(Y,t,n,ee,e,o))});var K=T?v?br:yr:v?Fe:xe,$=A?s:K(e);return Ze($||e,function(Y,ee){$&&(ee=Y,Y=e[ee]),mn(f,ee,Xe(Y,t,n,ee,e,o))}),f}function jl(e){var t=xe(e);return function(n){return ku(n,e,t)}}function ku(e,t,n){var i=n.length;if(e==null)return!i;for(e=oe(e);i--;){var r=n[i],o=t[r],f=e[r];if(f===s&&!(r in e)||!o(f))return!1}return!0}function Hu(e,t,n){if(typeof e!="function")throw new ze(d);return An(function(){e.apply(s,n)},t)}function yn(e,t,n,i){var r=-1,o=In,f=!0,h=e.length,v=[],T=t.length;if(!h)return v;n&&(t=pe(t,Ne(n))),i?(o=Ui,f=!1):t.length>=R&&(o=cn,f=!1,t=new Ft(t));e:for(;++r<h;){var A=e[r],M=n==null?A:n(A);if(A=i||A!==0?A:0,f&&M===M){for(var D=T;D--;)if(t[D]===M)continue e;v.push(A)}else o(t,M,i)||v.push(A)}return v}var Mt=gs(ot),Ku=gs(tr,!0);function Xl(e,t){var n=!0;return Mt(e,function(i,r,o){return n=!!t(i,r,o),n}),n}function Jn(e,t,n){for(var i=-1,r=e.length;++i<r;){var o=e[i],f=t(o);if(f!=null&&(h===s?f===f&&!We(f):n(f,h)))var h=f,v=o}return v}function $l(e,t,n,i){var r=e.length;for(n=X(n),n<0&&(n=-n>r?0:r+n),i=i===s||i>r?r:X(i),i<0&&(i+=r),i=n>i?0:aa(i);n<i;)e[n++]=t;return e}function Yu(e,t){var n=[];return Mt(e,function(i,r,o){t(i,r,o)&&n.push(i)}),n}function Ae(e,t,n,i,r){var o=-1,f=e.length;for(n||(n=Uf),r||(r=[]);++o<f;){var h=e[o];t>0&&n(h)?t>1?Ae(h,t-1,n,i,r):Tt(r,h):i||(r[r.length]=h)}return r}var er=ms(),Zu=ms(!0);function ot(e,t){return e&&er(e,t,xe)}function tr(e,t){return e&&Zu(e,t,xe)}function ei(e,t){return xt(t,function(n){return yt(e[n])})}function Bt(e,t){t=Lt(t,e);for(var n=0,i=t.length;e!=null&&n<i;)e=e[ft(t[n++])];return n&&n==i?e:s}function zu(e,t,n){var i=t(e);return j(e)?i:Tt(i,n(e))}function Re(e){return e==null?e===s?Aa:xa:Dt&&Dt in oe(e)?Df(e):Zf(e)}function nr(e,t){return e>t}function Vl(e,t){return e!=null&&ae.call(e,t)}function Ql(e,t){return e!=null&&t in oe(e)}function Jl(e,t,n){return e>=Oe(t,n)&&e<we(t,n)}function ir(e,t,n){for(var i=n?Ui:In,r=e[0].length,o=e.length,f=o,h=y(o),v=1/0,T=[];f--;){var A=e[f];f&&t&&(A=pe(A,Ne(t))),v=Oe(A.length,v),h[f]=!n&&(t||r>=120&&A.length>=120)?new Ft(f&&A):s}A=e[0];var M=-1,D=h[0];e:for(;++M<r&&T.length<v;){var q=A[M],K=t?t(q):q;if(q=n||q!==0?q:0,!(D?cn(D,K):i(T,K,n))){for(f=o;--f;){var $=h[f];if(!($?cn($,K):i(e[f],K,n)))continue e}D&&D.push(K),T.push(q)}}return T}function ef(e,t,n,i){return ot(e,function(r,o,f){t(i,n(r),o,f)}),i}function bn(e,t,n){t=Lt(t,e),e=Is(e,t);var i=e==null?e:e[ft(Ve(t))];return i==null?s:Be(i,e,n)}function ju(e){return me(e)&&Re(e)==m}function tf(e){return me(e)&&Re(e)==ln}function nf(e){return me(e)&&Re(e)==Se}function _n(e,t,n,i,r){return e===t?!0:e==null||t==null||!me(e)&&!me(t)?e!==e&&t!==t:rf(e,t,n,i,_n,r)}function rf(e,t,n,i,r,o){var f=j(e),h=j(t),v=f?L:Me(e),T=h?L:Me(t);v=v==m?ct:v,T=T==m?ct:T;var A=v==ct,M=T==ct,D=v==T;if(D&&Pt(e)){if(!Pt(t))return!1;f=!0,A=!1}if(D&&!A)return o||(o=new nt),f||nn(e)?Es(e,t,n,i,r,o):Cf(e,t,v,n,i,r,o);if(!(n&k)){var q=A&&ae.call(e,"__wrapped__"),K=M&&ae.call(t,"__wrapped__");if(q||K){var $=q?e.value():e,Y=K?t.value():t;return o||(o=new nt),r($,Y,n,i,o)}}return D?(o||(o=new nt),Sf(e,t,n,i,r,o)):!1}function uf(e){return me(e)&&Me(e)==Je}function rr(e,t,n,i){var r=n.length,o=r,f=!i;if(e==null)return!o;for(e=oe(e);r--;){var h=n[r];if(f&&h[2]?h[1]!==e[h[0]]:!(h[0]in e))return!1}for(;++r<o;){h=n[r];var v=h[0],T=e[v],A=h[1];if(f&&h[2]){if(T===s&&!(v in e))return!1}else{var M=new nt;if(i)var D=i(T,A,v,e,t,M);if(!(D===s?_n(A,T,k|u,i,M):D))return!1}}return!0}function Xu(e){if(!ge(e)||qf(e))return!1;var t=yt(e)?rl:za;return t.test(Ut(e))}function sf(e){return me(e)&&Re(e)==sn}function af(e){return me(e)&&Me(e)==et}function of(e){return me(e)&&mi(e.length)&&!!fe[Re(e)]}function $u(e){return typeof e=="function"?e:e==null?Ge:typeof e=="object"?j(e)?Ju(e[0],e[1]):Qu(e):ya(e)}function ur(e){if(!Tn(e))return fl(e);var t=[];for(var n in oe(e))ae.call(e,n)&&n!="constructor"&&t.push(n);return t}function lf(e){if(!ge(e))return Yf(e);var t=Tn(e),n=[];for(var i in e)i=="constructor"&&(t||!ae.call(e,i))||n.push(i);return n}function sr(e,t){return e<t}function Vu(e,t){var n=-1,i=Ie(e)?y(e.length):[];return Mt(e,function(r,o,f){i[++n]=t(r,o,f)}),i}function Qu(e){var t=wr(e);return t.length==1&&t[0][2]?Ss(t[0][0],t[0][1]):function(n){return n===e||rr(n,e,t)}}function Ju(e,t){return Tr(e)&&Cs(t)?Ss(ft(e),t):function(n){var i=Dr(n,e);return i===s&&i===t?Ir(n,e):_n(t,i,k|u)}}function ti(e,t,n,i,r){e!==t&&er(t,function(o,f){if(r||(r=new nt),ge(o))ff(e,t,f,n,ti,i,r);else{var h=i?i(Or(e,f),o,f+"",e,t,r):s;h===s&&(h=o),Qi(e,f,h)}},Fe)}function ff(e,t,n,i,r,o,f){var h=Or(e,n),v=Or(t,n),T=f.get(v);if(T){Qi(e,n,T);return}var A=o?o(h,v,n+"",e,t,f):s,M=A===s;if(M){var D=j(v),q=!D&&Pt(v),K=!D&&!q&&nn(v);A=v,D||q||K?j(h)?A=h:ye(h)?A=De(h):q?(M=!1,A=cs(v,!0)):K?(M=!1,A=hs(v,!0)):A=[]:On(v)||Wt(v)?(A=h,Wt(h)?A=oa(h):(!ge(h)||yt(h))&&(A=Ps(v))):M=!1}M&&(f.set(v,A),r(A,v,i,o,f),f.delete(v)),Qi(e,n,A)}function es(e,t){var n=e.length;if(!!n)return t+=t<0?n:0,mt(t,n)?e[t]:s}function ts(e,t,n){t.length?t=pe(t,function(o){return j(o)?function(f){return Bt(f,o.length===1?o[0]:o)}:o}):t=[Ge];var i=-1;t=pe(t,Ne(H()));var r=Vu(e,function(o,f,h){var v=pe(t,function(T){return T(o)});return{criteria:v,index:++i,value:o}});return Go(r,function(o,f){return Tf(o,f,n)})}function cf(e,t){return ns(e,t,function(n,i){return Ir(e,i)})}function ns(e,t,n){for(var i=-1,r=t.length,o={};++i<r;){var f=t[i],h=Bt(e,f);n(h,f)&&wn(o,Lt(f,e),h)}return o}function hf(e){return function(t){return Bt(t,e)}}function ar(e,t,n,i){var r=i?Fo:Zt,o=-1,f=t.length,h=e;for(e===t&&(t=De(t)),n&&(h=pe(e,Ne(n)));++o<f;)for(var v=0,T=t[o],A=n?n(T):T;(v=r(h,A,v,i))>-1;)h!==e&&Yn.call(h,v,1),Yn.call(e,v,1);return e}function is(e,t){for(var n=e?t.length:0,i=n-1;n--;){var r=t[n];if(n==i||r!==o){var o=r;mt(r)?Yn.call(e,r,1):cr(e,r)}}return e}function or(e,t){return e+jn(Bu()*(t-e+1))}function df(e,t,n,i){for(var r=-1,o=we(zn((t-e)/(n||1)),0),f=y(o);o--;)f[i?o:++r]=e,e+=n;return f}function lr(e,t){var n="";if(!e||t<1||t>at)return n;do t%2&&(n+=e),t=jn(t/2),t&&(e+=e);while(t);return n}function Q(e,t){return Mr(Ds(e,t,Ge),e+"")}function pf(e){return Wu(rn(e))}function vf(e,t){var n=rn(e);return ci(n,Gt(t,0,n.length))}function wn(e,t,n,i){if(!ge(e))return e;t=Lt(t,e);for(var r=-1,o=t.length,f=o-1,h=e;h!=null&&++r<o;){var v=ft(t[r]),T=n;if(v==="__proto__"||v==="constructor"||v==="prototype")return e;if(r!=f){var A=h[v];T=i?i(A,v,h):s,T===s&&(T=ge(A)?A:mt(t[r+1])?[]:{})}mn(h,v,T),h=h[v]}return e}var rs=Xn?function(e,t){return Xn.set(e,t),e}:Ge,gf=Zn?function(e,t){return Zn(e,"toString",{configurable:!0,enumerable:!1,value:Gr(t),writable:!0})}:Ge;function mf(e){return ci(rn(e))}function $e(e,t,n){var i=-1,r=e.length;t<0&&(t=-t>r?0:r+t),n=n>r?r:n,n<0&&(n+=r),r=t>n?0:n-t>>>0,t>>>=0;for(var o=y(r);++i<r;)o[i]=e[i+t];return o}function yf(e,t){var n;return Mt(e,function(i,r,o){return n=t(i,r,o),!n}),!!n}function ni(e,t,n){var i=0,r=e==null?i:e.length;if(typeof t=="number"&&t===t&&r<=En){for(;i<r;){var o=i+r>>>1,f=e[o];f!==null&&!We(f)&&(n?f<=t:f<t)?i=o+1:r=o}return r}return fr(e,t,Ge,n)}function fr(e,t,n,i){var r=0,o=e==null?0:e.length;if(o===0)return 0;t=n(t);for(var f=t!==t,h=t===null,v=We(t),T=t===s;r<o;){var A=jn((r+o)/2),M=n(e[A]),D=M!==s,q=M===null,K=M===M,$=We(M);if(f)var Y=i||K;else T?Y=K&&(i||D):h?Y=K&&D&&(i||!q):v?Y=K&&D&&!q&&(i||!$):q||$?Y=!1:Y=i?M<=t:M<t;Y?r=A+1:o=A}return Oe(o,wi)}function us(e,t){for(var n=-1,i=e.length,r=0,o=[];++n<i;){var f=e[n],h=t?t(f):f;if(!n||!it(h,v)){var v=h;o[r++]=f===0?0:f}}return o}function ss(e){return typeof e=="number"?e:We(e)?Ct:+e}function Ue(e){if(typeof e=="string")return e;if(j(e))return pe(e,Ue)+"";if(We(e))return Nu?Nu.call(e):"";var t=e+"";return t=="0"&&1/e==-st?"-0":t}function Et(e,t,n){var i=-1,r=In,o=e.length,f=!0,h=[],v=h;if(n)f=!1,r=Ui;else if(o>=R){var T=t?null:Rf(e);if(T)return Gn(T);f=!1,r=cn,v=new Ft}else v=t?[]:h;e:for(;++i<o;){var A=e[i],M=t?t(A):A;if(A=n||A!==0?A:0,f&&M===M){for(var D=v.length;D--;)if(v[D]===M)continue e;t&&v.push(M),h.push(A)}else r(v,M,n)||(v!==h&&v.push(M),h.push(A))}return h}function cr(e,t){return t=Lt(t,e),e=Is(e,t),e==null||delete e[ft(Ve(t))]}function as(e,t,n,i){return wn(e,t,n(Bt(e,t)),i)}function ii(e,t,n,i){for(var r=e.length,o=i?r:-1;(i?o--:++o<r)&&t(e[o],o,e););return n?$e(e,i?0:o,i?o+1:r):$e(e,i?o+1:0,i?r:o)}function os(e,t){var n=e;return n instanceof ne&&(n=n.value()),Wi(t,function(i,r){return r.func.apply(r.thisArg,Tt([i],r.args))},n)}function hr(e,t,n){var i=e.length;if(i<2)return i?Et(e[0]):[];for(var r=-1,o=y(i);++r<i;)for(var f=e[r],h=-1;++h<i;)h!=r&&(o[r]=yn(o[r]||f,e[h],t,n));return Et(Ae(o,1),t,n)}function ls(e,t,n){for(var i=-1,r=e.length,o=t.length,f={};++i<r;){var h=i<o?t[i]:s;n(f,e[i],h)}return f}function dr(e){return ye(e)?e:[]}function pr(e){return typeof e=="function"?e:Ge}function Lt(e,t){return j(e)?e:Tr(e,t)?[e]:Ns(se(e))}var bf=Q;function Rt(e,t,n){var i=e.length;return n=n===s?i:n,!t&&n>=i?e:$e(e,t,n)}var fs=ul||function(e){return Te.clearTimeout(e)};function cs(e,t){if(t)return e.slice();var n=e.length,i=Su?Su(n):new e.constructor(n);return e.copy(i),i}function vr(e){var t=new e.constructor(e.byteLength);return new Hn(t).set(new Hn(e)),t}function _f(e,t){var n=t?vr(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}function wf(e){var t=new e.constructor(e.source,zr.exec(e));return t.lastIndex=e.lastIndex,t}function xf(e){return gn?oe(gn.call(e)):{}}function hs(e,t){var n=t?vr(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function ds(e,t){if(e!==t){var n=e!==s,i=e===null,r=e===e,o=We(e),f=t!==s,h=t===null,v=t===t,T=We(t);if(!h&&!T&&!o&&e>t||o&&f&&v&&!h&&!T||i&&f&&v||!n&&v||!r)return 1;if(!i&&!o&&!T&&e<t||T&&n&&r&&!i&&!o||h&&n&&r||!f&&r||!v)return-1}return 0}function Tf(e,t,n){for(var i=-1,r=e.criteria,o=t.criteria,f=r.length,h=n.length;++i<f;){var v=ds(r[i],o[i]);if(v){if(i>=h)return v;var T=n[i];return v*(T=="desc"?-1:1)}}return e.index-t.index}function ps(e,t,n,i){for(var r=-1,o=e.length,f=n.length,h=-1,v=t.length,T=we(o-f,0),A=y(v+T),M=!i;++h<v;)A[h]=t[h];for(;++r<f;)(M||r<o)&&(A[n[r]]=e[r]);for(;T--;)A[h++]=e[r++];return A}function vs(e,t,n,i){for(var r=-1,o=e.length,f=-1,h=n.length,v=-1,T=t.length,A=we(o-h,0),M=y(A+T),D=!i;++r<A;)M[r]=e[r];for(var q=r;++v<T;)M[q+v]=t[v];for(;++f<h;)(D||r<o)&&(M[q+n[f]]=e[r++]);return M}function De(e,t){var n=-1,i=e.length;for(t||(t=y(i));++n<i;)t[n]=e[n];return t}function lt(e,t,n,i){var r=!n;n||(n={});for(var o=-1,f=t.length;++o<f;){var h=t[o],v=i?i(n[h],e[h],h,n,e):s;v===s&&(v=e[h]),r?pt(n,h,v):mn(n,h,v)}return n}function Af(e,t){return lt(e,xr(e),t)}function Of(e,t){return lt(e,Ls(e),t)}function ri(e,t){return function(n,i){var r=j(n)?Ro:Zl,o=t?t():{};return r(n,e,H(i,2),o)}}function Jt(e){return Q(function(t,n){var i=-1,r=n.length,o=r>1?n[r-1]:s,f=r>2?n[2]:s;for(o=e.length>3&&typeof o=="function"?(r--,o):s,f&&Pe(n[0],n[1],f)&&(o=r<3?s:o,r=1),t=oe(t);++i<r;){var h=n[i];h&&e(t,h,i,o)}return t})}function gs(e,t){return function(n,i){if(n==null)return n;if(!Ie(n))return e(n,i);for(var r=n.length,o=t?r:-1,f=oe(n);(t?o--:++o<r)&&i(f[o],o,f)!==!1;);return n}}function ms(e){return function(t,n,i){for(var r=-1,o=oe(t),f=i(t),h=f.length;h--;){var v=f[e?h:++r];if(n(o[v],v,o)===!1)break}return t}}function Mf(e,t,n){var i=t&O,r=xn(e);function o(){var f=this&&this!==Te&&this instanceof o?r:e;return f.apply(i?n:this,arguments)}return o}function ys(e){return function(t){t=se(t);var n=zt(t)?tt(t):s,i=n?n[0]:t.charAt(0),r=n?Rt(n,1).join(""):t.slice(1);return i[e]()+r}}function en(e){return function(t){return Wi(ga(va(t).replace(vo,"")),e,"")}}function xn(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Qt(e.prototype),i=e.apply(n,t);return ge(i)?i:n}}function Ef(e,t,n){var i=xn(e);function r(){for(var o=arguments.length,f=y(o),h=o,v=tn(r);h--;)f[h]=arguments[h];var T=o<3&&f[0]!==v&&f[o-1]!==v?[]:At(f,v);if(o-=T.length,o<n)return Ts(e,t,ui,r.placeholder,s,f,T,s,s,n-o);var A=this&&this!==Te&&this instanceof r?i:e;return Be(A,this,f)}return r}function bs(e){return function(t,n,i){var r=oe(t);if(!Ie(t)){var o=H(n,3);t=xe(t),n=function(h){return o(r[h],h,r)}}var f=e(t,n,i);return f>-1?r[o?t[f]:f]:s}}function _s(e){return gt(function(t){var n=t.length,i=n,r=je.prototype.thru;for(e&&t.reverse();i--;){var o=t[i];if(typeof o!="function")throw new ze(d);if(r&&!f&&li(o)=="wrapper")var f=new je([],!0)}for(i=f?i:n;++i<n;){o=t[i];var h=li(o),v=h=="wrapper"?_r(o):s;v&&Ar(v[0])&&v[1]==(he|P|W|Ee)&&!v[4].length&&v[9]==1?f=f[li(v[0])].apply(f,v[3]):f=o.length==1&&Ar(o)?f[h]():f.thru(o)}return function(){var T=arguments,A=T[0];if(f&&T.length==1&&j(A))return f.plant(A).value();for(var M=0,D=n?t[M].apply(this,T):A;++M<n;)D=t[M].call(this,D);return D}})}function ui(e,t,n,i,r,o,f,h,v,T){var A=t&he,M=t&O,D=t&B,q=t&(P|S),K=t&wt,$=D?s:xn(e);function Y(){for(var ee=arguments.length,ie=y(ee),qe=ee;qe--;)ie[qe]=arguments[qe];if(q)var Ce=tn(Y),ke=No(ie,Ce);if(i&&(ie=ps(ie,i,r,q)),o&&(ie=vs(ie,o,f,q)),ee-=ke,q&&ee<T){var be=At(ie,Ce);return Ts(e,t,ui,Y.placeholder,n,ie,be,h,v,T-ee)}var rt=M?n:this,_t=D?rt[e]:e;return ee=ie.length,h?ie=zf(ie,h):K&&ee>1&&ie.reverse(),A&&v<ee&&(ie.length=v),this&&this!==Te&&this instanceof Y&&(_t=$||xn(_t)),_t.apply(rt,ie)}return Y}function ws(e,t){return function(n,i){return ef(n,e,t(i),{})}}function si(e,t){return function(n,i){var r;if(n===s&&i===s)return t;if(n!==s&&(r=n),i!==s){if(r===s)return i;typeof n=="string"||typeof i=="string"?(n=Ue(n),i=Ue(i)):(n=ss(n),i=ss(i)),r=e(n,i)}return r}}function gr(e){return gt(function(t){return t=pe(t,Ne(H())),Q(function(n){var i=this;return e(t,function(r){return Be(r,i,n)})})})}function ai(e,t){t=t===s?" ":Ue(t);var n=t.length;if(n<2)return n?lr(t,e):t;var i=lr(t,zn(e/jt(t)));return zt(t)?Rt(tt(i),0,e).join(""):i.slice(0,e)}function Lf(e,t,n,i){var r=t&O,o=xn(e);function f(){for(var h=-1,v=arguments.length,T=-1,A=i.length,M=y(A+v),D=this&&this!==Te&&this instanceof f?o:e;++T<A;)M[T]=i[T];for(;v--;)M[T++]=arguments[++h];return Be(D,r?n:this,M)}return f}function xs(e){return function(t,n,i){return i&&typeof i!="number"&&Pe(t,n,i)&&(n=i=s),t=bt(t),n===s?(n=t,t=0):n=bt(n),i=i===s?t<n?1:-1:bt(i),df(t,n,i,e)}}function oi(e){return function(t,n){return typeof t=="string"&&typeof n=="string"||(t=Qe(t),n=Qe(n)),e(t,n)}}function Ts(e,t,n,i,r,o,f,h,v,T){var A=t&P,M=A?f:s,D=A?s:f,q=A?o:s,K=A?s:o;t|=A?W:J,t&=~(A?J:W),t&G||(t&=~(O|B));var $=[e,t,r,q,M,K,D,h,v,T],Y=n.apply(s,$);return Ar(e)&&Fs(Y,$),Y.placeholder=i,Gs(Y,e,t)}function mr(e){var t=_e[e];return function(n,i){if(n=Qe(n),i=i==null?0:Oe(X(i),292),i&&Gu(n)){var r=(se(n)+"e").split("e"),o=t(r[0]+"e"+(+r[1]+i));return r=(se(o)+"e").split("e"),+(r[0]+"e"+(+r[1]-i))}return t(n)}}var Rf=$t&&1/Gn(new $t([,-0]))[1]==st?function(e){return new $t(e)}:Ur;function As(e){return function(t){var n=Me(t);return n==Je?zi(t):n==et?Yo(t):Bo(t,e(t))}}function vt(e,t,n,i,r,o,f,h){var v=t&B;if(!v&&typeof e!="function")throw new ze(d);var T=i?i.length:0;if(T||(t&=~(W|J),i=r=s),f=f===s?f:we(X(f),0),h=h===s?h:X(h),T-=r?r.length:0,t&J){var A=i,M=r;i=r=s}var D=v?s:_r(e),q=[e,t,n,i,r,A,M,o,f,h];if(D&&Kf(q,D),e=q[0],t=q[1],n=q[2],i=q[3],r=q[4],h=q[9]=q[9]===s?v?0:e.length:we(q[9]-T,0),!h&&t&(P|S)&&(t&=~(P|S)),!t||t==O)var K=Mf(e,t,n);else t==P||t==S?K=Ef(e,t,h):(t==W||t==(O|W))&&!r.length?K=Lf(e,t,n,i):K=ui.apply(s,q);var $=D?rs:Fs;return Gs($(K,q),e,t)}function Os(e,t,n,i){return e===s||it(e,Xt[n])&&!ae.call(i,n)?t:e}function Ms(e,t,n,i,r,o){return ge(e)&&ge(t)&&(o.set(t,e),ti(e,t,s,Ms,o),o.delete(t)),e}function Pf(e){return On(e)?s:e}function Es(e,t,n,i,r,o){var f=n&k,h=e.length,v=t.length;if(h!=v&&!(f&&v>h))return!1;var T=o.get(e),A=o.get(t);if(T&&A)return T==t&&A==e;var M=-1,D=!0,q=n&u?new Ft:s;for(o.set(e,t),o.set(t,e);++M<h;){var K=e[M],$=t[M];if(i)var Y=f?i($,K,M,t,e,o):i(K,$,M,e,t,o);if(Y!==s){if(Y)continue;D=!1;break}if(q){if(!qi(t,function(ee,ie){if(!cn(q,ie)&&(K===ee||r(K,ee,n,i,o)))return q.push(ie)})){D=!1;break}}else if(!(K===$||r(K,$,n,i,o))){D=!1;break}}return o.delete(e),o.delete(t),D}function Cf(e,t,n,i,r,o,f){switch(n){case Kt:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case ln:return!(e.byteLength!=t.byteLength||!o(new Hn(e),new Hn(t)));case de:case Se:case un:return it(+e,+t);case Ln:return e.name==t.name&&e.message==t.message;case sn:case an:return e==t+"";case Je:var h=zi;case et:var v=i&k;if(h||(h=Gn),e.size!=t.size&&!v)return!1;var T=f.get(e);if(T)return T==t;i|=u,f.set(e,t);var A=Es(h(e),h(t),i,r,o,f);return f.delete(e),A;case Pn:if(gn)return gn.call(e)==gn.call(t)}return!1}function Sf(e,t,n,i,r,o){var f=n&k,h=yr(e),v=h.length,T=yr(t),A=T.length;if(v!=A&&!f)return!1;for(var M=v;M--;){var D=h[M];if(!(f?D in t:ae.call(t,D)))return!1}var q=o.get(e),K=o.get(t);if(q&&K)return q==t&&K==e;var $=!0;o.set(e,t),o.set(t,e);for(var Y=f;++M<v;){D=h[M];var ee=e[D],ie=t[D];if(i)var qe=f?i(ie,ee,D,t,e,o):i(ee,ie,D,e,t,o);if(!(qe===s?ee===ie||r(ee,ie,n,i,o):qe)){$=!1;break}Y||(Y=D=="constructor")}if($&&!Y){var Ce=e.constructor,ke=t.constructor;Ce!=ke&&"constructor"in e&&"constructor"in t&&!(typeof Ce=="function"&&Ce instanceof Ce&&typeof ke=="function"&&ke instanceof ke)&&($=!1)}return o.delete(e),o.delete(t),$}function gt(e){return Mr(Ds(e,s,ks),e+"")}function yr(e){return zu(e,xe,xr)}function br(e){return zu(e,Fe,Ls)}var _r=Xn?function(e){return Xn.get(e)}:Ur;function li(e){for(var t=e.name+"",n=Vt[t],i=ae.call(Vt,t)?n.length:0;i--;){var r=n[i],o=r.func;if(o==null||o==e)return r.name}return t}function tn(e){var t=ae.call(a,"placeholder")?a:e;return t.placeholder}function H(){var e=a.iteratee||Br;return e=e===Br?$u:e,arguments.length?e(arguments[0],arguments[1]):e}function fi(e,t){var n=e.__data__;return Wf(t)?n[typeof t=="string"?"string":"hash"]:n.map}function wr(e){for(var t=xe(e),n=t.length;n--;){var i=t[n],r=e[i];t[n]=[i,r,Cs(r)]}return t}function Nt(e,t){var n=ko(e,t);return Xu(n)?n:s}function Df(e){var t=ae.call(e,Dt),n=e[Dt];try{e[Dt]=s;var i=!0}catch{}var r=qn.call(e);return i&&(t?e[Dt]=n:delete e[Dt]),r}var xr=Xi?function(e){return e==null?[]:(e=oe(e),xt(Xi(e),function(t){return Iu.call(e,t)}))}:Wr,Ls=Xi?function(e){for(var t=[];e;)Tt(t,xr(e)),e=Kn(e);return t}:Wr,Me=Re;($i&&Me(new $i(new ArrayBuffer(1)))!=Kt||dn&&Me(new dn)!=Je||Vi&&Me(Vi.resolve())!=Hr||$t&&Me(new $t)!=et||pn&&Me(new pn)!=on)&&(Me=function(e){var t=Re(e),n=t==ct?e.constructor:s,i=n?Ut(n):"";if(i)switch(i){case pl:return Kt;case vl:return Je;case gl:return Hr;case ml:return et;case yl:return on}return t});function If(e,t,n){for(var i=-1,r=n.length;++i<r;){var o=n[i],f=o.size;switch(o.type){case"drop":e+=f;break;case"dropRight":t-=f;break;case"take":t=Oe(t,e+f);break;case"takeRight":e=we(e,t-f);break}}return{start:e,end:t}}function Ff(e){var t=e.match(Ua);return t?t[1].split(Wa):[]}function Rs(e,t,n){t=Lt(t,e);for(var i=-1,r=t.length,o=!1;++i<r;){var f=ft(t[i]);if(!(o=e!=null&&n(e,f)))break;e=e[f]}return o||++i!=r?o:(r=e==null?0:e.length,!!r&&mi(r)&&mt(f,r)&&(j(e)||Wt(e)))}function Gf(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&ae.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function Ps(e){return typeof e.constructor=="function"&&!Tn(e)?Qt(Kn(e)):{}}function Bf(e,t,n){var i=e.constructor;switch(t){case ln:return vr(e);case de:case Se:return new i(+e);case Kt:return _f(e,n);case xi:case Ti:case Ai:case Oi:case Mi:case Ei:case Li:case Ri:case Pi:return hs(e,n);case Je:return new i;case un:case an:return new i(e);case sn:return wf(e);case et:return new i;case Pn:return xf(e)}}function Nf(e,t){var n=t.length;if(!n)return e;var i=n-1;return t[i]=(n>1?"& ":"")+t[i],t=t.join(n>2?", ":" "),e.replace(Na,`{
/* [wrapped with `+t+`] */
`)}function Uf(e){return j(e)||Wt(e)||!!(Fu&&e&&e[Fu])}function mt(e,t){var n=typeof e;return t=t==null?at:t,!!t&&(n=="number"||n!="symbol"&&Xa.test(e))&&e>-1&&e%1==0&&e<t}function Pe(e,t,n){if(!ge(n))return!1;var i=typeof t;return(i=="number"?Ie(n)&&mt(t,n.length):i=="string"&&t in n)?it(n[t],e):!1}function Tr(e,t){if(j(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||We(e)?!0:Ia.test(e)||!Da.test(e)||t!=null&&e in oe(t)}function Wf(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Ar(e){var t=li(e),n=a[t];if(typeof n!="function"||!(t in ne.prototype))return!1;if(e===n)return!0;var i=_r(n);return!!i&&e===i[0]}function qf(e){return!!Cu&&Cu in e}var kf=Un?yt:qr;function Tn(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Xt;return e===n}function Cs(e){return e===e&&!ge(e)}function Ss(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==s||e in oe(n))}}function Hf(e){var t=vi(e,function(i){return n.size===g&&n.clear(),i}),n=t.cache;return t}function Kf(e,t){var n=e[1],i=t[1],r=n|i,o=r<(O|B|he),f=i==he&&n==P||i==he&&n==Ee&&e[7].length<=t[8]||i==(he|Ee)&&t[7].length<=t[8]&&n==P;if(!(o||f))return e;i&O&&(e[2]=t[2],r|=n&O?0:G);var h=t[3];if(h){var v=e[3];e[3]=v?ps(v,h,t[4]):h,e[4]=v?At(e[3],C):t[4]}return h=t[5],h&&(v=e[5],e[5]=v?vs(v,h,t[6]):h,e[6]=v?At(e[5],C):t[6]),h=t[7],h&&(e[7]=h),i&he&&(e[8]=e[8]==null?t[8]:Oe(e[8],t[8])),e[9]==null&&(e[9]=t[9]),e[0]=t[0],e[1]=r,e}function Yf(e){var t=[];if(e!=null)for(var n in oe(e))t.push(n);return t}function Zf(e){return qn.call(e)}function Ds(e,t,n){return t=we(t===s?e.length-1:t,0),function(){for(var i=arguments,r=-1,o=we(i.length-t,0),f=y(o);++r<o;)f[r]=i[t+r];r=-1;for(var h=y(t+1);++r<t;)h[r]=i[r];return h[t]=n(f),Be(e,this,h)}}function Is(e,t){return t.length<2?e:Bt(e,$e(t,0,-1))}function zf(e,t){for(var n=e.length,i=Oe(t.length,n),r=De(e);i--;){var o=t[i];e[i]=mt(o,n)?r[o]:s}return e}function Or(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var Fs=Bs(rs),An=al||function(e,t){return Te.setTimeout(e,t)},Mr=Bs(gf);function Gs(e,t,n){var i=t+"";return Mr(e,Nf(i,jf(Ff(i),n)))}function Bs(e){var t=0,n=0;return function(){var i=cl(),r=kt-(i-n);if(n=i,r>0){if(++t>=He)return arguments[0]}else t=0;return e.apply(s,arguments)}}function ci(e,t){var n=-1,i=e.length,r=i-1;for(t=t===s?i:t;++n<t;){var o=or(n,r),f=e[o];e[o]=e[n],e[n]=f}return e.length=t,e}var Ns=Hf(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Fa,function(n,i,r,o){t.push(r?o.replace(Ha,"$1"):i||n)}),t});function ft(e){if(typeof e=="string"||We(e))return e;var t=e+"";return t=="0"&&1/e==-st?"-0":t}function Ut(e){if(e!=null){try{return Wn.call(e)}catch{}try{return e+""}catch{}}return""}function jf(e,t){return Ze(l,function(n){var i="_."+n[0];t&n[1]&&!In(e,i)&&e.push(i)}),e.sort()}function Us(e){if(e instanceof ne)return e.clone();var t=new je(e.__wrapped__,e.__chain__);return t.__actions__=De(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function Xf(e,t,n){(n?Pe(e,t,n):t===s)?t=1:t=we(X(t),0);var i=e==null?0:e.length;if(!i||t<1)return[];for(var r=0,o=0,f=y(zn(i/t));r<i;)f[o++]=$e(e,r,r+=t);return f}function $f(e){for(var t=-1,n=e==null?0:e.length,i=0,r=[];++t<n;){var o=e[t];o&&(r[i++]=o)}return r}function Vf(){var e=arguments.length;if(!e)return[];for(var t=y(e-1),n=arguments[0],i=e;i--;)t[i-1]=arguments[i];return Tt(j(n)?De(n):[n],Ae(t,1))}var Qf=Q(function(e,t){return ye(e)?yn(e,Ae(t,1,ye,!0)):[]}),Jf=Q(function(e,t){var n=Ve(t);return ye(n)&&(n=s),ye(e)?yn(e,Ae(t,1,ye,!0),H(n,2)):[]}),ec=Q(function(e,t){var n=Ve(t);return ye(n)&&(n=s),ye(e)?yn(e,Ae(t,1,ye,!0),s,n):[]});function tc(e,t,n){var i=e==null?0:e.length;return i?(t=n||t===s?1:X(t),$e(e,t<0?0:t,i)):[]}function nc(e,t,n){var i=e==null?0:e.length;return i?(t=n||t===s?1:X(t),t=i-t,$e(e,0,t<0?0:t)):[]}function ic(e,t){return e&&e.length?ii(e,H(t,3),!0,!0):[]}function rc(e,t){return e&&e.length?ii(e,H(t,3),!0):[]}function uc(e,t,n,i){var r=e==null?0:e.length;return r?(n&&typeof n!="number"&&Pe(e,t,n)&&(n=0,i=r),$l(e,t,n,i)):[]}function Ws(e,t,n){var i=e==null?0:e.length;if(!i)return-1;var r=n==null?0:X(n);return r<0&&(r=we(i+r,0)),Fn(e,H(t,3),r)}function qs(e,t,n){var i=e==null?0:e.length;if(!i)return-1;var r=i-1;return n!==s&&(r=X(n),r=n<0?we(i+r,0):Oe(r,i-1)),Fn(e,H(t,3),r,!0)}function ks(e){var t=e==null?0:e.length;return t?Ae(e,1):[]}function sc(e){var t=e==null?0:e.length;return t?Ae(e,st):[]}function ac(e,t){var n=e==null?0:e.length;return n?(t=t===s?1:X(t),Ae(e,t)):[]}function oc(e){for(var t=-1,n=e==null?0:e.length,i={};++t<n;){var r=e[t];i[r[0]]=r[1]}return i}function Hs(e){return e&&e.length?e[0]:s}function lc(e,t,n){var i=e==null?0:e.length;if(!i)return-1;var r=n==null?0:X(n);return r<0&&(r=we(i+r,0)),Zt(e,t,r)}function fc(e){var t=e==null?0:e.length;return t?$e(e,0,-1):[]}var cc=Q(function(e){var t=pe(e,dr);return t.length&&t[0]===e[0]?ir(t):[]}),hc=Q(function(e){var t=Ve(e),n=pe(e,dr);return t===Ve(n)?t=s:n.pop(),n.length&&n[0]===e[0]?ir(n,H(t,2)):[]}),dc=Q(function(e){var t=Ve(e),n=pe(e,dr);return t=typeof t=="function"?t:s,t&&n.pop(),n.length&&n[0]===e[0]?ir(n,s,t):[]});function pc(e,t){return e==null?"":ll.call(e,t)}function Ve(e){var t=e==null?0:e.length;return t?e[t-1]:s}function vc(e,t,n){var i=e==null?0:e.length;if(!i)return-1;var r=i;return n!==s&&(r=X(n),r=r<0?we(i+r,0):Oe(r,i-1)),t===t?zo(e,t,r):Fn(e,Tu,r,!0)}function gc(e,t){return e&&e.length?es(e,X(t)):s}var mc=Q(Ks);function Ks(e,t){return e&&e.length&&t&&t.length?ar(e,t):e}function yc(e,t,n){return e&&e.length&&t&&t.length?ar(e,t,H(n,2)):e}function bc(e,t,n){return e&&e.length&&t&&t.length?ar(e,t,s,n):e}var _c=gt(function(e,t){var n=e==null?0:e.length,i=Ji(e,t);return is(e,pe(t,function(r){return mt(r,n)?+r:r}).sort(ds)),i});function wc(e,t){var n=[];if(!(e&&e.length))return n;var i=-1,r=[],o=e.length;for(t=H(t,3);++i<o;){var f=e[i];t(f,i,e)&&(n.push(f),r.push(i))}return is(e,r),n}function Er(e){return e==null?e:dl.call(e)}function xc(e,t,n){var i=e==null?0:e.length;return i?(n&&typeof n!="number"&&Pe(e,t,n)?(t=0,n=i):(t=t==null?0:X(t),n=n===s?i:X(n)),$e(e,t,n)):[]}function Tc(e,t){return ni(e,t)}function Ac(e,t,n){return fr(e,t,H(n,2))}function Oc(e,t){var n=e==null?0:e.length;if(n){var i=ni(e,t);if(i<n&&it(e[i],t))return i}return-1}function Mc(e,t){return ni(e,t,!0)}function Ec(e,t,n){return fr(e,t,H(n,2),!0)}function Lc(e,t){var n=e==null?0:e.length;if(n){var i=ni(e,t,!0)-1;if(it(e[i],t))return i}return-1}function Rc(e){return e&&e.length?us(e):[]}function Pc(e,t){return e&&e.length?us(e,H(t,2)):[]}function Cc(e){var t=e==null?0:e.length;return t?$e(e,1,t):[]}function Sc(e,t,n){return e&&e.length?(t=n||t===s?1:X(t),$e(e,0,t<0?0:t)):[]}function Dc(e,t,n){var i=e==null?0:e.length;return i?(t=n||t===s?1:X(t),t=i-t,$e(e,t<0?0:t,i)):[]}function Ic(e,t){return e&&e.length?ii(e,H(t,3),!1,!0):[]}function Fc(e,t){return e&&e.length?ii(e,H(t,3)):[]}var Gc=Q(function(e){return Et(Ae(e,1,ye,!0))}),Bc=Q(function(e){var t=Ve(e);return ye(t)&&(t=s),Et(Ae(e,1,ye,!0),H(t,2))}),Nc=Q(function(e){var t=Ve(e);return t=typeof t=="function"?t:s,Et(Ae(e,1,ye,!0),s,t)});function Uc(e){return e&&e.length?Et(e):[]}function Wc(e,t){return e&&e.length?Et(e,H(t,2)):[]}function qc(e,t){return t=typeof t=="function"?t:s,e&&e.length?Et(e,s,t):[]}function Lr(e){if(!(e&&e.length))return[];var t=0;return e=xt(e,function(n){if(ye(n))return t=we(n.length,t),!0}),Yi(t,function(n){return pe(e,ki(n))})}function Ys(e,t){if(!(e&&e.length))return[];var n=Lr(e);return t==null?n:pe(n,function(i){return Be(t,s,i)})}var kc=Q(function(e,t){return ye(e)?yn(e,t):[]}),Hc=Q(function(e){return hr(xt(e,ye))}),Kc=Q(function(e){var t=Ve(e);return ye(t)&&(t=s),hr(xt(e,ye),H(t,2))}),Yc=Q(function(e){var t=Ve(e);return t=typeof t=="function"?t:s,hr(xt(e,ye),s,t)}),Zc=Q(Lr);function zc(e,t){return ls(e||[],t||[],mn)}function jc(e,t){return ls(e||[],t||[],wn)}var Xc=Q(function(e){var t=e.length,n=t>1?e[t-1]:s;return n=typeof n=="function"?(e.pop(),n):s,Ys(e,n)});function Zs(e){var t=a(e);return t.__chain__=!0,t}function $c(e,t){return t(e),e}function hi(e,t){return t(e)}var Vc=gt(function(e){var t=e.length,n=t?e[0]:0,i=this.__wrapped__,r=function(o){return Ji(o,e)};return t>1||this.__actions__.length||!(i instanceof ne)||!mt(n)?this.thru(r):(i=i.slice(n,+n+(t?1:0)),i.__actions__.push({func:hi,args:[r],thisArg:s}),new je(i,this.__chain__).thru(function(o){return t&&!o.length&&o.push(s),o}))});function Qc(){return Zs(this)}function Jc(){return new je(this.value(),this.__chain__)}function eh(){this.__values__===s&&(this.__values__=sa(this.value()));var e=this.__index__>=this.__values__.length,t=e?s:this.__values__[this.__index__++];return{done:e,value:t}}function th(){return this}function nh(e){for(var t,n=this;n instanceof Vn;){var i=Us(n);i.__index__=0,i.__values__=s,t?r.__wrapped__=i:t=i;var r=i;n=n.__wrapped__}return r.__wrapped__=e,t}function ih(){var e=this.__wrapped__;if(e instanceof ne){var t=e;return this.__actions__.length&&(t=new ne(this)),t=t.reverse(),t.__actions__.push({func:hi,args:[Er],thisArg:s}),new je(t,this.__chain__)}return this.thru(Er)}function rh(){return os(this.__wrapped__,this.__actions__)}var uh=ri(function(e,t,n){ae.call(e,n)?++e[n]:pt(e,n,1)});function sh(e,t,n){var i=j(e)?wu:Xl;return n&&Pe(e,t,n)&&(t=s),i(e,H(t,3))}function ah(e,t){var n=j(e)?xt:Yu;return n(e,H(t,3))}var oh=bs(Ws),lh=bs(qs);function fh(e,t){return Ae(di(e,t),1)}function ch(e,t){return Ae(di(e,t),st)}function hh(e,t,n){return n=n===s?1:X(n),Ae(di(e,t),n)}function zs(e,t){var n=j(e)?Ze:Mt;return n(e,H(t,3))}function js(e,t){var n=j(e)?Po:Ku;return n(e,H(t,3))}var dh=ri(function(e,t,n){ae.call(e,n)?e[n].push(t):pt(e,n,[t])});function ph(e,t,n,i){e=Ie(e)?e:rn(e),n=n&&!i?X(n):0;var r=e.length;return n<0&&(n=we(r+n,0)),yi(e)?n<=r&&e.indexOf(t,n)>-1:!!r&&Zt(e,t,n)>-1}var vh=Q(function(e,t,n){var i=-1,r=typeof t=="function",o=Ie(e)?y(e.length):[];return Mt(e,function(f){o[++i]=r?Be(t,f,n):bn(f,t,n)}),o}),gh=ri(function(e,t,n){pt(e,n,t)});function di(e,t){var n=j(e)?pe:Vu;return n(e,H(t,3))}function mh(e,t,n,i){return e==null?[]:(j(t)||(t=t==null?[]:[t]),n=i?s:n,j(n)||(n=n==null?[]:[n]),ts(e,t,n))}var yh=ri(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]});function bh(e,t,n){var i=j(e)?Wi:Ou,r=arguments.length<3;return i(e,H(t,4),n,r,Mt)}function _h(e,t,n){var i=j(e)?Co:Ou,r=arguments.length<3;return i(e,H(t,4),n,r,Ku)}function wh(e,t){var n=j(e)?xt:Yu;return n(e,gi(H(t,3)))}function xh(e){var t=j(e)?Wu:pf;return t(e)}function Th(e,t,n){(n?Pe(e,t,n):t===s)?t=1:t=X(t);var i=j(e)?Kl:vf;return i(e,t)}function Ah(e){var t=j(e)?Yl:mf;return t(e)}function Oh(e){if(e==null)return 0;if(Ie(e))return yi(e)?jt(e):e.length;var t=Me(e);return t==Je||t==et?e.size:ur(e).length}function Mh(e,t,n){var i=j(e)?qi:yf;return n&&Pe(e,t,n)&&(t=s),i(e,H(t,3))}var Eh=Q(function(e,t){if(e==null)return[];var n=t.length;return n>1&&Pe(e,t[0],t[1])?t=[]:n>2&&Pe(t[0],t[1],t[2])&&(t=[t[0]]),ts(e,Ae(t,1),[])}),pi=sl||function(){return Te.Date.now()};function Lh(e,t){if(typeof t!="function")throw new ze(d);return e=X(e),function(){if(--e<1)return t.apply(this,arguments)}}function Xs(e,t,n){return t=n?s:t,t=e&&t==null?e.length:t,vt(e,he,s,s,s,s,t)}function $s(e,t){var n;if(typeof t!="function")throw new ze(d);return e=X(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=s),n}}var Rr=Q(function(e,t,n){var i=O;if(n.length){var r=At(n,tn(Rr));i|=W}return vt(e,i,t,n,r)}),Vs=Q(function(e,t,n){var i=O|B;if(n.length){var r=At(n,tn(Vs));i|=W}return vt(t,i,e,n,r)});function Qs(e,t,n){t=n?s:t;var i=vt(e,P,s,s,s,s,s,t);return i.placeholder=Qs.placeholder,i}function Js(e,t,n){t=n?s:t;var i=vt(e,S,s,s,s,s,s,t);return i.placeholder=Js.placeholder,i}function ea(e,t,n){var i,r,o,f,h,v,T=0,A=!1,M=!1,D=!0;if(typeof e!="function")throw new ze(d);t=Qe(t)||0,ge(n)&&(A=!!n.leading,M="maxWait"in n,o=M?we(Qe(n.maxWait)||0,t):o,D="trailing"in n?!!n.trailing:D);function q(be){var rt=i,_t=r;return i=r=s,T=be,f=e.apply(_t,rt),f}function K(be){return T=be,h=An(ee,t),A?q(be):f}function $(be){var rt=be-v,_t=be-T,ba=t-rt;return M?Oe(ba,o-_t):ba}function Y(be){var rt=be-v,_t=be-T;return v===s||rt>=t||rt<0||M&&_t>=o}function ee(){var be=pi();if(Y(be))return ie(be);h=An(ee,$(be))}function ie(be){return h=s,D&&i?q(be):(i=r=s,f)}function qe(){h!==s&&fs(h),T=0,i=v=r=h=s}function Ce(){return h===s?f:ie(pi())}function ke(){var be=pi(),rt=Y(be);if(i=arguments,r=this,v=be,rt){if(h===s)return K(v);if(M)return fs(h),h=An(ee,t),q(v)}return h===s&&(h=An(ee,t)),f}return ke.cancel=qe,ke.flush=Ce,ke}var Rh=Q(function(e,t){return Hu(e,1,t)}),Ph=Q(function(e,t,n){return Hu(e,Qe(t)||0,n)});function Ch(e){return vt(e,wt)}function vi(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new ze(d);var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var f=e.apply(this,i);return n.cache=o.set(r,f)||o,f};return n.cache=new(vi.Cache||dt),n}vi.Cache=dt;function gi(e){if(typeof e!="function")throw new ze(d);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function Sh(e){return $s(2,e)}var Dh=bf(function(e,t){t=t.length==1&&j(t[0])?pe(t[0],Ne(H())):pe(Ae(t,1),Ne(H()));var n=t.length;return Q(function(i){for(var r=-1,o=Oe(i.length,n);++r<o;)i[r]=t[r].call(this,i[r]);return Be(e,this,i)})}),Pr=Q(function(e,t){var n=At(t,tn(Pr));return vt(e,W,s,t,n)}),ta=Q(function(e,t){var n=At(t,tn(ta));return vt(e,J,s,t,n)}),Ih=gt(function(e,t){return vt(e,Ee,s,s,s,t)});function Fh(e,t){if(typeof e!="function")throw new ze(d);return t=t===s?t:X(t),Q(e,t)}function Gh(e,t){if(typeof e!="function")throw new ze(d);return t=t==null?0:we(X(t),0),Q(function(n){var i=n[t],r=Rt(n,0,t);return i&&Tt(r,i),Be(e,this,r)})}function Bh(e,t,n){var i=!0,r=!0;if(typeof e!="function")throw new ze(d);return ge(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),ea(e,t,{leading:i,maxWait:t,trailing:r})}function Nh(e){return Xs(e,1)}function Uh(e,t){return Pr(pr(t),e)}function Wh(){if(!arguments.length)return[];var e=arguments[0];return j(e)?e:[e]}function qh(e){return Xe(e,te)}function kh(e,t){return t=typeof t=="function"?t:s,Xe(e,te,t)}function Hh(e){return Xe(e,V|te)}function Kh(e,t){return t=typeof t=="function"?t:s,Xe(e,V|te,t)}function Yh(e,t){return t==null||ku(e,t,xe(t))}function it(e,t){return e===t||e!==e&&t!==t}var Zh=oi(nr),zh=oi(function(e,t){return e>=t}),Wt=ju(function(){return arguments}())?ju:function(e){return me(e)&&ae.call(e,"callee")&&!Iu.call(e,"callee")},j=y.isArray,jh=vu?Ne(vu):tf;function Ie(e){return e!=null&&mi(e.length)&&!yt(e)}function ye(e){return me(e)&&Ie(e)}function Xh(e){return e===!0||e===!1||me(e)&&Re(e)==de}var Pt=ol||qr,$h=gu?Ne(gu):nf;function Vh(e){return me(e)&&e.nodeType===1&&!On(e)}function Qh(e){if(e==null)return!0;if(Ie(e)&&(j(e)||typeof e=="string"||typeof e.splice=="function"||Pt(e)||nn(e)||Wt(e)))return!e.length;var t=Me(e);if(t==Je||t==et)return!e.size;if(Tn(e))return!ur(e).length;for(var n in e)if(ae.call(e,n))return!1;return!0}function Jh(e,t){return _n(e,t)}function ed(e,t,n){n=typeof n=="function"?n:s;var i=n?n(e,t):s;return i===s?_n(e,t,s,n):!!i}function Cr(e){if(!me(e))return!1;var t=Re(e);return t==Ln||t==St||typeof e.message=="string"&&typeof e.name=="string"&&!On(e)}function td(e){return typeof e=="number"&&Gu(e)}function yt(e){if(!ge(e))return!1;var t=Re(e);return t==Rn||t==kr||t==Z||t==Ta}function na(e){return typeof e=="number"&&e==X(e)}function mi(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=at}function ge(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function me(e){return e!=null&&typeof e=="object"}var ia=mu?Ne(mu):uf;function nd(e,t){return e===t||rr(e,t,wr(t))}function id(e,t,n){return n=typeof n=="function"?n:s,rr(e,t,wr(t),n)}function rd(e){return ra(e)&&e!=+e}function ud(e){if(kf(e))throw new z(F);return Xu(e)}function sd(e){return e===null}function ad(e){return e==null}function ra(e){return typeof e=="number"||me(e)&&Re(e)==un}function On(e){if(!me(e)||Re(e)!=ct)return!1;var t=Kn(e);if(t===null)return!0;var n=ae.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&Wn.call(n)==nl}var Sr=yu?Ne(yu):sf;function od(e){return na(e)&&e>=-at&&e<=at}var ua=bu?Ne(bu):af;function yi(e){return typeof e=="string"||!j(e)&&me(e)&&Re(e)==an}function We(e){return typeof e=="symbol"||me(e)&&Re(e)==Pn}var nn=_u?Ne(_u):of;function ld(e){return e===s}function fd(e){return me(e)&&Me(e)==on}function cd(e){return me(e)&&Re(e)==Oa}var hd=oi(sr),dd=oi(function(e,t){return e<=t});function sa(e){if(!e)return[];if(Ie(e))return yi(e)?tt(e):De(e);if(hn&&e[hn])return Ko(e[hn]());var t=Me(e),n=t==Je?zi:t==et?Gn:rn;return n(e)}function bt(e){if(!e)return e===0?e:0;if(e=Qe(e),e===st||e===-st){var t=e<0?-1:1;return t*_i}return e===e?e:0}function X(e){var t=bt(e),n=t%1;return t===t?n?t-n:t:0}function aa(e){return e?Gt(X(e),0,Ke):0}function Qe(e){if(typeof e=="number")return e;if(We(e))return Ct;if(ge(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=ge(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Mu(e);var n=Za.test(e);return n||ja.test(e)?Eo(e.slice(2),n?2:8):Ya.test(e)?Ct:+e}function oa(e){return lt(e,Fe(e))}function pd(e){return e?Gt(X(e),-at,at):e===0?e:0}function se(e){return e==null?"":Ue(e)}var vd=Jt(function(e,t){if(Tn(t)||Ie(t)){lt(t,xe(t),e);return}for(var n in t)ae.call(t,n)&&mn(e,n,t[n])}),la=Jt(function(e,t){lt(t,Fe(t),e)}),bi=Jt(function(e,t,n,i){lt(t,Fe(t),e,i)}),gd=Jt(function(e,t,n,i){lt(t,xe(t),e,i)}),md=gt(Ji);function yd(e,t){var n=Qt(e);return t==null?n:qu(n,t)}var bd=Q(function(e,t){e=oe(e);var n=-1,i=t.length,r=i>2?t[2]:s;for(r&&Pe(t[0],t[1],r)&&(i=1);++n<i;)for(var o=t[n],f=Fe(o),h=-1,v=f.length;++h<v;){var T=f[h],A=e[T];(A===s||it(A,Xt[T])&&!ae.call(e,T))&&(e[T]=o[T])}return e}),_d=Q(function(e){return e.push(s,Ms),Be(fa,s,e)});function wd(e,t){return xu(e,H(t,3),ot)}function xd(e,t){return xu(e,H(t,3),tr)}function Td(e,t){return e==null?e:er(e,H(t,3),Fe)}function Ad(e,t){return e==null?e:Zu(e,H(t,3),Fe)}function Od(e,t){return e&&ot(e,H(t,3))}function Md(e,t){return e&&tr(e,H(t,3))}function Ed(e){return e==null?[]:ei(e,xe(e))}function Ld(e){return e==null?[]:ei(e,Fe(e))}function Dr(e,t,n){var i=e==null?s:Bt(e,t);return i===s?n:i}function Rd(e,t){return e!=null&&Rs(e,t,Vl)}function Ir(e,t){return e!=null&&Rs(e,t,Ql)}var Pd=ws(function(e,t,n){t!=null&&typeof t.toString!="function"&&(t=qn.call(t)),e[t]=n},Gr(Ge)),Cd=ws(function(e,t,n){t!=null&&typeof t.toString!="function"&&(t=qn.call(t)),ae.call(e,t)?e[t].push(n):e[t]=[n]},H),Sd=Q(bn);function xe(e){return Ie(e)?Uu(e):ur(e)}function Fe(e){return Ie(e)?Uu(e,!0):lf(e)}function Dd(e,t){var n={};return t=H(t,3),ot(e,function(i,r,o){pt(n,t(i,r,o),i)}),n}function Id(e,t){var n={};return t=H(t,3),ot(e,function(i,r,o){pt(n,r,t(i,r,o))}),n}var Fd=Jt(function(e,t,n){ti(e,t,n)}),fa=Jt(function(e,t,n,i){ti(e,t,n,i)}),Gd=gt(function(e,t){var n={};if(e==null)return n;var i=!1;t=pe(t,function(o){return o=Lt(o,e),i||(i=o.length>1),o}),lt(e,br(e),n),i&&(n=Xe(n,V|ve|te,Pf));for(var r=t.length;r--;)cr(n,t[r]);return n});function Bd(e,t){return ca(e,gi(H(t)))}var Nd=gt(function(e,t){return e==null?{}:cf(e,t)});function ca(e,t){if(e==null)return{};var n=pe(br(e),function(i){return[i]});return t=H(t),ns(e,n,function(i,r){return t(i,r[0])})}function Ud(e,t,n){t=Lt(t,e);var i=-1,r=t.length;for(r||(r=1,e=s);++i<r;){var o=e==null?s:e[ft(t[i])];o===s&&(i=r,o=n),e=yt(o)?o.call(e):o}return e}function Wd(e,t,n){return e==null?e:wn(e,t,n)}function qd(e,t,n,i){return i=typeof i=="function"?i:s,e==null?e:wn(e,t,n,i)}var ha=As(xe),da=As(Fe);function kd(e,t,n){var i=j(e),r=i||Pt(e)||nn(e);if(t=H(t,4),n==null){var o=e&&e.constructor;r?n=i?new o:[]:ge(e)?n=yt(o)?Qt(Kn(e)):{}:n={}}return(r?Ze:ot)(e,function(f,h,v){return t(n,f,h,v)}),n}function Hd(e,t){return e==null?!0:cr(e,t)}function Kd(e,t,n){return e==null?e:as(e,t,pr(n))}function Yd(e,t,n,i){return i=typeof i=="function"?i:s,e==null?e:as(e,t,pr(n),i)}function rn(e){return e==null?[]:Zi(e,xe(e))}function Zd(e){return e==null?[]:Zi(e,Fe(e))}function zd(e,t,n){return n===s&&(n=t,t=s),n!==s&&(n=Qe(n),n=n===n?n:0),t!==s&&(t=Qe(t),t=t===t?t:0),Gt(Qe(e),t,n)}function jd(e,t,n){return t=bt(t),n===s?(n=t,t=0):n=bt(n),e=Qe(e),Jl(e,t,n)}function Xd(e,t,n){if(n&&typeof n!="boolean"&&Pe(e,t,n)&&(t=n=s),n===s&&(typeof t=="boolean"?(n=t,t=s):typeof e=="boolean"&&(n=e,e=s)),e===s&&t===s?(e=0,t=1):(e=bt(e),t===s?(t=e,e=0):t=bt(t)),e>t){var i=e;e=t,t=i}if(n||e%1||t%1){var r=Bu();return Oe(e+r*(t-e+Mo("1e-"+((r+"").length-1))),t)}return or(e,t)}var $d=en(function(e,t,n){return t=t.toLowerCase(),e+(n?pa(t):t)});function pa(e){return Fr(se(e).toLowerCase())}function va(e){return e=se(e),e&&e.replace($a,Uo).replace(go,"")}function Vd(e,t,n){e=se(e),t=Ue(t);var i=e.length;n=n===s?i:Gt(X(n),0,i);var r=n;return n-=t.length,n>=0&&e.slice(n,r)==t}function Qd(e){return e=se(e),e&&Pa.test(e)?e.replace(Yr,Wo):e}function Jd(e){return e=se(e),e&&Ga.test(e)?e.replace(Ci,"\\$&"):e}var ep=en(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),tp=en(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),np=ys("toLowerCase");function ip(e,t,n){e=se(e),t=X(t);var i=t?jt(e):0;if(!t||i>=t)return e;var r=(t-i)/2;return ai(jn(r),n)+e+ai(zn(r),n)}function rp(e,t,n){e=se(e),t=X(t);var i=t?jt(e):0;return t&&i<t?e+ai(t-i,n):e}function up(e,t,n){e=se(e),t=X(t);var i=t?jt(e):0;return t&&i<t?ai(t-i,n)+e:e}function sp(e,t,n){return n||t==null?t=0:t&&(t=+t),hl(se(e).replace(Si,""),t||0)}function ap(e,t,n){return(n?Pe(e,t,n):t===s)?t=1:t=X(t),lr(se(e),t)}function op(){var e=arguments,t=se(e[0]);return e.length<3?t:t.replace(e[1],e[2])}var lp=en(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()});function fp(e,t,n){return n&&typeof n!="number"&&Pe(e,t,n)&&(t=n=s),n=n===s?Ke:n>>>0,n?(e=se(e),e&&(typeof t=="string"||t!=null&&!Sr(t))&&(t=Ue(t),!t&&zt(e))?Rt(tt(e),0,n):e.split(t,n)):[]}var cp=en(function(e,t,n){return e+(n?" ":"")+Fr(t)});function hp(e,t,n){return e=se(e),n=n==null?0:Gt(X(n),0,e.length),t=Ue(t),e.slice(n,n+t.length)==t}function dp(e,t,n){var i=a.templateSettings;n&&Pe(e,t,n)&&(t=s),e=se(e),t=bi({},t,i,Os);var r=bi({},t.imports,i.imports,Os),o=xe(r),f=Zi(r,o),h,v,T=0,A=t.interpolate||Cn,M="__p += '",D=ji((t.escape||Cn).source+"|"+A.source+"|"+(A===Zr?Ka:Cn).source+"|"+(t.evaluate||Cn).source+"|$","g"),q="//# sourceURL="+(ae.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++wo+"]")+`
`;e.replace(D,function(Y,ee,ie,qe,Ce,ke){return ie||(ie=qe),M+=e.slice(T,ke).replace(Va,qo),ee&&(h=!0,M+=`' +
__e(`+ee+`) +
'`),Ce&&(v=!0,M+=`';
`+Ce+`;
__p += '`),ie&&(M+=`' +
((__t = (`+ie+`)) == null ? '' : __t) +
'`),T=ke+Y.length,Y}),M+=`';
`;var K=ae.call(t,"variable")&&t.variable;if(!K)M=`with (obj) {
`+M+`
}
`;else if(ka.test(K))throw new z(b);M=(v?M.replace(Ma,""):M).replace(Ea,"$1").replace(La,"$1;"),M="function("+(K||"obj")+`) {
`+(K?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(h?", __e = _.escape":"")+(v?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+M+`return __p
}`;var $=ma(function(){return ue(o,q+"return "+M).apply(s,f)});if($.source=M,Cr($))throw $;return $}function pp(e){return se(e).toLowerCase()}function vp(e){return se(e).toUpperCase()}function gp(e,t,n){if(e=se(e),e&&(n||t===s))return Mu(e);if(!e||!(t=Ue(t)))return e;var i=tt(e),r=tt(t),o=Eu(i,r),f=Lu(i,r)+1;return Rt(i,o,f).join("")}function mp(e,t,n){if(e=se(e),e&&(n||t===s))return e.slice(0,Pu(e)+1);if(!e||!(t=Ue(t)))return e;var i=tt(e),r=Lu(i,tt(t))+1;return Rt(i,0,r).join("")}function yp(e,t,n){if(e=se(e),e&&(n||t===s))return e.replace(Si,"");if(!e||!(t=Ue(t)))return e;var i=tt(e),r=Eu(i,tt(t));return Rt(i,r).join("")}function bp(e,t){var n=Le,i=qt;if(ge(t)){var r="separator"in t?t.separator:r;n="length"in t?X(t.length):n,i="omission"in t?Ue(t.omission):i}e=se(e);var o=e.length;if(zt(e)){var f=tt(e);o=f.length}if(n>=o)return e;var h=n-jt(i);if(h<1)return i;var v=f?Rt(f,0,h).join(""):e.slice(0,h);if(r===s)return v+i;if(f&&(h+=v.length-h),Sr(r)){if(e.slice(h).search(r)){var T,A=v;for(r.global||(r=ji(r.source,se(zr.exec(r))+"g")),r.lastIndex=0;T=r.exec(A);)var M=T.index;v=v.slice(0,M===s?h:M)}}else if(e.indexOf(Ue(r),h)!=h){var D=v.lastIndexOf(r);D>-1&&(v=v.slice(0,D))}return v+i}function _p(e){return e=se(e),e&&Ra.test(e)?e.replace(Kr,jo):e}var wp=en(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),Fr=ys("toUpperCase");function ga(e,t,n){return e=se(e),t=n?s:t,t===s?Ho(e)?Vo(e):Io(e):e.match(t)||[]}var ma=Q(function(e,t){try{return Be(e,s,t)}catch(n){return Cr(n)?n:new z(n)}}),xp=gt(function(e,t){return Ze(t,function(n){n=ft(n),pt(e,n,Rr(e[n],e))}),e});function Tp(e){var t=e==null?0:e.length,n=H();return e=t?pe(e,function(i){if(typeof i[1]!="function")throw new ze(d);return[n(i[0]),i[1]]}):[],Q(function(i){for(var r=-1;++r<t;){var o=e[r];if(Be(o[0],this,i))return Be(o[1],this,i)}})}function Ap(e){return jl(Xe(e,V))}function Gr(e){return function(){return e}}function Op(e,t){return e==null||e!==e?t:e}var Mp=_s(),Ep=_s(!0);function Ge(e){return e}function Br(e){return $u(typeof e=="function"?e:Xe(e,V))}function Lp(e){return Qu(Xe(e,V))}function Rp(e,t){return Ju(e,Xe(t,V))}var Pp=Q(function(e,t){return function(n){return bn(n,e,t)}}),Cp=Q(function(e,t){return function(n){return bn(e,n,t)}});function Nr(e,t,n){var i=xe(t),r=ei(t,i);n==null&&!(ge(t)&&(r.length||!i.length))&&(n=t,t=e,e=this,r=ei(t,xe(t)));var o=!(ge(n)&&"chain"in n)||!!n.chain,f=yt(e);return Ze(r,function(h){var v=t[h];e[h]=v,f&&(e.prototype[h]=function(){var T=this.__chain__;if(o||T){var A=e(this.__wrapped__),M=A.__actions__=De(this.__actions__);return M.push({func:v,args:arguments,thisArg:e}),A.__chain__=T,A}return v.apply(e,Tt([this.value()],arguments))})}),e}function Sp(){return Te._===this&&(Te._=il),this}function Ur(){}function Dp(e){return e=X(e),Q(function(t){return es(t,e)})}var Ip=gr(pe),Fp=gr(wu),Gp=gr(qi);function ya(e){return Tr(e)?ki(ft(e)):hf(e)}function Bp(e){return function(t){return e==null?s:Bt(e,t)}}var Np=xs(),Up=xs(!0);function Wr(){return[]}function qr(){return!1}function Wp(){return{}}function qp(){return""}function kp(){return!0}function Hp(e,t){if(e=X(e),e<1||e>at)return[];var n=Ke,i=Oe(e,Ke);t=H(t),e-=Ke;for(var r=Yi(i,t);++n<e;)t(n);return r}function Kp(e){return j(e)?pe(e,ft):We(e)?[e]:De(Ns(se(e)))}function Yp(e){var t=++tl;return se(e)+t}var Zp=si(function(e,t){return e+t},0),zp=mr("ceil"),jp=si(function(e,t){return e/t},1),Xp=mr("floor");function $p(e){return e&&e.length?Jn(e,Ge,nr):s}function Vp(e,t){return e&&e.length?Jn(e,H(t,2),nr):s}function Qp(e){return Au(e,Ge)}function Jp(e,t){return Au(e,H(t,2))}function ev(e){return e&&e.length?Jn(e,Ge,sr):s}function tv(e,t){return e&&e.length?Jn(e,H(t,2),sr):s}var nv=si(function(e,t){return e*t},1),iv=mr("round"),rv=si(function(e,t){return e-t},0);function uv(e){return e&&e.length?Ki(e,Ge):0}function sv(e,t){return e&&e.length?Ki(e,H(t,2)):0}return a.after=Lh,a.ary=Xs,a.assign=vd,a.assignIn=la,a.assignInWith=bi,a.assignWith=gd,a.at=md,a.before=$s,a.bind=Rr,a.bindAll=xp,a.bindKey=Vs,a.castArray=Wh,a.chain=Zs,a.chunk=Xf,a.compact=$f,a.concat=Vf,a.cond=Tp,a.conforms=Ap,a.constant=Gr,a.countBy=uh,a.create=yd,a.curry=Qs,a.curryRight=Js,a.debounce=ea,a.defaults=bd,a.defaultsDeep=_d,a.defer=Rh,a.delay=Ph,a.difference=Qf,a.differenceBy=Jf,a.differenceWith=ec,a.drop=tc,a.dropRight=nc,a.dropRightWhile=ic,a.dropWhile=rc,a.fill=uc,a.filter=ah,a.flatMap=fh,a.flatMapDeep=ch,a.flatMapDepth=hh,a.flatten=ks,a.flattenDeep=sc,a.flattenDepth=ac,a.flip=Ch,a.flow=Mp,a.flowRight=Ep,a.fromPairs=oc,a.functions=Ed,a.functionsIn=Ld,a.groupBy=dh,a.initial=fc,a.intersection=cc,a.intersectionBy=hc,a.intersectionWith=dc,a.invert=Pd,a.invertBy=Cd,a.invokeMap=vh,a.iteratee=Br,a.keyBy=gh,a.keys=xe,a.keysIn=Fe,a.map=di,a.mapKeys=Dd,a.mapValues=Id,a.matches=Lp,a.matchesProperty=Rp,a.memoize=vi,a.merge=Fd,a.mergeWith=fa,a.method=Pp,a.methodOf=Cp,a.mixin=Nr,a.negate=gi,a.nthArg=Dp,a.omit=Gd,a.omitBy=Bd,a.once=Sh,a.orderBy=mh,a.over=Ip,a.overArgs=Dh,a.overEvery=Fp,a.overSome=Gp,a.partial=Pr,a.partialRight=ta,a.partition=yh,a.pick=Nd,a.pickBy=ca,a.property=ya,a.propertyOf=Bp,a.pull=mc,a.pullAll=Ks,a.pullAllBy=yc,a.pullAllWith=bc,a.pullAt=_c,a.range=Np,a.rangeRight=Up,a.rearg=Ih,a.reject=wh,a.remove=wc,a.rest=Fh,a.reverse=Er,a.sampleSize=Th,a.set=Wd,a.setWith=qd,a.shuffle=Ah,a.slice=xc,a.sortBy=Eh,a.sortedUniq=Rc,a.sortedUniqBy=Pc,a.split=fp,a.spread=Gh,a.tail=Cc,a.take=Sc,a.takeRight=Dc,a.takeRightWhile=Ic,a.takeWhile=Fc,a.tap=$c,a.throttle=Bh,a.thru=hi,a.toArray=sa,a.toPairs=ha,a.toPairsIn=da,a.toPath=Kp,a.toPlainObject=oa,a.transform=kd,a.unary=Nh,a.union=Gc,a.unionBy=Bc,a.unionWith=Nc,a.uniq=Uc,a.uniqBy=Wc,a.uniqWith=qc,a.unset=Hd,a.unzip=Lr,a.unzipWith=Ys,a.update=Kd,a.updateWith=Yd,a.values=rn,a.valuesIn=Zd,a.without=kc,a.words=ga,a.wrap=Uh,a.xor=Hc,a.xorBy=Kc,a.xorWith=Yc,a.zip=Zc,a.zipObject=zc,a.zipObjectDeep=jc,a.zipWith=Xc,a.entries=ha,a.entriesIn=da,a.extend=la,a.extendWith=bi,Nr(a,a),a.add=Zp,a.attempt=ma,a.camelCase=$d,a.capitalize=pa,a.ceil=zp,a.clamp=zd,a.clone=qh,a.cloneDeep=Hh,a.cloneDeepWith=Kh,a.cloneWith=kh,a.conformsTo=Yh,a.deburr=va,a.defaultTo=Op,a.divide=jp,a.endsWith=Vd,a.eq=it,a.escape=Qd,a.escapeRegExp=Jd,a.every=sh,a.find=oh,a.findIndex=Ws,a.findKey=wd,a.findLast=lh,a.findLastIndex=qs,a.findLastKey=xd,a.floor=Xp,a.forEach=zs,a.forEachRight=js,a.forIn=Td,a.forInRight=Ad,a.forOwn=Od,a.forOwnRight=Md,a.get=Dr,a.gt=Zh,a.gte=zh,a.has=Rd,a.hasIn=Ir,a.head=Hs,a.identity=Ge,a.includes=ph,a.indexOf=lc,a.inRange=jd,a.invoke=Sd,a.isArguments=Wt,a.isArray=j,a.isArrayBuffer=jh,a.isArrayLike=Ie,a.isArrayLikeObject=ye,a.isBoolean=Xh,a.isBuffer=Pt,a.isDate=$h,a.isElement=Vh,a.isEmpty=Qh,a.isEqual=Jh,a.isEqualWith=ed,a.isError=Cr,a.isFinite=td,a.isFunction=yt,a.isInteger=na,a.isLength=mi,a.isMap=ia,a.isMatch=nd,a.isMatchWith=id,a.isNaN=rd,a.isNative=ud,a.isNil=ad,a.isNull=sd,a.isNumber=ra,a.isObject=ge,a.isObjectLike=me,a.isPlainObject=On,a.isRegExp=Sr,a.isSafeInteger=od,a.isSet=ua,a.isString=yi,a.isSymbol=We,a.isTypedArray=nn,a.isUndefined=ld,a.isWeakMap=fd,a.isWeakSet=cd,a.join=pc,a.kebabCase=ep,a.last=Ve,a.lastIndexOf=vc,a.lowerCase=tp,a.lowerFirst=np,a.lt=hd,a.lte=dd,a.max=$p,a.maxBy=Vp,a.mean=Qp,a.meanBy=Jp,a.min=ev,a.minBy=tv,a.stubArray=Wr,a.stubFalse=qr,a.stubObject=Wp,a.stubString=qp,a.stubTrue=kp,a.multiply=nv,a.nth=gc,a.noConflict=Sp,a.noop=Ur,a.now=pi,a.pad=ip,a.padEnd=rp,a.padStart=up,a.parseInt=sp,a.random=Xd,a.reduce=bh,a.reduceRight=_h,a.repeat=ap,a.replace=op,a.result=Ud,a.round=iv,a.runInContext=p,a.sample=xh,a.size=Oh,a.snakeCase=lp,a.some=Mh,a.sortedIndex=Tc,a.sortedIndexBy=Ac,a.sortedIndexOf=Oc,a.sortedLastIndex=Mc,a.sortedLastIndexBy=Ec,a.sortedLastIndexOf=Lc,a.startCase=cp,a.startsWith=hp,a.subtract=rv,a.sum=uv,a.sumBy=sv,a.template=dp,a.times=Hp,a.toFinite=bt,a.toInteger=X,a.toLength=aa,a.toLower=pp,a.toNumber=Qe,a.toSafeInteger=pd,a.toString=se,a.toUpper=vp,a.trim=gp,a.trimEnd=mp,a.trimStart=yp,a.truncate=bp,a.unescape=_p,a.uniqueId=Yp,a.upperCase=wp,a.upperFirst=Fr,a.each=zs,a.eachRight=js,a.first=Hs,Nr(a,function(){var e={};return ot(a,function(t,n){ae.call(a.prototype,n)||(e[n]=t)}),e}(),{chain:!1}),a.VERSION=E,Ze(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){a[e].placeholder=a}),Ze(["drop","take"],function(e,t){ne.prototype[e]=function(n){n=n===s?1:we(X(n),0);var i=this.__filtered__&&!t?new ne(this):this.clone();return i.__filtered__?i.__takeCount__=Oe(n,i.__takeCount__):i.__views__.push({size:Oe(n,Ke),type:e+(i.__dir__<0?"Right":"")}),i},ne.prototype[e+"Right"]=function(n){return this.reverse()[e](n).reverse()}}),Ze(["filter","map","takeWhile"],function(e,t){var n=t+1,i=n==ut||n==Mn;ne.prototype[e]=function(r){var o=this.clone();return o.__iteratees__.push({iteratee:H(r,3),type:n}),o.__filtered__=o.__filtered__||i,o}}),Ze(["head","last"],function(e,t){var n="take"+(t?"Right":"");ne.prototype[e]=function(){return this[n](1).value()[0]}}),Ze(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");ne.prototype[e]=function(){return this.__filtered__?new ne(this):this[n](1)}}),ne.prototype.compact=function(){return this.filter(Ge)},ne.prototype.find=function(e){return this.filter(e).head()},ne.prototype.findLast=function(e){return this.reverse().find(e)},ne.prototype.invokeMap=Q(function(e,t){return typeof e=="function"?new ne(this):this.map(function(n){return bn(n,e,t)})}),ne.prototype.reject=function(e){return this.filter(gi(H(e)))},ne.prototype.slice=function(e,t){e=X(e);var n=this;return n.__filtered__&&(e>0||t<0)?new ne(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==s&&(t=X(t),n=t<0?n.dropRight(-t):n.take(t-e)),n)},ne.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},ne.prototype.toArray=function(){return this.take(Ke)},ot(ne.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),i=/^(?:head|last)$/.test(t),r=a[i?"take"+(t=="last"?"Right":""):t],o=i||/^find/.test(t);!r||(a.prototype[t]=function(){var f=this.__wrapped__,h=i?[1]:arguments,v=f instanceof ne,T=h[0],A=v||j(f),M=function(ee){var ie=r.apply(a,Tt([ee],h));return i&&D?ie[0]:ie};A&&n&&typeof T=="function"&&T.length!=1&&(v=A=!1);var D=this.__chain__,q=!!this.__actions__.length,K=o&&!D,$=v&&!q;if(!o&&A){f=$?f:new ne(this);var Y=e.apply(f,h);return Y.__actions__.push({func:hi,args:[M],thisArg:s}),new je(Y,D)}return K&&$?e.apply(this,h):(Y=this.thru(M),K?i?Y.value()[0]:Y.value():Y)})}),Ze(["pop","push","shift","sort","splice","unshift"],function(e){var t=Nn[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:pop|shift)$/.test(e);a.prototype[e]=function(){var r=arguments;if(i&&!this.__chain__){var o=this.value();return t.apply(j(o)?o:[],r)}return this[n](function(f){return t.apply(j(f)?f:[],r)})}}),ot(ne.prototype,function(e,t){var n=a[t];if(n){var i=n.name+"";ae.call(Vt,i)||(Vt[i]=[]),Vt[i].push({name:t,func:n})}}),Vt[ui(s,B).name]=[{name:"wrapper",func:s}],ne.prototype.clone=bl,ne.prototype.reverse=_l,ne.prototype.value=wl,a.prototype.at=Vc,a.prototype.chain=Qc,a.prototype.commit=Jc,a.prototype.next=eh,a.prototype.plant=nh,a.prototype.reverse=ih,a.prototype.toJSON=a.prototype.valueOf=a.prototype.value=rh,a.prototype.first=a.prototype.head,hn&&(a.prototype[hn]=th),a},Bn=Qo();Te._=Bn,re=function(){return Bn}.call(I,w,I,U),re!==s&&(U.exports=re)}).call(this)}).call(this,w("./node_modules/webpack/buildin/global.js"),w("./node_modules/webpack/buildin/module.js")(ce))},"./node_modules/tunajs/tuna.js":function(ce,I,w){(function(){var c,U,re=function(u,O){u.value=O},s=Object.create(null,{activate:{writable:!0,value:function(u){u?(this.input.disconnect(),this.input.connect(this.activateNode),this.activateCallback&&this.activateCallback(u)):(this.input.disconnect(),this.input.connect(this.output))}},bypass:{get:function(){return this._bypass},set:function(u){this._lastBypassValue!==u&&(this._bypass=u,this.activate(!u),this._lastBypassValue=u)}},connect:{value:function(u){this.output.connect(u)}},disconnect:{value:function(u){this.output.disconnect(u)}},connectInOrder:{value:function(u){for(var O=u.length-1;O--;){if(!u[O].connect)return console.error("AudioNode.connectInOrder: TypeError: Not an AudioNode.",u[O]);u[O+1].input?u[O].connect(u[O+1].input):u[O].connect(u[O+1])}}},getDefaults:{value:function(){var u={};for(var O in this.defaults)u[O]=this.defaults[O].value;return u}},automate:{value:function(u,O,B,G){var P=G?~~(G/1e3):c.currentTime,S=B?~~(B/1e3):0,W=this.defaults[u],J=this[u],he;J?W.automatable?(B?(he="linearRampToValueAtTime",J.cancelScheduledValues(P),J.setValueAtTime(J.value,P)):he="setValueAtTime",J[he](O,S+P)):J=O:console.error("Invalid Property for "+this.name)}}}),E="float",R="boolean",F="string",d="int";ce.exports?ce.exports=x:window.define("Tuna",b);function b(){return x}function x(u){if(!(this instanceof x))return new x(u);var O=typeof window=="undefined"?{}:window;if(O.AudioContext||(O.AudioContext=O.webkitAudioContext),u||(console.log("tuna.js: Missing audio context! Creating a new context for you."),u=O.AudioContext&&new O.AudioContext),!u)throw new Error("Tuna cannot initialize because this environment does not support web audio.");g(u),c=u,U=this}function g(u){if(u.__connectified__===!0)return;var O=u.createGain(),B=Object.getPrototypeOf(Object.getPrototypeOf(O)),G=B.connect;B.connect=P,u.__connectified__=!0;function P(){var S=arguments[0];return arguments[0]=s.isPrototypeOf?s.isPrototypeOf(S)?S.input:S:S.input||S,G.apply(this,arguments),S}}function C(u){return Math.max(0,Math.round(100*Math.pow(2,u/6))/100)}function V(u,O){var B,G,P=0,S=0,W=0,J=0;return B=u.toExponential().match(/^.\.?(.*)e(.+)$/),P=parseInt(B[2],10)-(B[1]+"").length,B=O.toExponential().match(/^.\.?(.*)e(.+)$/),S=parseInt(B[2],10)-(B[1]+"").length,S>P&&(P=S),G=u%O,P<-100||P>20?(W=Math.round(Math.log(G)/Math.log(10)),J=Math.pow(10,W),(G/J).toFixed(W-P)*J):parseFloat(G.toFixed(-P))}function ve(u){return u===0?1:Math.abs(u)/u}function te(u){return(Math.exp(u)-Math.exp(-u))/(Math.exp(u)+Math.exp(-u))}function k(u,O){return u===void 0?O:u}x.prototype.Bitcrusher=function(u){u||(u=this.getDefaults()),this.bufferSize=u.bufferSize||this.defaults.bufferSize.value,this.input=c.createGain(),this.activateNode=c.createGain(),this.processor=c.createScriptProcessor(this.bufferSize,1,1),this.output=c.createGain(),this.activateNode.connect(this.processor),this.processor.connect(this.output);var O=0,B=0,G,P,S,W,J;this.processor.onaudioprocess=function(he){for(G=he.inputBuffer.getChannelData(0),P=he.outputBuffer.getChannelData(0),S=Math.pow(1/2,this.bits),J=G.length,W=0;W<J;W++)O+=this.normfreq,O>=1&&(O-=1,B=S*Math.floor(G[W]/S+.5)),P[W]=B},this.bits=u.bits||this.defaults.bits.value,this.normfreq=k(u.normfreq,this.defaults.normfreq.value),this.bypass=u.bypass||this.defaults.bypass.value},x.prototype.Bitcrusher.prototype=Object.create(s,{name:{value:"Bitcrusher"},defaults:{writable:!0,value:{bits:{value:4,min:1,max:16,automatable:!1,type:d},bufferSize:{value:4096,min:256,max:16384,automatable:!1,type:d},bypass:{value:!1,automatable:!1,type:R},normfreq:{value:.1,min:1e-4,max:1,automatable:!1,type:E}}},bits:{enumerable:!0,get:function(){return this.processor.bits},set:function(u){this.processor.bits=u}},normfreq:{enumerable:!0,get:function(){return this.processor.normfreq},set:function(u){this.processor.normfreq=u}}}),x.prototype.Cabinet=function(u){u||(u=this.getDefaults()),this.input=c.createGain(),this.activateNode=c.createGain(),this.convolver=this.newConvolver(u.impulsePath||"../impulses/impulse_guitar.wav"),this.makeupNode=c.createGain(),this.output=c.createGain(),this.activateNode.connect(this.convolver.input),this.convolver.output.connect(this.makeupNode),this.makeupNode.connect(this.output),this.makeupNode.gain.value=k(u.makeupGain,this.defaults.makeupGain.value),this.bypass=u.bypass||this.defaults.bypass.value},x.prototype.Cabinet.prototype=Object.create(s,{name:{value:"Cabinet"},defaults:{writable:!0,value:{makeupGain:{value:1,min:0,max:20,automatable:!0,type:E},bypass:{value:!1,automatable:!1,type:R}}},makeupGain:{enumerable:!0,get:function(){return this.makeupNode.gain},set:function(u){this.makeupNode.gain.setTargetAtTime(u,c.currentTime,.01)}},newConvolver:{value:function(u){return new U.Convolver({impulse:u,dryLevel:0,wetLevel:1})}}}),x.prototype.Chorus=function(u){u||(u=this.getDefaults()),this.input=c.createGain(),this.attenuator=this.activateNode=c.createGain(),this.splitter=c.createChannelSplitter(2),this.delayL=c.createDelay(),this.delayR=c.createDelay(),this.feedbackGainNodeLR=c.createGain(),this.feedbackGainNodeRL=c.createGain(),this.merger=c.createChannelMerger(2),this.output=c.createGain(),this.lfoL=new U.LFO({target:this.delayL.delayTime,callback:re}),this.lfoR=new U.LFO({target:this.delayR.delayTime,callback:re}),this.input.connect(this.attenuator),this.attenuator.connect(this.output),this.attenuator.connect(this.splitter),this.splitter.connect(this.delayL,0),this.splitter.connect(this.delayR,1),this.delayL.connect(this.feedbackGainNodeLR),this.delayR.connect(this.feedbackGainNodeRL),this.feedbackGainNodeLR.connect(this.delayR),this.feedbackGainNodeRL.connect(this.delayL),this.delayL.connect(this.merger,0,0),this.delayR.connect(this.merger,0,1),this.merger.connect(this.output),this.feedback=k(u.feedback,this.defaults.feedback.value),this.rate=k(u.rate,this.defaults.rate.value),this.delay=k(u.delay,this.defaults.delay.value),this.depth=k(u.depth,this.defaults.depth.value),this.lfoR.phase=Math.PI/2,this.attenuator.gain.value=.6934,this.lfoL.activate(!0),this.lfoR.activate(!0),this.bypass=u.bypass||this.defaults.bypass.value},x.prototype.Chorus.prototype=Object.create(s,{name:{value:"Chorus"},defaults:{writable:!0,value:{feedback:{value:.4,min:0,max:.95,automatable:!1,type:E},delay:{value:.0045,min:0,max:1,automatable:!1,type:E},depth:{value:.7,min:0,max:1,automatable:!1,type:E},rate:{value:1.5,min:0,max:8,automatable:!1,type:E},bypass:{value:!1,automatable:!1,type:R}}},delay:{enumerable:!0,get:function(){return this._delay},set:function(u){this._delay=2e-4*(Math.pow(10,u)*2),this.lfoL.offset=this._delay,this.lfoR.offset=this._delay,this._depth=this._depth}},depth:{enumerable:!0,get:function(){return this._depth},set:function(u){this._depth=u,this.lfoL.oscillation=this._depth*this._delay,this.lfoR.oscillation=this._depth*this._delay}},feedback:{enumerable:!0,get:function(){return this._feedback},set:function(u){this._feedback=u,this.feedbackGainNodeLR.gain.setTargetAtTime(this._feedback,c.currentTime,.01),this.feedbackGainNodeRL.gain.setTargetAtTime(this._feedback,c.currentTime,.01)}},rate:{enumerable:!0,get:function(){return this._rate},set:function(u){this._rate=u,this.lfoL.frequency=this._rate,this.lfoR.frequency=this._rate}}}),x.prototype.Compressor=function(u){u||(u=this.getDefaults()),this.input=c.createGain(),this.compNode=this.activateNode=c.createDynamicsCompressor(),this.makeupNode=c.createGain(),this.output=c.createGain(),this.compNode.connect(this.makeupNode),this.makeupNode.connect(this.output),this.automakeup=k(u.automakeup,this.defaults.automakeup.value),this.automakeup?this.makeupNode.gain.value=C(this.computeMakeup()):this.makeupNode.gain.value=C(k(u.makeupGain,this.defaults.makeupGain.value)),this.threshold=k(u.threshold,this.defaults.threshold.value),this.release=k(u.release,this.defaults.release.value),this.attack=k(u.attack,this.defaults.attack.value),this.ratio=u.ratio||this.defaults.ratio.value,this.knee=k(u.knee,this.defaults.knee.value),this.bypass=u.bypass||this.defaults.bypass.value},x.prototype.Compressor.prototype=Object.create(s,{name:{value:"Compressor"},defaults:{writable:!0,value:{threshold:{value:-20,min:-60,max:0,automatable:!0,type:E},release:{value:250,min:10,max:2e3,automatable:!0,type:E},makeupGain:{value:1,min:1,max:100,automatable:!0,type:E},attack:{value:1,min:0,max:1e3,automatable:!0,type:E},ratio:{value:4,min:1,max:50,automatable:!0,type:E},knee:{value:5,min:0,max:40,automatable:!0,type:E},automakeup:{value:!1,automatable:!1,type:R},bypass:{value:!1,automatable:!1,type:R}}},computeMakeup:{value:function(){var u=4,O=this.compNode;return-(O.threshold.value-O.threshold.value/O.ratio.value)/u}},automakeup:{enumerable:!0,get:function(){return this._automakeup},set:function(u){this._automakeup=u,this._automakeup&&(this.makeupGain=this.computeMakeup())}},threshold:{enumerable:!0,get:function(){return this.compNode.threshold},set:function(u){this.compNode.threshold.value=u,this._automakeup&&(this.makeupGain=this.computeMakeup())}},ratio:{enumerable:!0,get:function(){return this.compNode.ratio},set:function(u){this.compNode.ratio.value=u,this._automakeup&&(this.makeupGain=this.computeMakeup())}},knee:{enumerable:!0,get:function(){return this.compNode.knee},set:function(u){this.compNode.knee.value=u,this._automakeup&&(this.makeupGain=this.computeMakeup())}},attack:{enumerable:!0,get:function(){return this.compNode.attack},set:function(u){this.compNode.attack.value=u/1e3}},release:{enumerable:!0,get:function(){return this.compNode.release},set:function(u){this.compNode.release.value=u/1e3}},makeupGain:{enumerable:!0,get:function(){return this.makeupNode.gain},set:function(u){this.makeupNode.gain.setTargetAtTime(C(u),c.currentTime,.01)}}}),x.prototype.Convolver=function(u){u||(u=this.getDefaults()),this.input=c.createGain(),this.activateNode=c.createGain(),this.convolver=c.createConvolver(),this.dry=c.createGain(),this.filterLow=c.createBiquadFilter(),this.filterHigh=c.createBiquadFilter(),this.wet=c.createGain(),this.output=c.createGain(),this.activateNode.connect(this.filterLow),this.activateNode.connect(this.dry),this.filterLow.connect(this.filterHigh),this.filterHigh.connect(this.convolver),this.convolver.connect(this.wet),this.wet.connect(this.output),this.dry.connect(this.output),this.dry.gain.value=k(u.dryLevel,this.defaults.dryLevel.value),this.wet.gain.value=k(u.wetLevel,this.defaults.wetLevel.value),this.filterHigh.frequency.value=u.highCut||this.defaults.highCut.value,this.filterLow.frequency.value=u.lowCut||this.defaults.lowCut.value,this.output.gain.value=k(u.level,this.defaults.level.value),this.filterHigh.type="lowpass",this.filterLow.type="highpass",this.buffer=u.impulse||"../impulses/ir_rev_short.wav",this.bypass=u.bypass||this.defaults.bypass.value},x.prototype.Convolver.prototype=Object.create(s,{name:{value:"Convolver"},defaults:{writable:!0,value:{highCut:{value:22050,min:20,max:22050,automatable:!0,type:E},lowCut:{value:20,min:20,max:22050,automatable:!0,type:E},dryLevel:{value:1,min:0,max:1,automatable:!0,type:E},wetLevel:{value:1,min:0,max:1,automatable:!0,type:E},level:{value:1,min:0,max:1,automatable:!0,type:E},bypass:{value:!1,automatable:!1,type:R}}},lowCut:{get:function(){return this.filterLow.frequency},set:function(u){this.filterLow.frequency.setTargetAtTime(u,c.currentTime,.01)}},highCut:{get:function(){return this.filterHigh.frequency},set:function(u){this.filterHigh.frequency.setTargetAtTime(u,c.currentTime,.01)}},level:{get:function(){return this.output.gain},set:function(u){this.output.gain.setTargetAtTime(u,c.currentTime,.01)}},dryLevel:{get:function(){return this.dry.gain},set:function(u){this.dry.gain.setTargetAtTime(u,c.currentTime,.01)}},wetLevel:{get:function(){return this.wet.gain},set:function(u){this.wet.gain.setTargetAtTime(u,c.currentTime,.01)}},buffer:{enumerable:!1,get:function(){return this.convolver.buffer},set:function(u){var O=this.convolver,B=new XMLHttpRequest;if(!u){console.log("Tuna.Convolver.setBuffer: Missing impulse path!");return}B.open("GET",u,!0),B.responseType="arraybuffer",B.onreadystatechange=function(){B.readyState===4&&(B.status<300&&B.status>199||B.status===302)&&c.decodeAudioData(B.response,function(G){O.buffer=G},function(G){G&&console.log("Tuna.Convolver.setBuffer: Error decoding data"+G)})},B.send(null)}}}),x.prototype.Delay=function(u){u||(u=this.getDefaults()),this.input=c.createGain(),this.activateNode=c.createGain(),this.dry=c.createGain(),this.wet=c.createGain(),this.filter=c.createBiquadFilter(),this.delay=c.createDelay(10),this.feedbackNode=c.createGain(),this.output=c.createGain(),this.activateNode.connect(this.delay),this.activateNode.connect(this.dry),this.delay.connect(this.filter),this.filter.connect(this.feedbackNode),this.feedbackNode.connect(this.delay),this.feedbackNode.connect(this.wet),this.wet.connect(this.output),this.dry.connect(this.output),this.delayTime=u.delayTime||this.defaults.delayTime.value,this.feedbackNode.gain.value=k(u.feedback,this.defaults.feedback.value),this.wet.gain.value=k(u.wetLevel,this.defaults.wetLevel.value),this.dry.gain.value=k(u.dryLevel,this.defaults.dryLevel.value),this.filter.frequency.value=u.cutoff||this.defaults.cutoff.value,this.filter.type="lowpass",this.bypass=u.bypass||this.defaults.bypass.value},x.prototype.Delay.prototype=Object.create(s,{name:{value:"Delay"},defaults:{writable:!0,value:{delayTime:{value:100,min:20,max:1e3,automatable:!1,type:E},feedback:{value:.45,min:0,max:.9,automatable:!0,type:E},cutoff:{value:2e4,min:20,max:2e4,automatable:!0,type:E},wetLevel:{value:.5,min:0,max:1,automatable:!0,type:E},dryLevel:{value:1,min:0,max:1,automatable:!0,type:E},bypass:{value:!1,automatable:!1,type:R}}},delayTime:{enumerable:!0,get:function(){return this.delay.delayTime},set:function(u){this.delay.delayTime.value=u/1e3}},wetLevel:{enumerable:!0,get:function(){return this.wet.gain},set:function(u){this.wet.gain.setTargetAtTime(u,c.currentTime,.01)}},dryLevel:{enumerable:!0,get:function(){return this.dry.gain},set:function(u){this.dry.gain.setTargetAtTime(u,c.currentTime,.01)}},feedback:{enumerable:!0,get:function(){return this.feedbackNode.gain},set:function(u){this.feedbackNode.gain.setTargetAtTime(u,c.currentTime,.01)}},cutoff:{enumerable:!0,get:function(){return this.filter.frequency},set:function(u){this.filter.frequency.setTargetAtTime(u,c.currentTime,.01)}}}),x.prototype.Filter=function(u){u||(u=this.getDefaults()),this.input=c.createGain(),this.activateNode=c.createGain(),this.filter=c.createBiquadFilter(),this.output=c.createGain(),this.activateNode.connect(this.filter),this.filter.connect(this.output),this.filter.frequency.value=u.frequency||this.defaults.frequency.value,this.Q=u.resonance||this.defaults.Q.value,this.filterType=k(u.filterType,this.defaults.filterType.value),this.filter.gain.value=k(u.gain,this.defaults.gain.value),this.bypass=u.bypass||this.defaults.bypass.value},x.prototype.Filter.prototype=Object.create(s,{name:{value:"Filter"},defaults:{writable:!0,value:{frequency:{value:800,min:20,max:22050,automatable:!0,type:E},Q:{value:1,min:.001,max:100,automatable:!0,type:E},gain:{value:0,min:-40,max:40,automatable:!0,type:E},bypass:{value:!1,automatable:!1,type:R},filterType:{value:"lowpass",automatable:!1,type:F}}},filterType:{enumerable:!0,get:function(){return this.filter.type},set:function(u){this.filter.type=u}},Q:{enumerable:!0,get:function(){return this.filter.Q},set:function(u){this.filter.Q.value=u}},gain:{enumerable:!0,get:function(){return this.filter.gain},set:function(u){this.filter.gain.setTargetAtTime(u,c.currentTime,.01)}},frequency:{enumerable:!0,get:function(){return this.filter.frequency},set:function(u){this.filter.frequency.setTargetAtTime(u,c.currentTime,.01)}}}),x.prototype.Gain=function(u){u||(u=this.getDefaults()),this.input=c.createGain(),this.activateNode=c.createGain(),this.gainNode=c.createGain(),this.output=c.createGain(),this.activateNode.connect(this.gainNode),this.gainNode.connect(this.output),this.gainNode.gain.value=k(u.gain,this.defaults.gain.value),this.bypass=u.bypass||this.defaults.bypass.value},x.prototype.Gain.prototype=Object.create(s,{name:{value:"Gain"},defaults:{writable:!0,value:{bypass:{value:!1,automatable:!1,type:R},gain:{value:1,automatable:!0,type:E}}},gain:{enumerable:!0,get:function(){return this.gainNode.gain},set:function(u){this.gainNode.gain.setTargetAtTime(u,c.currentTime,.01)}}}),x.prototype.MoogFilter=function(u){u||(u=this.getDefaults()),this.bufferSize=u.bufferSize||this.defaults.bufferSize.value,this.input=c.createGain(),this.activateNode=c.createGain(),this.processor=c.createScriptProcessor(this.bufferSize,1,1),this.output=c.createGain(),this.activateNode.connect(this.processor),this.processor.connect(this.output);var O,B,G,P,S,W,J,he;O=B=G=P=S=W=J=he=0;var Ee,wt,Le,qt,He,kt,ut;this.processor.onaudioprocess=function(Ht){for(Ee=Ht.inputBuffer.getChannelData(0),wt=Ht.outputBuffer.getChannelData(0),Le=this.cutoff*1.16,ut=.35013*(Le*Le)*(Le*Le),qt=this.resonance*(1-.15*Le*Le),kt=Ee.length,He=0;He<kt;He++)Ee[He]-=he*qt,Ee[He]*=ut,S=Ee[He]+.3*O+(1-Le)*S,O=Ee[He],W=S+.3*B+(1-Le)*W,B=S,J=W+.3*G+(1-Le)*J,G=W,he=J+.3*P+(1-Le)*he,P=J,wt[He]=he},this.cutoff=k(u.cutoff,this.defaults.cutoff.value),this.resonance=k(u.resonance,this.defaults.resonance.value),this.bypass=u.bypass||this.defaults.bypass.value},x.prototype.MoogFilter.prototype=Object.create(s,{name:{value:"MoogFilter"},defaults:{writable:!0,value:{bufferSize:{value:4096,min:256,max:16384,automatable:!1,type:d},bypass:{value:!1,automatable:!1,type:R},cutoff:{value:.065,min:1e-4,max:1,automatable:!1,type:E},resonance:{value:3.5,min:0,max:4,automatable:!1,type:E}}},cutoff:{enumerable:!0,get:function(){return this.processor.cutoff},set:function(u){this.processor.cutoff=u}},resonance:{enumerable:!0,get:function(){return this.processor.resonance},set:function(u){this.processor.resonance=u}}}),x.prototype.Overdrive=function(u){u||(u=this.getDefaults()),this.input=c.createGain(),this.activateNode=c.createGain(),this.inputDrive=c.createGain(),this.waveshaper=c.createWaveShaper(),this.outputDrive=c.createGain(),this.output=c.createGain(),this.activateNode.connect(this.inputDrive),this.inputDrive.connect(this.waveshaper),this.waveshaper.connect(this.outputDrive),this.outputDrive.connect(this.output),this.ws_table=new Float32Array(this.k_nSamples),this.drive=k(u.drive,this.defaults.drive.value),this.outputGain=k(u.outputGain,this.defaults.outputGain.value),this.curveAmount=k(u.curveAmount,this.defaults.curveAmount.value),this.algorithmIndex=k(u.algorithmIndex,this.defaults.algorithmIndex.value),this.bypass=u.bypass||this.defaults.bypass.value},x.prototype.Overdrive.prototype=Object.create(s,{name:{value:"Overdrive"},defaults:{writable:!0,value:{drive:{value:1,min:0,max:1,automatable:!0,type:E,scaled:!0},outputGain:{value:0,min:-46,max:0,automatable:!0,type:E,scaled:!0},curveAmount:{value:.725,min:0,max:1,automatable:!1,type:E},algorithmIndex:{value:0,min:0,max:5,automatable:!1,type:d},bypass:{value:!1,automatable:!1,type:R}}},k_nSamples:{value:8192},drive:{get:function(){return this.inputDrive.gain},set:function(u){this._drive=u}},curveAmount:{get:function(){return this._curveAmount},set:function(u){this._curveAmount=u,this._algorithmIndex===void 0&&(this._algorithmIndex=0),this.waveshaperAlgorithms[this._algorithmIndex](this._curveAmount,this.k_nSamples,this.ws_table),this.waveshaper.curve=this.ws_table}},outputGain:{get:function(){return this.outputDrive.gain},set:function(u){this._outputGain=C(u),this.outputDrive.gain.setValueAtTime(this._outputGain,c.currentTime,.01)}},algorithmIndex:{get:function(){return this._algorithmIndex},set:function(u){this._algorithmIndex=u,this.curveAmount=this._curveAmount}},waveshaperAlgorithms:{value:[function(u,O,B){u=Math.min(u,.9999);var G=2*u/(1-u),P,S;for(P=0;P<O;P++)S=P*2/O-1,B[P]=(1+G)*S/(1+G*Math.abs(S))},function(u,O,B){var G,P,S;for(G=0;G<O;G++)P=G*2/O-1,S=(.5*Math.pow(P+1.4,2)-1)*S>=0?5.8:1.2,B[G]=te(S)},function(u,O,B){var G,P,S,W=1-u;for(G=0;G<O;G++)P=G*2/O-1,S=P<0?-Math.pow(Math.abs(P),W+.04):Math.pow(P,W),B[G]=te(S*2)},function(u,O,B){var G,P,S,W,J=1-u>.99?.99:1-u;for(G=0;G<O;G++)P=G*2/O-1,W=Math.abs(P),W<J?S=W:W>J?S=J+(W-J)/(1+Math.pow((W-J)/(1-J),2)):W>1&&(S=W),B[G]=ve(P)*S*(1/((J+1)/2))},function(u,O,B){var G,P;for(G=0;G<O;G++)P=G*2/O-1,P<-.08905?B[G]=-3/4*(1-Math.pow(1-(Math.abs(P)-.032857),12)+1/3*(Math.abs(P)-.032847))+.01:P>=-.08905&&P<.320018?B[G]=-6.153*(P*P)+3.9375*P:B[G]=.630035},function(u,O,B){var G=2+Math.round(u*14),P=Math.round(Math.pow(2,G-1)),S,W;for(S=0;S<O;S++)W=S*2/O-1,B[S]=Math.round(W*P)/P}]}}),x.prototype.Panner=function(u){u||(u=this.getDefaults()),this.input=c.createGain(),this.activateNode=c.createGain(),this.panner=c.createStereoPanner(),this.output=c.createGain(),this.activateNode.connect(this.panner),this.panner.connect(this.output),this.pan=k(u.pan,this.defaults.pan.value),this.bypass=u.bypass||this.defaults.bypass.value},x.prototype.Panner.prototype=Object.create(s,{name:{value:"Panner"},defaults:{writable:!0,value:{bypass:{value:!1,automatable:!1,type:R},pan:{value:0,min:-1,max:1,automatable:!0,type:E}}},pan:{enumerable:!0,get:function(){return this.panner.pan},set:function(u){this.panner.pan.value=u}}}),x.prototype.Phaser=function(u){u||(u=this.getDefaults()),this.input=c.createGain(),this.splitter=this.activateNode=c.createChannelSplitter(2),this.filtersL=[],this.filtersR=[],this.feedbackGainNodeL=c.createGain(),this.feedbackGainNodeR=c.createGain(),this.merger=c.createChannelMerger(2),this.filteredSignal=c.createGain(),this.output=c.createGain(),this.lfoL=new U.LFO({target:this.filtersL,callback:this.callback}),this.lfoR=new U.LFO({target:this.filtersR,callback:this.callback});for(var O=this.stage;O--;)this.filtersL[O]=c.createBiquadFilter(),this.filtersR[O]=c.createBiquadFilter(),this.filtersL[O].type="allpass",this.filtersR[O].type="allpass";this.input.connect(this.splitter),this.input.connect(this.output),this.splitter.connect(this.filtersL[0],0,0),this.splitter.connect(this.filtersR[0],1,0),this.connectInOrder(this.filtersL),this.connectInOrder(this.filtersR),this.filtersL[this.stage-1].connect(this.feedbackGainNodeL),this.filtersL[this.stage-1].connect(this.merger,0,0),this.filtersR[this.stage-1].connect(this.feedbackGainNodeR),this.filtersR[this.stage-1].connect(this.merger,0,1),this.feedbackGainNodeL.connect(this.filtersL[0]),this.feedbackGainNodeR.connect(this.filtersR[0]),this.merger.connect(this.output),this.rate=k(u.rate,this.defaults.rate.value),this.baseModulationFrequency=u.baseModulationFrequency||this.defaults.baseModulationFrequency.value,this.depth=k(u.depth,this.defaults.depth.value),this.feedback=k(u.feedback,this.defaults.feedback.value),this.stereoPhase=k(u.stereoPhase,this.defaults.stereoPhase.value),this.lfoL.activate(!0),this.lfoR.activate(!0),this.bypass=u.bypass||this.defaults.bypass.value},x.prototype.Phaser.prototype=Object.create(s,{name:{value:"Phaser"},stage:{value:4},defaults:{writable:!0,value:{rate:{value:.1,min:0,max:8,automatable:!1,type:E},depth:{value:.6,min:0,max:1,automatable:!1,type:E},feedback:{value:.7,min:0,max:1,automatable:!1,type:E},stereoPhase:{value:40,min:0,max:180,automatable:!1,type:E},baseModulationFrequency:{value:700,min:500,max:1500,automatable:!1,type:E},bypass:{value:!1,automatable:!1,type:R}}},callback:{value:function(u,O){for(var B=0;B<4;B++)u[B].frequency.value=O}},depth:{get:function(){return this._depth},set:function(u){this._depth=u,this.lfoL.oscillation=this._baseModulationFrequency*this._depth,this.lfoR.oscillation=this._baseModulationFrequency*this._depth}},rate:{get:function(){return this._rate},set:function(u){this._rate=u,this.lfoL.frequency=this._rate,this.lfoR.frequency=this._rate}},baseModulationFrequency:{enumerable:!0,get:function(){return this._baseModulationFrequency},set:function(u){this._baseModulationFrequency=u,this.lfoL.offset=this._baseModulationFrequency,this.lfoR.offset=this._baseModulationFrequency,this.depth=this._depth}},feedback:{get:function(){return this._feedback},set:function(u){this._feedback=u,this.feedbackGainNodeL.gain.setTargetAtTime(this._feedback,c.currentTime,.01),this.feedbackGainNodeR.gain.setTargetAtTime(this._feedback,c.currentTime,.01)}},stereoPhase:{get:function(){return this._stereoPhase},set:function(u){this._stereoPhase=u;var O=this.lfoL._phase+this._stereoPhase*Math.PI/180;O=V(O,2*Math.PI),this.lfoR._phase=O}}}),x.prototype.PingPongDelay=function(u){u||(u=this.getDefaults()),this.input=c.createGain(),this.wet=c.createGain(),this.stereoToMonoMix=c.createGain(),this.feedbackLevel=c.createGain(),this.output=c.createGain(),this.delayLeft=c.createDelay(10),this.delayRight=c.createDelay(10),this.activateNode=c.createGain(),this.splitter=c.createChannelSplitter(2),this.merger=c.createChannelMerger(2),this.activateNode.connect(this.splitter),this.splitter.connect(this.stereoToMonoMix,0,0),this.splitter.connect(this.stereoToMonoMix,1,0),this.stereoToMonoMix.gain.value=.5,this.stereoToMonoMix.connect(this.wet),this.wet.connect(this.delayLeft),this.feedbackLevel.connect(this.wet),this.delayLeft.connect(this.delayRight),this.delayRight.connect(this.feedbackLevel),this.delayLeft.connect(this.merger,0,0),this.delayRight.connect(this.merger,0,1),this.merger.connect(this.output),this.activateNode.connect(this.output),this.delayTimeLeft=u.delayTimeLeft!==void 0?u.delayTimeLeft:this.defaults.delayTimeLeft.value,this.delayTimeRight=u.delayTimeRight!==void 0?u.delayTimeRight:this.defaults.delayTimeRight.value,this.feedbackLevel.gain.value=u.feedback!==void 0?u.feedback:this.defaults.feedback.value,this.wet.gain.value=u.wetLevel!==void 0?u.wetLevel:this.defaults.wetLevel.value,this.bypass=u.bypass||this.defaults.bypass.value},x.prototype.PingPongDelay.prototype=Object.create(s,{name:{value:"PingPongDelay"},delayTimeLeft:{enumerable:!0,get:function(){return this._delayTimeLeft},set:function(u){this._delayTimeLeft=u,this.delayLeft.delayTime.value=u/1e3}},delayTimeRight:{enumerable:!0,get:function(){return this._delayTimeRight},set:function(u){this._delayTimeRight=u,this.delayRight.delayTime.value=u/1e3}},wetLevel:{enumerable:!0,get:function(){return this.wet.gain},set:function(u){this.wet.gain.setTargetAtTime(u,c.currentTime,.01)}},feedback:{enumerable:!0,get:function(){return this.feedbackLevel.gain},set:function(u){this.feedbackLevel.gain.setTargetAtTime(u,c.currentTime,.01)}},defaults:{writable:!0,value:{delayTimeLeft:{value:200,min:1,max:1e4,automatable:!1,type:d},delayTimeRight:{value:400,min:1,max:1e4,automatable:!1,type:d},feedback:{value:.3,min:0,max:1,automatable:!0,type:E},wetLevel:{value:.5,min:0,max:1,automatable:!0,type:E},bypass:{value:!1,automatable:!1,type:R}}}}),x.prototype.Tremolo=function(u){u||(u=this.getDefaults()),this.input=c.createGain(),this.splitter=this.activateNode=c.createChannelSplitter(2),this.amplitudeL=c.createGain(),this.amplitudeR=c.createGain(),this.merger=c.createChannelMerger(2),this.output=c.createGain(),this.lfoL=new U.LFO({target:this.amplitudeL.gain,callback:re}),this.lfoR=new U.LFO({target:this.amplitudeR.gain,callback:re}),this.input.connect(this.splitter),this.splitter.connect(this.amplitudeL,0),this.splitter.connect(this.amplitudeR,1),this.amplitudeL.connect(this.merger,0,0),this.amplitudeR.connect(this.merger,0,1),this.merger.connect(this.output),this.rate=u.rate||this.defaults.rate.value,this.intensity=k(u.intensity,this.defaults.intensity.value),this.stereoPhase=k(u.stereoPhase,this.defaults.stereoPhase.value),this.lfoL.offset=1-this.intensity/2,this.lfoR.offset=1-this.intensity/2,this.lfoL.phase=this.stereoPhase*Math.PI/180,this.lfoL.activate(!0),this.lfoR.activate(!0),this.bypass=u.bypass||this.defaults.bypass.value},x.prototype.Tremolo.prototype=Object.create(s,{name:{value:"Tremolo"},defaults:{writable:!0,value:{intensity:{value:.3,min:0,max:1,automatable:!1,type:E},stereoPhase:{value:0,min:0,max:180,automatable:!1,type:E},rate:{value:5,min:.1,max:11,automatable:!1,type:E},bypass:{value:!1,automatable:!1,type:R}}},intensity:{enumerable:!0,get:function(){return this._intensity},set:function(u){this._intensity=u,this.lfoL.offset=1-this._intensity/2,this.lfoR.offset=1-this._intensity/2,this.lfoL.oscillation=this._intensity,this.lfoR.oscillation=this._intensity}},rate:{enumerable:!0,get:function(){return this._rate},set:function(u){this._rate=u,this.lfoL.frequency=this._rate,this.lfoR.frequency=this._rate}},stereoPhase:{enumerable:!0,get:function(){return this._stereoPhase},set:function(u){this._stereoPhase=u;var O=this.lfoL._phase+this._stereoPhase*Math.PI/180;O=V(O,2*Math.PI),this.lfoR.phase=O}}}),x.prototype.WahWah=function(u){u||(u=this.getDefaults()),this.input=c.createGain(),this.activateNode=c.createGain(),this.envelopeFollower=new U.EnvelopeFollower({target:this,callback:function(O,B){O.sweep=B}}),this.filterBp=c.createBiquadFilter(),this.filterPeaking=c.createBiquadFilter(),this.output=c.createGain(),this.activateNode.connect(this.filterBp),this.filterBp.connect(this.filterPeaking),this.filterPeaking.connect(this.output),this.init(),this.automode=k(u.automode,this.defaults.automode.value),this.resonance=u.resonance||this.defaults.resonance.value,this.sensitivity=k(u.sensitivity,this.defaults.sensitivity.value),this.baseFrequency=k(u.baseFrequency,this.defaults.baseFrequency.value),this.excursionOctaves=u.excursionOctaves||this.defaults.excursionOctaves.value,this.sweep=k(u.sweep,this.defaults.sweep.value),this.activateNode.gain.value=2,this.envelopeFollower.activate(!0),this.bypass=u.bypass||this.defaults.bypass.value},x.prototype.WahWah.prototype=Object.create(s,{name:{value:"WahWah"},defaults:{writable:!0,value:{automode:{value:!0,automatable:!1,type:R},baseFrequency:{value:.5,min:0,max:1,automatable:!1,type:E},excursionOctaves:{value:2,min:1,max:6,automatable:!1,type:E},sweep:{value:.2,min:0,max:1,automatable:!1,type:E},resonance:{value:10,min:1,max:100,automatable:!1,type:E},sensitivity:{value:.5,min:-1,max:1,automatable:!1,type:E},bypass:{value:!1,automatable:!1,type:R}}},automode:{get:function(){return this._automode},set:function(u){this._automode=u,u?(this.activateNode.connect(this.envelopeFollower.input),this.envelopeFollower.activate(!0)):(this.envelopeFollower.activate(!1),this.activateNode.disconnect(),this.activateNode.connect(this.filterBp))}},filterFreqTimeout:{writable:!0,value:0},setFilterFreq:{value:function(){try{this.filterBp.frequency.value=Math.min(22050,this._baseFrequency+this._excursionFrequency*this._sweep),this.filterPeaking.frequency.value=Math.min(22050,this._baseFrequency+this._excursionFrequency*this._sweep)}catch{clearTimeout(this.filterFreqTimeout),this.filterFreqTimeout=setTimeout(function(){this.setFilterFreq()}.bind(this),0)}}},sweep:{enumerable:!0,get:function(){return this._sweep},set:function(u){this._sweep=Math.pow(u>1?1:u<0?0:u,this._sensitivity),this.setFilterFreq()}},baseFrequency:{enumerable:!0,get:function(){return this._baseFrequency},set:function(u){this._baseFrequency=50*Math.pow(10,u*2),this._excursionFrequency=Math.min(c.sampleRate/2,this.baseFrequency*Math.pow(2,this._excursionOctaves)),this.setFilterFreq()}},excursionOctaves:{enumerable:!0,get:function(){return this._excursionOctaves},set:function(u){this._excursionOctaves=u,this._excursionFrequency=Math.min(c.sampleRate/2,this.baseFrequency*Math.pow(2,this._excursionOctaves)),this.setFilterFreq()}},sensitivity:{enumerable:!0,get:function(){return this._sensitivity},set:function(u){this._sensitivity=Math.pow(10,u)}},resonance:{enumerable:!0,get:function(){return this._resonance},set:function(u){this._resonance=u,this.filterPeaking.Q.value=this._resonance}},init:{value:function(){this.output.gain.value=1,this.filterPeaking.type="peaking",this.filterBp.type="bandpass",this.filterPeaking.frequency.value=100,this.filterPeaking.gain.value=20,this.filterPeaking.Q.value=5,this.filterBp.frequency.value=100,this.filterBp.Q.value=1}}}),x.prototype.EnvelopeFollower=function(u){u||(u=this.getDefaults()),this.input=c.createGain(),this.jsNode=this.output=c.createScriptProcessor(this.buffersize,1,1),this.input.connect(this.output),this.attackTime=k(u.attackTime,this.defaults.attackTime.value),this.releaseTime=k(u.releaseTime,this.defaults.releaseTime.value),this._envelope=0,this.target=u.target||{},this.callback=u.callback||function(){},this.bypass=u.bypass||this.defaults.bypass.value},x.prototype.EnvelopeFollower.prototype=Object.create(s,{name:{value:"EnvelopeFollower"},defaults:{value:{attackTime:{value:.003,min:0,max:.5,automatable:!1,type:E},releaseTime:{value:.5,min:0,max:.5,automatable:!1,type:E},bypass:{value:!1,automatable:!1,type:R}}},buffersize:{value:256},envelope:{value:0},sampleRate:{value:44100},attackTime:{enumerable:!0,get:function(){return this._attackTime},set:function(u){this._attackTime=u,this._attackC=Math.exp(-1/this._attackTime*this.sampleRate/this.buffersize)}},releaseTime:{enumerable:!0,get:function(){return this._releaseTime},set:function(u){this._releaseTime=u,this._releaseC=Math.exp(-1/this._releaseTime*this.sampleRate/this.buffersize)}},callback:{get:function(){return this._callback},set:function(u){typeof u=="function"?this._callback=u:console.error("tuna.js: "+this.name+": Callback must be a function!")}},target:{get:function(){return this._target},set:function(u){this._target=u}},activate:{value:function(u){this.activated=u,u?(this.jsNode.connect(c.destination),this.jsNode.onaudioprocess=this.returnCompute(this)):(this.jsNode.disconnect(),this.jsNode.onaudioprocess=null),this.activateCallback&&this.activateCallback(u)}},returnCompute:{value:function(u){return function(O){u.compute(O)}}},compute:{value:function(u){var O=u.inputBuffer.getChannelData(0).length,B=u.inputBuffer.numberOfChannels,G,P,S,W;if(P=S=W=0,B>1)for(W=0;W<O;++W)for(;P<B;++P)G=u.inputBuffer.getChannelData(P)[W],S+=G*G/B;else for(W=0;W<O;++W)G=u.inputBuffer.getChannelData(0)[W],S+=G*G;S=Math.sqrt(S),this._envelope<S?(this._envelope*=this._attackC,this._envelope+=(1-this._attackC)*S):(this._envelope*=this._releaseC,this._envelope+=(1-this._releaseC)*S),this._callback(this._target,this._envelope)}}}),x.prototype.LFO=function(u){u||(u=this.getDefaults()),this.input=c.createGain(),this.output=c.createScriptProcessor(256,1,1),this.activateNode=c.destination,this.frequency=k(u.frequency,this.defaults.frequency.value),this.offset=k(u.offset,this.defaults.offset.value),this.oscillation=k(u.oscillation,this.defaults.oscillation.value),this.phase=k(u.phase,this.defaults.phase.value),this.target=u.target||{},this.output.onaudioprocess=this.callback(u.callback||function(){}),this.bypass=u.bypass||this.defaults.bypass.value},x.prototype.LFO.prototype=Object.create(s,{name:{value:"LFO"},bufferSize:{value:256},sampleRate:{value:44100},defaults:{value:{frequency:{value:1,min:0,max:20,automatable:!1,type:E},offset:{value:.85,min:0,max:22049,automatable:!1,type:E},oscillation:{value:.3,min:-22050,max:22050,automatable:!1,type:E},phase:{value:0,min:0,max:2*Math.PI,automatable:!1,type:E},bypass:{value:!1,automatable:!1,type:R}}},frequency:{get:function(){return this._frequency},set:function(u){this._frequency=u,this._phaseInc=2*Math.PI*this._frequency*this.bufferSize/this.sampleRate}},offset:{get:function(){return this._offset},set:function(u){this._offset=u}},oscillation:{get:function(){return this._oscillation},set:function(u){this._oscillation=u}},phase:{get:function(){return this._phase},set:function(u){this._phase=u}},target:{get:function(){return this._target},set:function(u){this._target=u}},activate:{value:function(u){u?(this.output.connect(c.destination),this.activateCallback&&this.activateCallback(u)):this.output.disconnect()}},callback:{value:function(u){var O=this;return function(){O._phase+=O._phaseInc,O._phase>2*Math.PI&&(O._phase=0),u(O._target,O._offset+O._oscillation*Math.sin(O._phase))}}}}),x.toString=x.prototype.toString=function(){return"Please visit https://github.com/Theodeus/tuna/wiki for instructions on how to use Tuna.js"}})()},"./node_modules/webpack/buildin/global.js":function(ce,I){var w;w=function(){return this}();try{w=w||new Function("return this")()}catch{typeof window=="object"&&(w=window)}ce.exports=w},"./node_modules/webpack/buildin/harmony-module.js":function(ce,I){ce.exports=function(w){if(!w.webpackPolyfill){var c=Object.create(w);c.children||(c.children=[]),Object.defineProperty(c,"loaded",{enumerable:!0,get:function(){return c.l}}),Object.defineProperty(c,"id",{enumerable:!0,get:function(){return c.i}}),Object.defineProperty(c,"exports",{enumerable:!0}),c.webpackPolyfill=1}return c}},"./node_modules/webpack/buildin/module.js":function(ce,I){ce.exports=function(w){return w.webpackPolyfill||(w.deprecate=function(){},w.paths=[],w.children||(w.children=[]),Object.defineProperty(w,"loaded",{enumerable:!0,get:function(){return w.l}}),Object.defineProperty(w,"id",{enumerable:!0,get:function(){return w.i}}),w.webpackPolyfill=1),w}},"./src/audio_listener.js":function(ce,I,w){w.r(I),w.d(I,"default",function(){return U});class c{constructor(s,E){this._setFunc=E,this.AudioParamautomationRate="a-rate",this.defaultValue=s,this.maxValue=34028234663852886e22,this.minValue=-34028234663852886e22,this._value=this.defaultValue}get value(){return this._value}set value(s){this._setFunc(s),this._value=s}}class U{constructor(s){this._listener=s.listener,window.listener=this._listener,this.positionX=this._listener.positionX||new c(0,E=>this._listener.setPosition(E,this.positionY.value,this.positionZ.value)),this.positionY=this._listener.positionY||new c(0,E=>this._listener.setPosition(this.positionX.value,E,this.positionZ.value)),this.positionZ=this._listener.positionZ||new c(0,E=>this._listener.setPosition(this.positionX.value,this.positionY.value,E)),this.forwardX=this._listener.forwardX||new c(0,E=>this._listener.setOrientation(E,this.forwardY.value,this.forwardZ.value,this.upX.value,this.upY.value,this.upZ.value)),this.forwardY=this._listener.ForwardY||new c(0,E=>this._listener.setOrientation(this.forwardX.value,E,this.forwardZ.value,this.upX.value,this.upY.value,this.upZ.value)),this.forwardZ=this._listener.forwardZ||new c(-1,E=>this._listener.setOrientation(this.forwardX.value,this.forwardY.value,E,this.upX.value,this.upY.value,this.upZ.value)),this.upX=this._listener.upZ||new c(0,E=>this._listener.setOrientation(this.forwardX.value,this.forwardY.value,this.forwardZ.value,E,this.upY.value,this.upZ.value)),this.upY=this._listener.upY||new c(1,E=>this._listener.setOrientation(this.forwardX.value,this.forwardY.value,this.forwardZ.value,this.upX.value,E,this.upZ.value)),this.upZ=this._listener.upZ||new c(0,E=>this._listener.setOrientation(this.forwardX.value,this.forwardY.value,this.forwardZ.value,this.upX.value,this.upY.value,E))}setPosition(s,E,R){this.positionX.value=s,this.positionY.value=E,this.positionZ.value=R}getPosition(){return[this.positionX.value,this.positionY.value,this.positionZ.value]}setOrientation(s,E,R,F,d,b){this.forwardX.value=s,this.forwardY.value=E,this.forwardZ.value=R,this.upX.value=F,this.upY.value=d,this.upZ.value=b}getOrientation(){return[this.forwardX.value,this.forwardY.value,this.forwardZ.value,this.upX.value,this.upY.value,this.upZ.value]}}},"./src/common.js":function(ce,I,w){w.r(I),w.d(I,"logStats",function(){return d}),w.d(I,"logMessage",function(){return b}),w.d(I,"context",function(){return g}),w.d(I,"noiseBuffer",function(){return ve}),w.d(I,"constructEnv",function(){return te}),w.d(I,"constructFilter",function(){return k}),w.d(I,"requestAudioFile",function(){return u}),w.d(I,"constructVibrato",function(){return O}),w.d(I,"constructTremolo",function(){return B}),w.d(I,"constructReverb",function(){return P}),w.d(I,"constructPanning",function(){return S}),w.d(I,"constructDelay",function(){return W}),w.d(I,"constructCompressor",function(){return Ke}),w.d(I,"getConsent",function(){return he}),w.d(I,"permissionsGranted",function(){return J}),w.d(I,"setUpMic",function(){return Ee}),w.d(I,"setUpPanningOnPlay",function(){return st}),w.d(I,"setUpVibratoOnPlay",function(){return at}),w.d(I,"setUpTremoloOnPlay",function(){return _i}),w.d(I,"setUpDelayOnPlay",function(){return Ct}),w.d(I,"setUpTunaOnPlay",function(){return En}),w.d(I,"plugEmIn",function(){return qt}),w.d(I,"setUpEnvOnPlay",function(){return kt}),w.d(I,"setUpFilterOnPlay",function(){return Ht}),w.d(I,"setUpReverbOnPlay",function(){return Mn}),w.d(I,"filterEnv",function(){return wt}),w.d(I,"playEnv",function(){return Le}),w.d(I,"setUpOscillator",function(){return He}),w.d(I,"createFilters",function(){return ut});var c=w("./node_modules/tunajs/tuna.js"),U=w.n(c),re=w("./src/polywad.js"),s=w("./src/pitches.js"),E=w("./node_modules/lodash/lodash.js"),R=w.n(E);let F=window.AudioContext||window.webkitAudioContext,d={verbosity:0,suppressedLogs:0},b=function(l,m){m=m||1,d.verbosity>=m?console.log(l):d.suppressedLogs++},x=document.querySelector("a-scene"),g;x&&x.audioListener&&x.audioListener.context?(g=x.audioListener.context,b("An A-Frame scene has been detected.")):g=new F;let C=function(){b("unlock",2),g.state==="suspended"?(b("suspended",2),g.resume()):g.state==="running"&&(b("The audio context is running.",2),b(g,2),window.removeEventListener("click",C),window.removeEventListener("touchstart",C),window.removeEventListener("touchend",C))};window.addEventListener("click",C),window.addEventListener("touchstart",C),window.addEventListener("touchend",C);let V=function(l){if(l.navigator.mediaDevices&&l.navigator.mediaDevices.getUserMedia)return l.navigator.mediaDevices.getUserMedia.bind(l.navigator.mediaDevices);let m=l.navigator.getUserMedia||l.navigator.webkitGetUserMedia||l.navigator.mozGetUserMedia;return m?function(L){return new Promise(function(Z,de){m.call(l.navigator,L,Z,de)})}:function(){throw"getUserMedia is unsupported"}}(window);b(V?"Your browser supports getUserMedia.":"Your browser does not support getUserMedia.");let ve=function(){Math.seed=6,Math.seededRandom=function(de,Se){de=de||1,Se=Se||0,Math.seed=(Math.seed*9301+49297)%233280;var St=Math.seed/233280;return Se+St*(de-Se)};for(var l=2*g.sampleRate,m=g.createBuffer(1,l,g.sampleRate),L=m.getChannelData(0),Z=0;Z<l;Z++)L[Z]=Math.seededRandom()*2-1;return m}(),te=function(l){return{attack:R.a.get(l,"env.attack",0),decay:R.a.get(l,"env.decay",0),sustain:R.a.get(l,"env.sustain",1),hold:R.a.get(l,"env.hold",3.14159),release:R.a.get(l,"env.release",0)}},k=function(l){return l.filter?R.a.isArray(l.filter)?l.filter.map(function(m){return{type:m.type||"lowpass",frequency:m.frequency||600,q:m.q||1,env:m.env||null}}):[{type:l.filter.type||"lowpass",frequency:l.filter.frequency||600,q:l.filter.q||1,env:l.filter.env||null}]:null},u=function(l,m){var L=new XMLHttpRequest;L.open("GET",l.source,!0),L.responseType="arraybuffer",l.playable--,L.onload=function(){g.decodeAudioData(L.response,function(Z){l.decodedBuffer=Z,l.env.hold===3.14159&&(l.defaultEnv.hold=l.decodedBuffer.duration*(1/l.rate),l.env.hold=l.decodedBuffer.duration*(1/l.rate)),l.duration=l.env.hold*1e3,m&&m(l),l.playable++,l.playOnLoad&&l.play(l.playOnLoadArg)})},L.send()},O=function(l){return l.vibrato?{shape:R.a.get(l,"vibrato.shape","sine"),speed:R.a.get(l,"vibrato.speed",1),magnitude:R.a.get(l,"vibrato.magnitude",5),attack:R.a.get(l,"vibrato.attack",0)}:null},B=function(l){return l.tremolo?{shape:R.a.get(l,"tremolo.shape","sine"),speed:R.a.get(l,"tremolo.speed",1),magnitude:R.a.get(l,"tremolo.magnitude",5),attack:R.a.get(l,"tremolo.attack",1)}:null},G="https://frivolous.biz/audio/widehall.wav",P=function(l,m){if(m.reverb){var L=m.reverb.impulse||G,Z=new XMLHttpRequest;return Z.open("GET",L,!0),Z.responseType="arraybuffer",l.playable--,Z.onload=function(){g.decodeAudioData(Z.response,function(de){l.reverb.buffer=de,l.playable++,l.playOnLoad&&l.play(l.playOnLoadArg),l instanceof re.default&&l.setUp(m),l.source==="mic"&&l.reverb&&l.reverb.buffer&&l.reverb.node&&!l.reverb.node.buffer&&(l.reverb.node.convolver.buffer=l.reverb.buffer)})},Z.send(),{wet:R.a.get(m,"reverb.wet",1)}}else return null},S=function(l){let m=null;return"panning"in l?(m={location:l.panning},typeof l.panning=="number"?m.type="stereo":(m.type="3d",m.panningModel=l.panningModel||"equalpower",m.distanceModel=l.distanceModel,m.maxDistance=l.maxDistance,m.rolloffFactor=l.rolloffFactor,m.refDistance=l.refDistance,m.coneInnerAngle=l.coneInnerAngle,m.coneOuterAngle=l.coneOuterAngle,m.coneOuterGain=l.coneOuterGain)):m={location:0,type:"stereo"},m.type==="stereo"&&!g.createStereoPanner&&(b("Your browser does not support stereo panning. Falling back to 3D panning."),m={location:[0,0,0],type:"3d",panningModel:"equalpower"}),m},W=function(l){return l.delay?{delayTime:R.a.get(l,"delay.delayTime",.5),maxDelayTime:R.a.get(l,"delay.maxDelayTime",2),feedback:R.a.get(l,"delay.feedback",.25),wet:R.a.get(l,"delay.wet",.25)}:null},J={micConsent:!1},he=function(l,m){return l.nodes=[],l.mediaStreamSource=null,l.gain=null,V({audio:!0,video:!1}).then(function(L){return l.mediaStreamSource=g.createMediaStreamSource(L),J.micConsent=!0,Ee(l,m),l}).catch(function(L){b("Error setting up microphone input: ",L)})},Ee=function(l,m){l.nodes=[],l.gain=g.createGain(),l.gain.gain.value=R.a.get(m,"volume",l.volume),l.nodes.push(l.mediaStreamSource),l.nodes.push(l.gain),(l.filter||m.filter)&&ut(l,m),(l.reverb||m.reverb)&&Mn(l,m),S(l),st(l,m),(l.delay||m.delay)&&Ct(l,m),En(l,m),l.setUpExternalFxOnPlay(m,g)},wt=function(l,m){l.filter.forEach(function(L,Z){L.node.frequency.linearRampToValueAtTime(L.frequency,m.exactTime),L.node.frequency.linearRampToValueAtTime(L.env.frequency,m.exactTime+L.env.attack)})},Le=function(l,m){let L=m.loop||m.loop,Z;l.env.hold===-1||L&&!l.userSetHold&&!(m.env&&m.env.hold)?Z=999:Z=l.env.hold,l.gain[0].gain.linearRampToValueAtTime(1e-4,m.exactTime),l.gain[0].gain.linearRampToValueAtTime(l.volume,m.exactTime+l.env.attack+1e-5),l.gain[0].gain.linearRampToValueAtTime(l.volume*l.env.sustain,m.exactTime+l.env.attack+l.env.decay+2e-5),l.gain[0].gain.linearRampToValueAtTime(l.volume*l.env.sustain,m.exactTime+l.env.attack+l.env.decay+Z+3e-5),l.gain[0].gain.linearRampToValueAtTime(1e-4,m.exactTime+l.env.attack+l.env.decay+Z+l.env.release+4e-5),l.soundSource.start(m.exactTime,m.offset),l.soundSource.playbackRate||l.soundSource.stop(m.exactTime+l.env.attack+l.env.decay+Z+l.env.release+5e-5)},qt=function(l,m){let L=m&&m.destination||l.destination,Z;for(let de=1;de<l.nodes.length;de++){let Se,St;l.nodes[de-1].interface==="custom"?Se=l.nodes[de-1].output:Se=l.nodes[de-1],l.nodes[de].interface==="custom"?St=l.nodes[de].input:St=l.nodes[de],Se.connect(St)}l.nodes[l.nodes.length-1].interface==="custom"?Z=l.nodes[l.nodes.length-1].output:Z=l.nodes[l.nodes.length-1],Z.connect(L)},He=function(l,m){m=m||{},l.soundSource=g.createOscillator(),l.soundSource.type=l.source,m.pitch?m.pitch in s.pitches?l.soundSource.frequency.value=s.pitches[m.pitch]:l.soundSource.frequency.value=m.pitch:l.soundSource.frequency.value=l.pitch},kt=function(l,m){m&&m.env?(l.env.attack=R.a.get(m,"env.attack",l.defaultEnv.attack),l.env.decay=R.a.get(m,"env.decay",l.defaultEnv.decay),l.env.sustain=R.a.get(m,"env.sustain",l.defaultEnv.sustain),l.env.hold=R.a.get(m,"env.hold",l.defaultEnv.hold),l.env.release=R.a.get(m,"env.release",l.defaultEnv.release)):l.env={attack:l.defaultEnv.attack,decay:l.defaultEnv.decay,sustain:l.defaultEnv.sustain,hold:l.defaultEnv.hold,release:l.defaultEnv.release}},ut=function(l,m){m.filter&&!R.a.isArray(m.filter)&&(m.filter=[m.filter]),l.filter.forEach(function(L,Z){L.node=g.createBiquadFilter(),L.node.type=L.type,L.node.frequency.value=m.filter&&m.filter[Z]&&m.filter[Z].frequency||L.frequency,L.node.Q.value=m.filter&&m.filter[Z]&&m.filter[Z].q||L.q,(m.filter&&m.filter[Z].env||l.filter[Z].env)&&l.source!=="mic"&&(L.env={attack:m.filter&&m.filter[Z].env&&m.filter[Z].env.attack||l.filter[Z].env.attack,frequency:m.filter&&m.filter[Z].env&&m.filter[Z].env.frequency||l.filter[Z].env.frequency}),l.nodes.push(L.node)})},Ht=function(l,m){m&&m.filter&&l.filter?(R.a.isArray(m.filter)||(m.filter=[m.filter]),ut(l,m)):l.filter&&ut(l,l)},Mn=function(l,m){var L={interface:"custom",input:g.createGain(),convolver:g.createConvolver(),wet:g.createGain(),output:g.createGain()};L.convolver.buffer=l.reverb.buffer,L.wet.gain.value=l.reverb.wet,L.input.connect(L.convolver),L.input.connect(L.output),L.convolver.connect(L.wet),L.wet.connect(L.output),l.reverb.node=L,l.nodes.push(l.reverb.node)},st=function(l,m){var L=m&&m.panning;typeof L=="undefined"&&(L=l.panning.location),typeof L=="number"&&g.createStereoPanner?(l.panning.node=g.createStereoPanner(),l.panning.node.pan.value=L,l.panning.type="stereo"):(l.panning.node=g.createPanner(),typeof L=="number"?l.panning.node.setPosition(L,0,0):l.panning.node.setPosition(L[0],L[1],L[2]),l.panning.node.panningModel=m.panningModel||l.panningModel||"equalpower",l.panning.type="3d",l.panning.node.distanceModel=m.distanceModel||l.distanceModel||l.panning.node.distanceModel,l.panning.node.maxDistance=m.maxDistance||l.maxDistance||l.panning.node.maxDistance,l.panning.node.rolloffFactor=m.rolloffFactor||l.rolloffFactor||l.panning.node.rolloffFactor,l.panning.node.refDistance=m.refDistance||l.refDistance||l.panning.node.refDistance,l.panning.node.coneInnerAngle=m.coneInnerAngle||l.coneInnerAngle||l.panning.node.coneInnerAngle,l.panning.node.coneOuterAngle=m.coneOuterAngle||l.coneOuterAngle||l.panning.node.coneOuterAngle,l.panning.node.coneOuterGain=m.coneOuterGain||l.coneOuterGain||l.panning.node.coneOuterGain),l.nodes.push(l.panning.node)},at=function(l,m,L){l.vibrato.wad=new L({source:l.vibrato.shape,pitch:l.vibrato.speed,volume:l.vibrato.magnitude,env:{attack:l.vibrato.attack},destination:l.soundSource.frequency}),l.vibrato.wad.play()},_i=function(l,m,L){l.tremolo.wad=new L({source:l.tremolo.shape,pitch:l.tremolo.speed,volume:l.tremolo.magnitude,env:{attack:l.tremolo.attack,hold:10},destination:l.gain[0].gain}),l.tremolo.wad.play()},Ct=function(l,m){if(l.delay){m.delay||(m.delay={});var L={interface:"custom",input:g.createGain(),output:g.createGain(),delayNode:g.createDelay(l.delay.maxDelayTime),feedbackNode:g.createGain(),wetNode:g.createGain()};L.delayNode.delayTime.value=R.a.get(m,"delay.delayTime",l.delay.delayTime),L.feedbackNode.gain.value=R.a.get(m,"delay.feedback",l.delay.feedback),L.wetNode.gain.value=R.a.get(m,"delay.wet",l.delay.wet),L.input.connect(L.delayNode),L.input.connect(L.output),L.delayNode.connect(L.feedbackNode),L.delayNode.connect(L.wetNode),L.feedbackNode.connect(L.delayNode),L.wetNode.connect(L.output),l.delay.delayNode=L,l.nodes.push(L)}},Ke=function(l,m){l.compressor=g.createDynamicsCompressor(),l.compressor.attack.value=R.a.get(m,"compressor.attack",l.compressor.attack.value),l.compressor.knee.value=R.a.get(m,"compressor.knee",l.compressor.knee.value),l.compressor.ratio.value=R.a.get(m,"compressor.ratio",l.compressor.ratio.value),l.compressor.release.value=R.a.get(m,"compressor.release",l.compressor.release.value),l.compressor.threshold.value=R.a.get(m,"compressor.threshold",l.compressor.threshold.value),l.nodes.push(l.compressor)},wi=new U.a(g),En=function(l,m){if(!(l.tuna||m.tuna))return;let L={};if(l.tuna)for(let Z in l.tuna)L[Z]=l.tuna[Z];if(m.tuna)for(let Z in m.tuna)L[Z]=m.tuna[Z];for(let Z in L){let de=new wi[Z](L[Z]);l.nodes.push(de)}}},"./src/main.js":function(ce,I,w){w.r(I),function(c){var U=w("./src/sound_iterator.js"),re=w("./src/polywad.js"),s=w("./src/presets.js"),E=w("./src/pitches.js"),R=w("./src/midi.js"),F=w("./src/wad.js"),d=w("./src/common.js");let b=F.default;b.Poly=re.default,b.SoundIterator=function(x){return new U.default(x,b)},b.pitches=E.pitches,b.pitchesArray=E.pitchesArray,b.midiMap=R.midiMap,b.assignMidiMap=R.assignMidiMap,b.midiInstrument=R.midiInstrument,b.midiInputs=R.midiInputs,b.presets=s.default,b._common=d,b.logs=d.logStats,c.exports&&(c.exports=b),I.default=b}.call(this,w("./node_modules/webpack/buildin/harmony-module.js")(ce))},"./src/midi.js":function(ce,I,w){w.r(I),w.d(I,"midiMap",function(){return R}),w.d(I,"assignMidiMap",function(){return re}),w.d(I,"midiInstrument",function(){return s}),w.d(I,"midiInputs",function(){return E});var c=w("./src/common.js"),U=w("./src/pitches.js");let re=function(b,x,g,C){x=x||0,navigator.requestMIDIAccess().then(function(){E[x]?(E[x].onmidimessage=b,typeof g=="function"&&g()):typeof C=="function"&&C()})},s={play:function(){Object(c.logMessage)("playing midi")},stop:function(){Object(c.logMessage)("stopping midi")}},E=[],R=function(b){Object(c.logMessage)(b.receivedTime,b.data,2),b.data[0]===144?b.data[2]===0?(Object(c.logMessage)("Playing note: ",2),Object(c.logMessage)(U.pitchesArray[b.data[1]-12],2),s.stop(U.pitchesArray[b.data[1]-12])):b.data[2]>0&&(Object(c.logMessage)("Stopping note: ",2),Object(c.logMessage)(U.pitchesArray[b.data[1]-12],2),s.play({pitch:U.pitchesArray[b.data[1]-12],label:U.pitchesArray[b.data[1]-12]})):b.data[0]===176?(Object(c.logMessage)("controller"),b.data[1]==46&&(b.data[2]==127?s.pedalMod=!0:b.data[2]==0&&(s.pedalMod=!1))):b.data[0]===224&&Object(c.logMessage)("pitch bend")},F=function(b){E=[];for(var x=b.inputs.values(),g=x.next();!g.done;g=x.next())E.push(g.value);Object(c.logMessage)("MIDI inputs: "),Object(c.logMessage)(E);for(var C=0;C<E.length;C++)E[C].onmidimessage=R},d=function(b){Object(c.logMessage)("Failed to get MIDI access",b)};(async function(){if(navigator&&navigator.requestMIDIAccess)try{let b=await navigator.requestMIDIAccess();F(b)}catch{d()}})()},"./src/pitches.js":function(ce,I,w){w.r(I),w.d(I,"pitches",function(){return c}),w.d(I,"pitchesArray",function(){return U});let c={A0:27.5,"A#0":29.1352,Bb0:29.1352,B0:30.8677,"B#0":32.7032,Cb1:30.8677,C1:32.7032,"C#1":34.6478,Db1:34.6478,D1:36.7081,"D#1":38.8909,Eb1:38.8909,E1:41.2034,Fb1:41.2034,"E#1":43.6535,F1:43.6535,"F#1":46.2493,Gb1:46.2493,G1:48.9994,"G#1":51.9131,Ab1:51.9131,A1:55,"A#1":58.2705,Bb1:58.2705,B1:61.7354,Cb2:61.7354,"B#1":65.4064,C2:65.4064,"C#2":69.2957,Db2:69.2957,D2:73.4162,"D#2":77.7817,Eb2:77.7817,E2:82.4069,Fb2:82.4069,"E#2":87.3071,F2:87.3071,"F#2":92.4986,Gb2:92.4986,G2:97.9989,"G#2":103.826,Ab2:103.826,A2:110,"A#2":116.541,Bb2:116.541,B2:123.471,Cb3:123.471,"B#2":130.813,C3:130.813,"C#3":138.591,Db3:138.591,D3:146.832,"D#3":155.563,Eb3:155.563,E3:164.814,Fb3:164.814,"E#3":174.614,F3:174.614,"F#3":184.997,Gb3:184.997,G3:195.998,"G#3":207.652,Ab3:207.652,A3:220,"A#3":233.082,Bb3:233.082,B3:246.942,Cb4:246.942,"B#3":261.626,C4:261.626,"C#4":277.183,Db4:277.183,D4:293.665,"D#4":311.127,Eb4:311.127,E4:329.628,Fb4:329.628,"E#4":349.228,F4:349.228,"F#4":369.994,Gb4:369.994,G4:391.995,"G#4":415.305,Ab4:415.305,A4:440,"A#4":466.164,Bb4:466.164,B4:493.883,Cb5:493.883,"B#4":523.251,C5:523.251,"C#5":554.365,Db5:554.365,D5:587.33,"D#5":622.254,Eb5:622.254,E5:659.255,Fb5:659.255,"E#5":698.456,F5:698.456,"F#5":739.989,Gb5:739.989,G5:783.991,"G#5":830.609,Ab5:830.609,A5:880,"A#5":932.328,Bb5:932.328,B5:987.767,Cb6:987.767,"B#5":1046.5,C6:1046.5,"C#6":1108.73,Db6:1108.73,D6:1174.66,"D#6":1244.51,Eb6:1244.51,Fb6:1318.51,E6:1318.51,"E#6":1396.91,F6:1396.91,"F#6":1479.98,Gb6:1479.98,G6:1567.98,"G#6":1661.22,Ab6:1661.22,A6:1760,"A#6":1864.66,Bb6:1864.66,B6:1975.53,Cb7:1975.53,"B#6":2093,C7:2093,"C#7":2217.46,Db7:2217.46,D7:2349.32,"D#7":2489.02,Eb7:2489.02,E7:2637.02,Fb7:2637.02,"E#7":2793.83,F7:2793.83,"F#7":2959.96,Gb7:2959.96,G7:3135.96,"G#7":3322.44,Ab7:3322.44,A7:3520,"A#7":3729.31,Bb7:3729.31,B7:3951.07,Cb8:3951.07,"B#7":4186.01,C8:4186.01},U=["C0","C#0","D0","D#0","E0","F0","F#0","G0","G#0","A0","A#0","B0","C1","C#1","D1","D#1","E1","F1","F#1","G1","G#1","A1","A#1","B1","C2","C#2","D2","D#2","E2","F2","F#2","G2","G#2","A2","A#2","B2","C3","C#3","D3","D#3","E3","F3","F#3","G3","G#3","A3","A#3","B3","C4","C#4","D4","D#4","E4","F4","F#4","G4","G#4","A4","A#4","B4","C5","C#5","D5","D#5","E5","F5","F#5","G5","G#5","A5","A#5","B5","C6","C#6","D6","D#6","E6","F6","F#6","G6","G#6","A6","A#6","B6","C7","C#7","D7","D#7","E7","F7","F#7","G7","G#7","A7","A#7","B7","C8"]},"./src/polywad.js":function(ce,I,w){w.r(I);var c=w("./src/common.js"),U=w("./src/pitches.js");let re=2048,s=new Uint8Array(re),E=function(g){let C=12*(Math.log(g/440)/Math.log(2));return Math.round(C)+69},R=function(g,C){let V=4,ve=1e3,te=1e3,k=-1,u=0,O=0,B=!1;if(g.length<te+ve-V)return-1;for(let P=0;P<te;P++){let S=(g[P]-128)/128;O+=S*S}if(O=Math.sqrt(O/te),O<.01)return-1;let G=1;for(let P=V;P<=ve;P++){let S=0;for(let W=0;W<te;W++)S+=Math.abs((g[W]-128)/128-(g[W+P]-128)/128);if(S=1-S/te,S>.9&&S>G)B=!0;else if(B)return C/k;G=S,S>u&&(u=S,k=P)}return u>.01?C/k:-1},F=function(g){let C=g.inputBuffer.getChannelData(0),V=C.length,ve=0,te;for(let u=0;u<V;u++)te=C[u],Math.abs(te)>=this.clipLevel&&(this.clipping=!0,this.lastClip=window.performance.now()),ve+=te*te;let k=Math.sqrt(ve/V);this.volume=Math.max(k,this.volume*this.averaging)};function d(g,C,V,ve){let te=g.createScriptProcessor(512);return te.onaudioprocess=F,te.clipping=!1,te.lastClip=0,te.volume=0,te.clipLevel=C||.98,te.averaging=V||.95,te.clipLag=ve||750,te.connect(g.destination),te.checkClipping=function(){return this.clipping?(this.lastClip+this.clipLag<window.performance.now()&&(this.clipping=!1),this.clipping):!1},te.shutdown=function(){this.disconnect(),this.onaudioprocess=null},te}let b=function(g,C){g.recorder={},g.recorder.mediaStreamDestination=c.context.createMediaStreamDestination(),g.output.connect(g.recorder.mediaStreamDestination),g.recorder.mediaRecorder=new MediaRecorder(g.recorder.mediaStreamDestination.stream,C.recorder.options||{mimeType:"audio/webm"}),g.recorder.chunks=[],g.recorder.mediaRecorder.ondataavailable=function(V){g.recorder.chunks.push(V.data)},g.recorder.mediaRecorder.onstop=C.recorder.onstop||function(V){let ve=new Blob(this.recorder.chunks,{type:"audio/webm;codecs=opus"});window.open(URL.createObjectURL(ve))},g.recorder.mediaRecorder.onstop=g.recorder.mediaRecorder.onstop.bind(g);for(let V of["start","stop","pause","resume","requestData"])g.recorder[V]=g.recorder.mediaRecorder[V].bind(g.recorder.mediaRecorder)};const x=function(g){g||(g={}),this.isSetUp=!1,this.playable=1,g.reverb?this.reverb=Object(c.constructReverb)(this,g):this.setUp(g)};x.prototype.setUp=function(g){this.wads=[],this.input=c.context.createAnalyser(),this.input.fftSize=2048,this.nodes=[this.input],this.destination=g.destination||c.context.destination,this.volume=g.volume||1,this.gain=c.context.createGain(),this.gain.gain.value=this.volume,this.output=c.context.createAnalyser(),this.tuna=g.tuna||null,this.audioMeter=null,this.recorder=null,g.audioMeter&&(this.audioMeter=d(c.context,g.audioMeter.clipLevel,g.audioMeter.averaging,g.audioMeter.clipLag),this.output.connect(this.audioMeter)),Object(c.constructFilter)(this,g),this.filter&&Object(c.createFilters)(this,g),this.reverb&&Object(c.setUpReverbOnPlay)(this,g),this.constructExternalFx(g,c.context),this.panning=Object(c.constructPanning)(g),Object(c.setUpPanningOnPlay)(this,g),g.compressor&&Object(c.constructCompressor)(this,g),g.recorder&&b(this,g),Object(c.constructDelay)(this,g),Object(c.setUpDelayOnPlay)(this,g),Object(c.setUpTunaOnPlay)(this,g),this.nodes.push(this.gain),this.nodes.push(this.output),Object(c.plugEmIn)(this,g),this.isSetUp=!0,g.callback&&g.callback(this)},x.prototype.updatePitch=function(g){this.input.getByteTimeDomainData(s);let C=R(s,c.context.sampleRate);if(C!==-1&&C!==11025&&C!==12e3){let ve=C;this.pitch=Math.floor(ve);let te=E(ve);this.noteName=U.pitchesArray[te-12]}let V=this;V.rafID=window.requestAnimationFrame(function(){V.updatePitch()})},x.prototype.stopUpdatingPitch=function(){cancelAnimationFrame(this.rafID)},x.prototype.setVolume=function(g){return this.isSetUp?this.gain.gain.value=g:Object(c.logMessage)("This PolyWad is not set up yet."),this},x.prototype.setPitch=function(g){this.wads.forEach(function(C){return g in U.pitches?(C.soundSource&&(C.soundSource.frequency.value=U.pitches[g]),C.pitch=U.pitches[g]):(C.soundSource&&(C.soundSource.frequency.value=g),C.pitch=g),this})},x.prototype.setPanning=function(g,C){Wad.prototype.setPanning.call(this,g,C)},x.prototype.play=function(g){if(this.isSetUp)if(this.playable<1)this.playOnLoad=!0,this.playOnLoadArg=g;else{g&&g.volume&&(this.gain.gain.value=g.volume,g.volume=void 0);for(var C=0;C<this.wads.length;C++)this.wads[C].play(g)}else Object(c.logMessage)("This PolyWad is not set up yet.");return this},x.prototype.stop=function(g){if(this.isSetUp)for(let C=0;C<this.wads.length;C++)this.wads[C].stop(g)},x.prototype.add=function(g){return this.isSetUp?(g.destination=this.input,this.wads.push(g),g instanceof x&&(g.output.disconnect(0),g.output.connect(this.input))):Object(c.logMessage)("This PolyWad is not set up yet."),this},x.prototype.remove=function(g){if(this.isSetUp)for(let C=0;C<this.wads.length;C++)this.wads[C]===g&&(this.wads[C].destination=c.context.destination,this.wads.splice(C,1),g instanceof x&&(g.output.disconnect(0),g.output.connect(c.context.destination)));return this},x.prototype.constructExternalFx=function(g,C){},I.default=x},"./src/presets.js":function(ce,I,w){w.r(I);let c={hiHatClosed:{source:"noise",env:{attack:.001,decay:.008,sustain:.2,hold:.03,release:.01},filter:{type:"highpass",frequency:400,q:1}},snare:{source:"noise",env:{attack:.001,decay:.01,sustain:.2,hold:.03,release:.02},filter:{type:"bandpass",frequency:300,q:.18}},hiHatOpen:{source:"noise",env:{attack:.001,decay:.008,sustain:.2,hold:.43,release:.01},filter:{type:"highpass",frequency:100,q:.2}},ghost:{source:"square",volume:.3,env:{attack:.01,decay:.002,sustain:.5,hold:2.5,release:.3},filter:{type:"lowpass",frequency:600,q:7,env:{attack:.7,frequency:1600}},vibrato:{attack:8,speed:8,magnitude:100}},piano:{source:"square",volume:1.4,env:{attack:.01,decay:.005,sustain:.2,hold:.015,release:.3},filter:{type:"lowpass",frequency:1200,q:8.5,env:{attack:.2,frequency:600}}}};I.default=c},"./src/sound_iterator.js":function(ce,I,w){w.r(I);function c(F,d){return d!=null&&typeof Symbol!="undefined"&&d[Symbol.hasInstance]?d[Symbol.hasInstance](F):F instanceof d}function U(F,d){if(!c(F,d))throw new TypeError("Cannot call a class as a function")}function re(F,d){for(var b=0;b<d.length;b++){var x=d[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(F,x.key,x)}}function s(F,d,b){return d&&re(F.prototype,d),b&&re(F,b),F}function E(F,d,b){return d in F?Object.defineProperty(F,d,{value:b,enumerable:!0,configurable:!0,writable:!0}):F[d]=b,F}var R=function(){function F(d,b){U(this,F),this.Wad=b,d=Object.assign({},F.defaultArgs,d),this.files=d.files,this.sounds=this.files.map(function(x){return x.play?x:new b({source:x})}),this.randomSounds=this.sounds.slice(),this.random=d.random,this.randomPlaysBeforeRepeat=this.sounds.length>3&&d.randomPlaysBeforeRepeat<this.sounds.length-1?d.randomPlaysBeforeRepeat:0,this.index=0,this.waitingSounds=[]}return s(F,[{key:"play",value:function(){var b=this,x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.sounds.length)return 0;if(this.random){var g=Math.floor(Math.random()*this.randomSounds.length),C=this.randomSounds[g];return this.index=this.sounds.indexOf(C),this.waitingSounds=this.waitingSounds.filter(function(ve){return ve.plays-=1,ve.plays<1?(b.randomSounds.push(ve.sound),null):!0}),this.randomPlaysBeforeRepeat&&(this.randomSounds.splice(g,1),this.waitingSounds.push({plays:this.randomPlaysBeforeRepeat,sound:C})),C.play(x)}else{var V=this.sounds[this.index]?this.sounds[this.index].play(x):void 0;return this.index+=1,this.index>=this.sounds.length&&(this.index=0),V}}},{key:"add",value:function(b){return b.play||(b=new this.Wad({source:b})),this.sounds.push(b),this.randomSounds.push(b),this}},{key:"remove",value:function(b){var x=this.sounds.indexOf(b);if(x===-1)throw new Error("That sound does not exist: ".concat(b));this.sounds.splice(x,1);var g=this.randomSounds.indexOf(b);return g===-1?this.waitingSounds=this.waitingSounds.filter(function(C){return C.sound!==b}):this.randomSounds.splice(g,1),this}}]),F}();E(R,"defaultArgs",{files:[],random:!1,randomPlaysBeforeRepeat:0}),I.default=R},"./src/wad.js":function(ce,I,w){w.r(I);var c=w("./node_modules/tunajs/tuna.js"),U=w.n(c),re=w("./src/audio_listener.js"),s=w("./src/common.js"),E=w("./node_modules/lodash/lodash.js"),R=w.n(E);let F=function(d){if(this.source=d.source,this.destination=d.destination||s.context.destination,this.volume=R.a.get(d,"volume",1),this.defaultVolume=this.volume,this.playable=1,this.pitch=F.pitches[d.pitch]||d.pitch||440,this.gain=[],this.detune=d.detune||0,this.offset=d.offset||0,this.loop=d.loop||!1,this.tuna=d.tuna||null,this.rate=d.rate||1,this.sprite=d.sprite||null,this.env=Object(s.constructEnv)(d),this.defaultEnv=Object(s.constructEnv)(d),this.userSetHold=!!(d.env&&d.env.hold),this.filter=Object(s.constructFilter)(d),this.vibrato=Object(s.constructVibrato)(d),this.tremolo=Object(s.constructTremolo)(d),this.panning=Object(s.constructPanning)(d),this.delay=Object(s.constructDelay)(d),this.reverb=Object(s.constructReverb)(this,d),this.duration=(this.env.attack+this.env.decay+this.env.hold+this.env.release)*(1/this.rate)*1e3,this.constructExternalFx(d,s.context),this.source==="noise")this.decodedBuffer=s.noiseBuffer;else if(this.source==="mic")Object(s.getConsent)(this,d);else if(this.source in{sine:0,sawtooth:0,square:0,triangle:0})d.callback&&d.callback(this);else if(Object(s.requestAudioFile)(this,d.callback),this.sprite){var b=this;for(var x in this.sprite)this[x]={sprite:this.sprite[x],play:function(g){return g=g||{},g.env=g.env||{},g.env.hold=this.sprite[1]-this.sprite[0],g.offset=this.sprite[0],b.play(g)}}}F.allWads.push(this)};F.allWads=[],F.audioContext=s.context,F.listener=new re.default(s.context),typeof U.a!=null&&(F.tuna=new U.a(F.audioContext)),F.prototype.constructExternalFx=function(d,b){},F.prototype.setUpExternalFxOnPlay=function(d,b){},F.prototype.play=function(d){if(d=d||{arg:null},this.playable<1)this.playOnLoad=!0,this.playOnLoadArg=d;else if(this.source==="mic")s.permissionsGranted.micConsent?d.arg===null?Object(s.plugEmIn)(this,d):(this.filter=Object(s.constructFilter)(d),this.vibrato=Object(s.constructVibrato)(d),this.tremolo=Object(s.constructTremolo)(d),this.reverb=Object(s.constructReverb)(d),this.panning=Object(s.constructPanning)(d),this.delay=Object(s.constructDelay)(d),this.constructExternalFx(d,s.context),Object(s.setUpMic)(this,d),Object(s.plugEmIn)(this,d)):(Object(s.logMessage)("You have not given your browser permission to use your microphone."),Object(s.getConsent)(this,d).then(()=>{this.play(d)}));else{this.nodes=[],d.wait||(d.wait=0),d.volume?this.volume=d.volume:this.volume=this.defaultVolume,d.offset=d.offset||this.offset||0,this.source in{sine:0,sawtooth:0,square:0,triangle:0}?Object(s.setUpOscillator)(this,d):(this.soundSource=s.context.createBufferSource(),this.soundSource.buffer=this.decodedBuffer,(this.source==="noise"||this.loop||d.loop)&&(this.soundSource.loop=!0)),this.soundSource.detune&&(this.soundSource.detune.value=d.detune||this.detune),d.wait===void 0&&(d.wait=0),d.exactTime===void 0&&(d.exactTime=s.context.currentTime+d.wait),this.lastPlayedTime=d.exactTime-d.offset,this.nodes.push(this.soundSource),Object(s.setUpEnvOnPlay)(this,d),this.soundSource.playbackRate&&(this.soundSource.playbackRate.value=d.rate||this.rate,this.env.hold=this.env.hold*(1/this.soundSource.playbackRate.value)),Object(s.setUpFilterOnPlay)(this,d),Object(s.setUpTunaOnPlay)(this,d),this.setUpExternalFxOnPlay(d,s.context),this.gain.unshift(s.context.createGain()),this.gain[0].label=d.label,this.gain[0].soundSource=this.soundSource,this.nodes.push(this.gain[0]),this.gain.length>15&&(this.gain.length=15),this.reverb&&Object(s.setUpReverbOnPlay)(this,d),Object(s.setUpPanningOnPlay)(this,d),Object(s.setUpDelayOnPlay)(this,d),Object(s.plugEmIn)(this,d),this.filter&&this.filter[0].env&&Object(s.filterEnv)(this,d),Object(s.playEnv)(this,d),this.vibrato&&Object(s.setUpVibratoOnPlay)(this,d,F),this.tremolo&&Object(s.setUpTremoloOnPlay)(this,d,F);var b=this;if(this.soundSource.onended=function(x){b.playPromiseResolve(b)},!d.unpause)return this.playPromise=new Promise(function(x,g){b.playPromiseResolve=x}),this.playPromise}d.callback&&d.callback(this)},F.prototype.setVolume=function(d,b,x){if(x){if(this.gain.length>0)for(let g=0;g<this.gain.length;g++)this.gain[g].label===x&&this.gain[g].gain.setValueAtTime(d,s.context.currentTime)}else this.defaultVolume=d,this.gain.length>0&&this.gain[0].gain.setValueAtTime(d,s.context.currentTime);return this},F.prototype.reverse=function(){this.decodedBuffer?(Array.prototype.reverse.call(this.decodedBuffer.getChannelData(0)),Array.prototype.reverse.call(this.decodedBuffer.getChannelData(1))):Object(s.logMessage)("You tried to reverse something that isn't reversible")},F.prototype.setRate=function(d){var b;return d&&d>0?b=d:b=0,this.soundSource?this.soundSource.playbackRate.value=b:Object(s.logMessage)("Sorry, but the wad does not contain a soundSource!"),this},F.prototype.setPitch=function(d,b,x){if(b=b||.01,x)for(let g=0;g<this.gain.length;g++)this.gain[g].label===x&&(d in F.pitches?this.gain[g].soundSource.frequency.setTargetAtTime(F.pitches[d],s.context.currentTime,b):this.soundSource.frequency.settargetAtTime(d,s.context.currentTime,b));else d in F.pitches?(this.soundSource&&(this.soundSource.frequency.value=F.pitches[d]),this.pitch=F.pitches[d]):(this.soundSource&&(this.soundSource.frequency.value=d),this.pitch=d);return this},F.prototype.setDetune=function(d,b,x){if(b=b||.01,x)for(let g=0;g<this.gain.length;g++)this.gain[g].label===x&&this.gain[g].soundSource.detune.setTargetAtTime(d,s.context.currentTime,b);else this.soundSource.detune.setTargetAtTime(d,s.context.currentTime,b);return this},F.prototype.setPanning=function(d,b){return b=b||.01,typeof d=="number"&&!s.context.createStereoPanner&&(d=[d,0,0]),this.panning.location=d,R.a.isArray(d)&&this.panning.type==="3d"&&this.panning.node?this.panning.node.setPosition(d[0],d[1],d[2]):typeof d=="number"&&this.panning.type==="stereo"&&this.panning.node&&this.panning.node.pan.setTargetAtTime(d,s.context.currentTime,b),R.a.isArray(d)?this.panning.type="3d":typeof d=="number"&&(this.panning.type="stereo"),this},F.prototype.setReverb=function(d){var b;return d&&d>0&&d<1?b=d:d>=1?b=1:b=0,this.reverb?(this.reverb.wet=b,this.reverb.node&&(this.reverb.node.wet.gain.value=b)):Object(s.logMessage)("Sorry, but the wad does not contain Reverb!"),this},F.prototype.setDelay=function(d,b,x){var g;d&&d>0?g=d:g=0;var C;b&&b>0&&b<1?C=b:b>=1?C=1:C=0;var V;return x&&x>0&&x<1?V=x:x>=1?V=1:V=0,this.delay?(this.delay.delayTime=g,this.delay.wet=C,this.delay.feedback=V,this.delay.delayNode&&(this.delay.delayNode.delayNode.delayTime.value=g,this.delay.delayNode.wetNode.gain.value=C,this.delay.delayNode.feedbackNode.gain.value=V)):Object(s.logMessage)("Sorry, but the wad does not contain delay!",2),this},F.prototype.pause=function(d){this.pauseTime=s.context.currentTime,this.soundSource.onended=null,this.stop(d)},F.prototype.unpause=function(d){d=d||{},d.unpause=!0,this.pauseTime&&this.lastPlayedTime!=null?d.offset=this.pauseTime-this.lastPlayedTime:Object(s.logMessage)("You tried to unpause a wad that was not played and paused, so it just played normally instead.",2),this.play(d)},F.prototype.stop=function(d){if(this.source!=="mic")if(this.gain&&this.gain.length){if(d)for(var b=0;b<this.gain.length;b++)this.gain[b].label===d&&(this.gain[b].gain.cancelScheduledValues(s.context.currentTime),this.gain[b].gain.setValueAtTime(this.gain[b].gain.value,s.context.currentTime),this.gain[b].gain.linearRampToValueAtTime(1e-4,s.context.currentTime+this.env.release));else if(!d){this.gain[0].gain.cancelScheduledValues(s.context.currentTime),this.gain[0].gain.setValueAtTime(this.gain[0].gain.value,s.context.currentTime),this.gain[0].gain.linearRampToValueAtTime(1e-4,s.context.currentTime+this.env.release);try{this.soundSource.stop(s.context.currentTime+this.env.release)}catch(g){Object(s.logMessage)(g,2);var x=this;setTimeout(function(){x.soundSource.dispatchEvent(new Event("ended")),x.soundSource.onended=null},this.env.release*1e3)}}}else{Object(s.logMessage)("You tried to stop a Wad that never played. ",2),Object(s.logMessage)(this,2);return}else s.permissionsGranted.micConsent?this.mediaStreamSource.disconnect(0):Object(s.logMessage)("You have not given your browser permission to use your microphone.");this.tremolo&&this.tremolo.wad.stop()},F.stopAll=function(d){for(var b=0;b<F.allWads.length;b++)F.allWads[b].stop(d)},F.setVolume=function(d){for(var b=0;b<F.allWads.length;b++)F.allWads[b].setVolume(d)},I.default=F}}).default})})(_a);var fv=av(_a.exports);export{fv as W};
